{"ast":null,"code":"var _jsxFileName = \"/Users/esbenvahr/Desktop/NEW FINAL/app/src/components/BalticSeaTracker.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef, useCallback, useMemo, memo } from 'react';\nimport { Info, Ship, Menu, ZoomIn, ZoomOut, Radar, Waves, Layers, Wind } from 'lucide-react';\nimport '../styles/palantir-theme.css';\nimport { GoogleMap, useJsApiLoader, Marker, Circle, Polyline, Polygon } from '@react-google-maps/api';\n\n// Add CSS for simulation animations\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst simulationStyles = `\n  @keyframes flash {\n    0% { opacity: 0.3; }\n    50% { opacity: 0.5; }\n    100% { opacity: 0.3; }\n  }\n  \n  @keyframes pulse {\n    0% { transform: scale(0.6); opacity: 0.7; }\n    50% { transform: scale(0.9); opacity: 0.3; }\n    100% { transform: scale(1.2); opacity: 0; }\n  }\n  \n  .detected-vessel {\n    animation: flash 1s infinite;\n  }\n  \n  /* Add animation to SVG elements created by Google Maps */\n  .gm-style > div:first-child > div:nth-child(3) > div:nth-child(2) > div:nth-child(4) circle.radar-pulse {\n    animation: pulse 2s ease-out;\n    transform-origin: center center;\n  }\n`;\n\n// Memoized components for better performance\nconst MemoizedMarker = /*#__PURE__*/memo(Marker);\n_c = MemoizedMarker;\nconst MemoizedCircle = /*#__PURE__*/memo(Circle);\n_c2 = MemoizedCircle;\nconst MemoizedPolygon = /*#__PURE__*/memo(Polygon);\n_c3 = MemoizedPolygon;\nconst BalticSeaTracker = () => {\n  _s();\n  // Add style tag for animations\n  useEffect(() => {\n    const styleTag = document.createElement('style');\n    styleTag.innerHTML = simulationStyles;\n    document.head.appendChild(styleTag);\n    return () => {\n      document.head.removeChild(styleTag);\n    };\n  }, []);\n  const [vessels, setVessels] = useState([]);\n  const [selectedVessel, setSelectedVessel] = useState(null);\n  const [filter, setFilter] = useState('all');\n  const [showSidebar, setShowSidebar] = useState(true);\n  const [displayMode, setDisplayMode] = useState('radar'); // 'radar', 'sonar', or 'fused'\n  const [showWindFarms, setShowWindFarms] = useState(false);\n  const [showRadarCoverage, setShowRadarCoverage] = useState(false); // New state for radar coverage\n  const [showVesselRadar, setShowVesselRadar] = useState(false); // State for vessel radar coverage (300-2999 GT)\n  const [showLargeVesselRadar, setShowLargeVesselRadar] = useState(false); // New state for large vessel radar (>3000 GT)\n  const [mapBounds, setMapBounds] = useState(null); // Track current map bounds\n  const [currentZoom, setCurrentZoom] = useState(6); // Track current zoom level\n  const [mapKey, setMapKey] = useState(Date.now()); // Add key to force remount of map components\n  const [simulationEnabled, setSimulationEnabled] = useState(false); // Track if vessel movement simulation is enabled\n  const [simulationSpeed, setSimulationSpeed] = useState(10); // Simulation speed multiplier (default 10x)\n  const animationFrameRef = useRef(null); // Reference to store animation frame ID\n  const lastUpdateTimeRef = useRef(Date.now()); // Reference to store last update time\n\n  // New simulation states\n  const [seameshSimulationActive, setSeameshSimulationActive] = useState(false);\n  const [seameshSimulationStep, setSeameshSimulationStep] = useState(0);\n  const [warshipDetectionRate, setWarshipDetectionRate] = useState(0);\n  const [droneDetectionRate, setDroneDetectionRate] = useState(0);\n  const [flashScreen, setFlashScreen] = useState(false);\n  const [flashCount, setFlashCount] = useState(0);\n  const [flashingRadarCircles, setFlashingRadarCircles] = useState([]);\n  const [simulationComplete, setSimulationComplete] = useState(false);\n  const simulationTimerRef = useRef(null);\n  const zoomRef = useRef(null);\n  const mapRef = useRef(null);\n\n  // Google Maps settings\n  const mapCenter = {\n    lat: 59,\n    lng: 19\n  }; // Center on Baltic Sea\n  const mapZoom = 6;\n\n  // Add state to track current map center\n  const [currentMapCenter, setCurrentMapCenter] = useState(mapCenter);\n\n  // Memoize map style to prevent recalculations\n  const mapStyle = useMemo(() => getMapStyle(displayMode), [displayMode]);\n  const mapOptions = useMemo(() => ({\n    disableDefaultUI: true,\n    zoomControl: false,\n    styles: mapStyle,\n    draggable: true,\n    // Ensure map is draggable\n    // Hide cities with population under 5000\n    restrictions: {\n      latLngBounds: {\n        north: 66.0,\n        south: 54.0,\n        east: 30.0,\n        west: 9.0\n      }\n    }\n  }), [mapStyle]);\n  const {\n    isLoaded,\n    loadError\n  } = useJsApiLoader({\n    id: 'google-map-script',\n    googleMapsApiKey: 'AIzaSyAl-iGmFThUduVpLpE7sQTmniBSUPtzJjA',\n    libraries: ['geometry', 'drawing']\n  });\n\n  // Create a ref to track if Google Maps loaded\n  const mapsLoadedRef = useRef(false);\n\n  // Log any errors with Google Maps loading\n  useEffect(() => {\n    if (loadError) {\n      console.error('Error loading Google Maps:', loadError);\n    }\n    if (isLoaded && !mapsLoadedRef.current) {\n      console.log('Google Maps API loaded successfully');\n      mapsLoadedRef.current = true;\n    }\n  }, [isLoaded, loadError]);\n\n  // Function to get map style based on display mode\n  function getMapStyle(mode) {\n    switch (mode) {\n      case 'radar':\n        return [{\n          elementType: \"geometry\",\n          stylers: [{\n            color: \"#212121\"\n          }]\n        }, {\n          elementType: \"labels.text.stroke\",\n          stylers: [{\n            color: \"#212121\"\n          }]\n        }, {\n          elementType: \"labels.text.fill\",\n          stylers: [{\n            color: \"#746855\"\n          }]\n        }, {\n          featureType: \"water\",\n          elementType: \"geometry\",\n          stylers: [{\n            color: \"#181818\"\n          }]\n        }, {\n          featureType: \"water\",\n          elementType: \"labels.text.fill\",\n          stylers: [{\n            color: \"#3d3d3d\"\n          }]\n        }, {\n          featureType: \"poi\",\n          stylers: [{\n            visibility: \"off\"\n          }]\n        }, {\n          featureType: \"transit\",\n          stylers: [{\n            visibility: \"off\"\n          }]\n        }, {\n          featureType: \"road\",\n          stylers: [{\n            visibility: \"off\"\n          }]\n        },\n        // Hide smaller cities/towns\n        {\n          featureType: \"administrative.locality\",\n          elementType: \"labels\",\n          stylers: [{\n            visibility: \"off\"\n          }]\n        },\n        // Only show major cities\n        {\n          featureType: \"administrative.locality\",\n          elementType: \"labels\",\n          filter: [\">=\", [\"get\", \"population\"], 10000],\n          stylers: [{\n            visibility: \"on\"\n          }]\n        }];\n      case 'sonar':\n        return [{\n          elementType: \"geometry\",\n          stylers: [{\n            color: \"#003545\"\n          }]\n        }, {\n          elementType: \"labels.text.stroke\",\n          stylers: [{\n            color: \"#003545\"\n          }]\n        }, {\n          elementType: \"labels.text.fill\",\n          stylers: [{\n            color: \"#00C8FF\"\n          }]\n        }, {\n          featureType: \"water\",\n          elementType: \"geometry\",\n          stylers: [{\n            color: \"#001E29\"\n          }]\n        }, {\n          featureType: \"water\",\n          elementType: \"labels.text.fill\",\n          stylers: [{\n            color: \"#00E5FF\"\n          }]\n        }, {\n          featureType: \"poi\",\n          stylers: [{\n            visibility: \"off\"\n          }]\n        }, {\n          featureType: \"transit\",\n          stylers: [{\n            visibility: \"off\"\n          }]\n        }, {\n          featureType: \"road\",\n          stylers: [{\n            visibility: \"off\"\n          }]\n        },\n        // Hide smaller cities/towns\n        {\n          featureType: \"administrative.locality\",\n          elementType: \"labels\",\n          stylers: [{\n            visibility: \"off\"\n          }]\n        },\n        // Only show major cities\n        {\n          featureType: \"administrative.locality\",\n          elementType: \"labels\",\n          filter: [\">=\", [\"get\", \"population\"], 10000],\n          stylers: [{\n            visibility: \"on\"\n          }]\n        }];\n      case 'fused':\n        return [{\n          elementType: \"geometry\",\n          stylers: [{\n            color: \"#142639\"\n          }]\n        }, {\n          elementType: \"labels.text.stroke\",\n          stylers: [{\n            color: \"#142639\"\n          }]\n        }, {\n          elementType: \"labels.text.fill\",\n          stylers: [{\n            color: \"#3D85C6\"\n          }]\n        }, {\n          featureType: \"water\",\n          elementType: \"geometry\",\n          stylers: [{\n            color: \"#0A1C2A\"\n          }]\n        }, {\n          featureType: \"water\",\n          elementType: \"labels.text.fill\",\n          stylers: [{\n            color: \"#4a90e2\"\n          }]\n        }, {\n          featureType: \"poi\",\n          stylers: [{\n            visibility: \"off\"\n          }]\n        }, {\n          featureType: \"transit\",\n          stylers: [{\n            visibility: \"off\"\n          }]\n        }, {\n          featureType: \"road\",\n          stylers: [{\n            visibility: \"off\"\n          }]\n        },\n        // Hide smaller cities/towns\n        {\n          featureType: \"administrative.locality\",\n          elementType: \"labels\",\n          stylers: [{\n            visibility: \"off\"\n          }]\n        },\n        // Only show major cities\n        {\n          featureType: \"administrative.locality\",\n          elementType: \"labels\",\n          filter: [\">=\", [\"get\", \"population\"], 10000],\n          stylers: [{\n            visibility: \"on\"\n          }]\n        }];\n      default:\n        return [];\n    }\n  }\n\n  // Function to generate a random coordinate within Baltic Sea\n  const randomCoordinate = () => {\n    // Combine shipping lanes with wider dispersal areas\n    const shippingLanes = [\n    // Main shipping lanes (lower weight than before to reduce clustering)\n    // Danish Straits to St. Petersburg\n    {\n      minLat: 54.5,\n      maxLat: 55.2,\n      minLng: 10.8,\n      maxLng: 13.0,\n      weight: 5\n    },\n    // Danish Straits entrance\n    {\n      minLat: 55.0,\n      maxLat: 55.8,\n      minLng: 12.8,\n      maxLng: 14.5,\n      weight: 4\n    },\n    // Route east of Denmark\n    {\n      minLat: 55.3,\n      maxLat: 56.2,\n      minLng: 14.5,\n      maxLng: 16.5,\n      weight: 4\n    },\n    // Southern Sweden coast\n    {\n      minLat: 55.0,\n      maxLat: 56.0,\n      minLng: 16.5,\n      maxLng: 18.5,\n      weight: 3\n    },\n    // Midway to Gotland\n    {\n      minLat: 57.0,\n      maxLat: 58.2,\n      minLng: 18.5,\n      maxLng: 20.0,\n      weight: 4\n    },\n    // North of Gotland\n    {\n      minLat: 58.5,\n      maxLat: 59.5,\n      minLng: 20.0,\n      maxLng: 22.0,\n      weight: 3\n    },\n    // Approach to Gulf of Finland\n    {\n      minLat: 59.2,\n      maxLat: 59.8,\n      minLng: 22.0,\n      maxLng: 24.5,\n      weight: 5\n    },\n    // Gulf of Finland western part\n    {\n      minLat: 59.7,\n      maxLat: 60.2,\n      minLng: 24.5,\n      maxLng: 28.0,\n      weight: 4\n    },\n    // Gulf of Finland eastern part\n\n    // Port approaches - reduced weights to prevent clustering\n    {\n      minLat: 60.0,\n      maxLat: 60.5,\n      minLng: 24.5,\n      maxLng: 25.0,\n      weight: 3\n    },\n    // Helsinki\n    {\n      minLat: 60.2,\n      maxLat: 60.5,\n      minLng: 22.0,\n      maxLng: 22.5,\n      weight: 3\n    },\n    // Turku\n    {\n      minLat: 55.3,\n      maxLat: 56.3,\n      minLng: 12.5,\n      maxLng: 13.0,\n      weight: 3\n    },\n    // Malmö\n    {\n      minLat: 58.5,\n      maxLat: 59.5,\n      minLng: 16.5,\n      maxLng: 18.5,\n      weight: 3\n    },\n    // Stockholm\n    {\n      minLat: 54.3,\n      maxLat: 54.8,\n      minLng: 18.3,\n      maxLng: 19.0,\n      weight: 3\n    },\n    // Gdańsk\n    {\n      minLat: 54.0,\n      maxLat: 54.5,\n      minLng: 13.0,\n      maxLng: 14.5,\n      weight: 3\n    },\n    // Rostock\n\n    // Wider dispersal areas - these ensure ships are spread throughout the entire sea\n    // Central Baltic - large dispersal areas\n    {\n      minLat: 56.0,\n      maxLat: 58.0,\n      minLng: 17.0,\n      maxLng: 20.0,\n      weight: 5\n    },\n    // Central Baltic wider area\n    {\n      minLat: 57.5,\n      maxLat: 59.5,\n      minLng: 19.0,\n      maxLng: 22.0,\n      weight: 5\n    },\n    // Eastern Baltic wider area\n\n    // Gulf of Bothnia - more dispersed\n    {\n      minLat: 60.0,\n      maxLat: 62.0,\n      minLng: 18.0,\n      maxLng: 21.0,\n      weight: 4\n    },\n    // Southern Bothnia dispersed\n    {\n      minLat: 62.0,\n      maxLat: 65.0,\n      minLng: 18.0,\n      maxLng: 23.0,\n      weight: 3\n    },\n    // Northern Bothnia dispersed\n\n    // Western Baltic - more dispersed\n    {\n      minLat: 54.0,\n      maxLat: 56.0,\n      minLng: 12.0,\n      maxLng: 15.0,\n      weight: 4\n    },\n    // Western Baltic dispersed\n    {\n      minLat: 54.0,\n      maxLat: 57.0,\n      minLng: 15.0,\n      maxLng: 18.0,\n      weight: 5\n    },\n    // South-central Baltic dispersed\n\n    // Other dispersed areas to ensure wider coverage\n    {\n      minLat: 54.0,\n      maxLat: 55.5,\n      minLng: 18.0,\n      maxLng: 20.0,\n      weight: 3\n    },\n    // Southern Baltic dispersed\n    {\n      minLat: 56.5,\n      maxLat: 58.0,\n      minLng: 15.0,\n      maxLng: 17.0,\n      weight: 3\n    },\n    // Western Gotland dispersed\n    {\n      minLat: 57.0,\n      maxLat: 58.5,\n      minLng: 20.0,\n      maxLng: 22.0,\n      weight: 3\n    },\n    // Eastern Gotland dispersed\n    {\n      minLat: 57.0,\n      maxLat: 58.5,\n      minLng: 22.0,\n      maxLng: 24.0,\n      weight: 3\n    } // Gulf of Riga dispersed\n    ];\n\n    // Calculate total weight\n    const totalWeight = shippingLanes.reduce((sum, lane) => sum + lane.weight, 0);\n\n    // Pick a random lane with weighting\n    let randomPoint = Math.random() * totalWeight;\n    let selectedLane = shippingLanes[0];\n    let cumulativeWeight = 0;\n    for (const lane of shippingLanes) {\n      cumulativeWeight += lane.weight;\n      if (randomPoint <= cumulativeWeight) {\n        selectedLane = lane;\n        break;\n      }\n    }\n\n    // Increase the spread factor to ensure better dispersal within areas\n    // Create a much more randomized distribution within the selected area\n    // rather than clustering toward the center\n\n    // Get random point within the selected area with high dispersal\n    // Avoiding the tendency to cluster in the center\n    return [selectedLane.minLng + Math.random() * (selectedLane.maxLng - selectedLane.minLng),\n    // longitude - fully random within area\n    selectedLane.minLat + Math.random() * (selectedLane.maxLat - selectedLane.minLat) // latitude - fully random within area\n    ];\n  };\n\n  // Generate 300 simulated vessels with realistic properties (reduced from 1000)\n  const generateVessels = useCallback(() => {\n    const vesselTypes = ['commercial', 'military', 'fishing', 'passenger', 'tanker'];\n    const flags = ['Finland', 'Sweden', 'Estonia', 'Latvia', 'Lithuania', 'Poland', 'Germany', 'Denmark', 'Russia'];\n    const russianOperators = ['Sovcomflot', 'Gazprom Fleet', 'Rosmorport', 'Russian Navy', 'Rosneft'];\n    const commercialOperators = ['Maersk', 'MSC', 'CMA CGM', 'Hapag-Lloyd', 'ONE', 'Evergreen', 'COSCO', 'Yang Ming', 'HMM', 'Grimaldi', 'DFDS', 'Stena Line', 'Tallink', 'Viking Line'];\n\n    // Generate vessels with better dispersal throughout the Baltic Sea\n    const generatedVessels = [];\n    const occupiedPositions = []; // Track positions to ensure better dispersal\n    const MIN_DISTANCE = 0.2; // Minimum distance between vessels in degrees (approx 10-20km)\n\n    // Start with fewer vessels and then disperse them more effectively\n    const maxAttempts = 300; // Limit how many times we try to place each vessel\n    let placedVesselCount = 0;\n\n    // Try to place vessels with appropriate spacing\n    for (let i = 1; placedVesselCount < 300 && i <= maxAttempts; i++) {\n      const type = vesselTypes[Math.floor(Math.random() * vesselTypes.length)];\n      const flag = flags[Math.floor(Math.random() * flags.length)];\n      const isRussian = flag === 'Russia' || Math.random() < 0.05; // 5% chance of non-Russian flag but Russian operated\n\n      // Get a potential position for the vessel\n      const position = randomCoordinate();\n\n      // Check if position is in a lake and ensure it's in the Baltic Sea\n      // Baltic Sea general bounds\n      const isInBalticSea = position[1] >= 54.0 && position[1] <= 66.0 &&\n      // Latitude bounds\n      position[0] >= 9.0 && position[0] <= 30.0 // Longitude bounds\n      ;\n\n      // If not in Baltic Sea proper, skip this position\n      if (!isInBalticSea) {\n        continue;\n      }\n\n      // Check if this position is too close to existing vessels\n      let isTooClose = false;\n      for (const existingPos of occupiedPositions) {\n        const distance = Math.sqrt(Math.pow(position[0] - existingPos[0], 2) + Math.pow(position[1] - existingPos[1], 2));\n        if (distance < MIN_DISTANCE) {\n          isTooClose = true;\n          break;\n        }\n      }\n\n      // If the position is too close to other vessels, skip this attempt\n      if (isTooClose) {\n        continue;\n      }\n\n      // If we got here, the position is good, so add it to occupied positions\n      occupiedPositions.push(position);\n      placedVesselCount++;\n\n      // Calculate a more realistic heading based on position\n      // Ships in the Baltic generally move east-west in southern parts, and north-south in gulfs\n      let heading;\n      const lat = position[1];\n      const lng = position[0];\n\n      // Baltic shipping lane direction tendencies\n      if (lng < 14.0) {\n        // Danish straits and western Baltic - generally east/west traffic\n        heading = Math.random() < 0.7 ? 70 + Math.random() * 40 : 250 + Math.random() * 40;\n      } else if (lng > 23.0 && lat > 59.0) {\n        // Gulf of Finland - generally east/west traffic\n        heading = Math.random() < 0.5 ? 80 + Math.random() * 30 : 260 + Math.random() * 30;\n      } else if (lng > 19.0 && lat > 60.0) {\n        // Gulf of Bothnia - generally north/south traffic\n        heading = Math.random() < 0.5 ? 0 + Math.random() * 30 : 180 + Math.random() * 30;\n      } else if (lng > 22.0 && lat < 58.0 && lat > 56.5) {\n        // Gulf of Riga - generally north/south traffic\n        heading = Math.random() < 0.5 ? 0 + Math.random() * 40 : 180 + Math.random() * 40;\n      } else if (lat < 56.0 && lng > 18.0) {\n        // Southern Baltic to Polish/Lithuanian ports\n        heading = Math.random() < 0.6 ? 140 + Math.random() * 40 : 320 + Math.random() * 40;\n      } else {\n        // Central Baltic - mixed traffic patterns\n        heading = Math.floor(Math.random() * 360);\n      }\n\n      // Realistic speed based on vessel type and weather (assumed normal conditions)\n      let speed;\n      if (type === 'commercial' || type === 'tanker') {\n        speed = 10 + Math.floor(Math.random() * 8); // 10-18 knots\n      } else if (type === 'passenger') {\n        speed = 15 + Math.floor(Math.random() * 10); // 15-25 knots\n      } else if (type === 'military') {\n        speed = 5 + Math.floor(Math.random() * 25); // 5-30 knots (more variable)\n      } else if (type === 'fishing') {\n        // Fishing vessels move slower or may be stationary when fishing\n        speed = Math.random() < 0.3 ? 0 : 5 + Math.floor(Math.random() * 7); // 0 or 5-12 knots\n      } else {\n        speed = Math.floor(Math.random() * 15) + 5; // 5-20 knots default\n      }\n\n      // Determine vessel size\n      const length = type === 'tanker' || type === 'commercial' ? 100 + Math.floor(Math.random() * 300) : type === 'military' ? 50 + Math.floor(Math.random() * 200) : 20 + Math.floor(Math.random() * 50);\n\n      // Calculate gross tonnage (GT) based on vessel length and type\n      // Using simplified formula based on vessel dimensions\n      let grossTonnage;\n      if (type === 'commercial' || type === 'tanker') {\n        // Commercial and tanker vessels have higher GT/length ratios\n        grossTonnage = Math.round(length * length * 0.18); // Approximation\n      } else if (type === 'military') {\n        // Military vessels are typically more dense but smaller\n        grossTonnage = Math.round(length * length * 0.16);\n      } else if (type === 'passenger') {\n        // Passenger vessels have high volume and less dense cargo\n        grossTonnage = Math.round(length * length * 0.2);\n      } else {\n        // Fishing and other vessels\n        grossTonnage = Math.round(length * length * 0.12);\n      }\n\n      // Determine operator\n      let operator;\n      if (isRussian) {\n        operator = russianOperators[Math.floor(Math.random() * russianOperators.length)];\n      } else {\n        operator = commercialOperators[Math.floor(Math.random() * commercialOperators.length)];\n      }\n\n      // Generate a realistic vessel name\n      const prefixes = isRussian ? ['Admiral', 'Kapitan', 'Vostok', 'Sibir', 'Moskva', 'Sankt-Peterburg', 'Akademik'] : ['Northern', 'Baltic', 'Sea', 'Atlantic', 'Pacific', 'Star', 'Pioneer'];\n      const suffixes = isRussian ? ['Kuznetsov', 'Nakhimov', 'Gorshkov', 'Lazarev', 'Kasatonov', 'Ustinov'] : ['Adventurer', 'Explorer', 'Navigator', 'Voyager', 'Mariner', 'Trader', 'Express'];\n      const shipNumbers = ['I', 'II', 'III', 'IV', 'V', '1', '2', '3', '4', '5'];\n      let name;\n      if (Math.random() < 0.3) {\n        // 30% chance of having a prefix-suffix name\n        name = `${prefixes[Math.floor(Math.random() * prefixes.length)]} ${suffixes[Math.floor(Math.random() * suffixes.length)]}`;\n      } else if (Math.random() < 0.5) {\n        // 20% chance of having a name with a number\n        name = `${prefixes[Math.floor(Math.random() * prefixes.length)]} ${shipNumbers[Math.floor(Math.random() * shipNumbers.length)]}`;\n      } else {\n        // 50% chance of having a simple prefix or suffix name\n        name = Math.random() < 0.5 ? prefixes[Math.floor(Math.random() * prefixes.length)] : suffixes[Math.floor(Math.random() * suffixes.length)];\n      }\n      if (type === 'military' && isRussian) {\n        name = `RFS ${name}`; // Russian Federation Ship\n      }\n\n      // Calculate a detection probability\n      const detectionProbability = {\n        radar: Math.random(),\n        // 0-1, higher means more visible on radar\n        sonar: Math.random(),\n        // 0-1, higher means more detectable by sonar\n        fused: (Math.random() + Math.random()) / 2 // average of two values for a more normal distribution\n      };\n\n      // Generate a vessel object with all properties\n      generatedVessels.push({\n        id: placedVesselCount,\n        name,\n        type,\n        flag,\n        isRussian,\n        position,\n        heading,\n        speed,\n        length,\n        operator,\n        detectionProbability,\n        grossTonnage\n      });\n    }\n\n    // More evenly disperse submarines too\n    // Generate Russian submarines with special characteristics\n    const submarineNames = ['Krasnodar', 'Novorossiysk', 'Rostov-on-Don', 'Stary Oskol', 'Velikiy Novgorod', 'Kolpino', 'Sankt Peterburg'];\n    const submarineClasses = ['Kilo-class', 'Kilo-class', 'Kilo-class', 'Kilo-class', 'Improved Kilo-class', 'Improved Kilo-class', 'Lada-class'];\n    const submarineDesignations = ['B-265', 'B-261', 'B-237', 'B-262', 'B-268', 'B-271', 'B-585'];\n\n    // Use more strategic submarine positions\n    const submarineAreas = [\n    // Gulf of Finland approach - monitoring traffic to St. Petersburg\n    [26.2, 59.7],\n    // Near NATO naval exercise areas in central Baltic\n    [19.3, 56.8],\n    // Monitoring approach to Stockholm archipelago\n    [18.9, 58.9],\n    // Deep water between Gotland and Latvia (strategic position)\n    [20.1, 57.3],\n    // Patrolling near Kaliningrad naval base\n    [19.6, 55.2],\n    // Monitoring naval traffic near Gdańsk\n    [18.8, 54.8],\n    // Danish straits approaches - key strategic chokepoint\n    [12.8, 55.4]];\n\n    // Add some randomness to submarine positions to avoid perfect predictability\n    const randomizedSubmarineAreas = submarineAreas.map(pos => [pos[0] + (Math.random() - 0.5) * 0.5,\n    // Add up to ±0.25 degrees longitude\n    pos[1] + (Math.random() - 0.5) * 0.3 // Add up to ±0.15 degrees latitude\n    ]);\n\n    // Add submarines to generated vessels\n    for (let i = 0; i < 7; i++) {\n      const position = randomizedSubmarineAreas[i];\n      const heading = Math.floor(Math.random() * 360);\n      const speed = 5 + Math.floor(Math.random() * 10); // Submarines move slower on average\n      const depth = 20 + Math.floor(Math.random() * 180); // Depth in meters\n\n      // Submarine detection characteristics\n      // Low radar detection when submerged, high sonar signature\n      const isSubmerged = Math.random() > 0.3; // 70% chance of being submerged\n\n      const detectionProbability = {\n        radar: isSubmerged ? 0.05 + Math.random() * 0.1 : 0.3 + Math.random() * 0.2,\n        // Low radar when submerged\n        sonar: 0.6 + Math.random() * 0.4,\n        // High sonar signature\n        fused: isSubmerged ? (0.05 + Math.random() * 0.1 + 0.6 + Math.random() * 0.4) / 2 :\n        // Average when submerged\n        (0.3 + Math.random() * 0.2 + 0.6 + Math.random() * 0.4) / 2 // Average when surfaced\n      };\n      generatedVessels.push({\n        id: 1001 + i,\n        // IDs starting from 1001 for submarines\n        name: `RFS ${submarineNames[i]}`,\n        type: 'submarine',\n        class: submarineClasses[i],\n        designation: submarineDesignations[i],\n        flag: 'Russia',\n        isRussian: true,\n        position,\n        heading,\n        speed,\n        depth,\n        length: 70 + Math.floor(Math.random() * 20),\n        // Kilo-class submarines are around 70-74m\n        isSubmerged,\n        operator: 'Russian Navy',\n        detectionProbability\n      });\n    }\n    return generatedVessels;\n  }, []);\n\n  // Generate vessel data when component mounts\n  useEffect(() => {\n    const simulatedVessels = generateVessels();\n    setVessels(simulatedVessels);\n  }, []); // Remove generateVessels from dependency array\n\n  // Update vessel positions based on speed and heading\n  const updateVesselPositions = useCallback(() => {\n    if (!simulationEnabled) return;\n    const currentTime = Date.now();\n    const deltaTime = (currentTime - lastUpdateTimeRef.current) / 1000; // Convert ms to seconds\n    lastUpdateTimeRef.current = currentTime;\n\n    // Apply speed multiplier to deltaTime\n    const adjustedDeltaTime = deltaTime * simulationSpeed;\n\n    // Skip if delta time is too large (e.g., browser tab was inactive)\n    if (adjustedDeltaTime > 5) return;\n    setVessels(prevVessels => {\n      return prevVessels.map(vessel => {\n        // Skip stationary vessels\n        if (vessel.speed === 0) return vessel;\n\n        // Convert knots to degrees per second\n        // 1 knot ≈ 0.0003 degrees of longitude at the equator per second\n        // Adjust for latitude (narrower longitude degrees at higher latitudes)\n        const latitudeAdjustment = Math.cos(vessel.position[1] * Math.PI / 180);\n        const longitudeChange = vessel.speed * 0.0003 * adjustedDeltaTime / latitudeAdjustment;\n        const latitudeChange = vessel.speed * 0.0003 * adjustedDeltaTime;\n\n        // Calculate new position based on heading\n        const headingRad = vessel.heading * Math.PI / 180;\n        const newLng = vessel.position[0] + longitudeChange * Math.sin(headingRad);\n        const newLat = vessel.position[1] + latitudeChange * Math.cos(headingRad);\n\n        // Enhanced boundary checking to keep vessels within the actual Baltic Sea water\n        if (!isInBalticSeaWaters(newLat, newLng)) {\n          // If would move onto land or out of bounds, adjust heading to turn back toward deeper water\n          // Use a more detailed approach to find the right direction\n\n          // Try finding a better direction by checking multiple angles\n          let bestHeading = vessel.heading;\n          let foundBetterDirection = false;\n\n          // Check 8 directions around to find waters\n          for (let angleOffset = 0; angleOffset < 360; angleOffset += 45) {\n            const testHeading = (vessel.heading + angleOffset) % 360;\n            const testRad = testHeading * Math.PI / 180;\n\n            // Check a position further out in this direction\n            const testLng = vessel.position[0] + longitudeChange * 5 * Math.sin(testRad);\n            const testLat = vessel.position[1] + latitudeChange * 5 * Math.cos(testRad);\n            if (isInBalticSeaWaters(testLat, testLng)) {\n              bestHeading = testHeading;\n              foundBetterDirection = true;\n              break;\n            }\n          }\n\n          // If no good direction found, head toward the Baltic center\n          if (!foundBetterDirection) {\n            const centerLat = 58.5; // More centered in the main Baltic basin\n            const centerLng = 20; // Adjusted to be in deeper waters\n            const angleToCenter = Math.atan2(centerLng - vessel.position[0], centerLat - vessel.position[1]) * 180 / Math.PI;\n\n            // Turn gradually toward the center\n            const headingDiff = (angleToCenter - vessel.heading + 540) % 360 - 180;\n            bestHeading = (vessel.heading + Math.sign(headingDiff) * 45) % 360;\n            if (bestHeading < 0) bestHeading += 360;\n          }\n\n          // Slow down near boundaries\n          const reducedSpeed = Math.max(1, vessel.speed * 0.5);\n          return {\n            ...vessel,\n            heading: bestHeading,\n            speed: reducedSpeed // Temporarily reduce speed when changing course\n          };\n        }\n\n        // For military and submarine vessels, randomly change heading occasionally\n        let newHeading = vessel.heading;\n        const originalSpeed = vessel.speed;\n        let newSpeed = originalSpeed;\n        if ((vessel.type === 'military' || vessel.type === 'submarine') && Math.random() < 0.01 * adjustedDeltaTime) {\n          // Change heading by up to +/- 30 degrees\n          newHeading = (vessel.heading + (Math.random() * 60 - 30)) % 360;\n          if (newHeading < 0) newHeading += 360;\n\n          // Military vessels might change speed during maneuvers\n          if (Math.random() < 0.3) {\n            const speedFactor = 0.7 + Math.random() * 0.6; // 70-130% of current speed\n            newSpeed = Math.max(1, Math.min(30, originalSpeed * speedFactor));\n          }\n        }\n        // Smaller random heading changes for other vessels to simulate realistic movement\n        else if (Math.random() < 0.005 * adjustedDeltaTime) {\n          // Change heading by up to +/- 10 degrees\n          newHeading = (vessel.heading + (Math.random() * 20 - 10)) % 360;\n          if (newHeading < 0) newHeading += 360;\n        }\n        return {\n          ...vessel,\n          position: [newLng, newLat],\n          heading: newHeading,\n          speed: newSpeed\n        };\n      });\n    });\n\n    // Request next animation frame\n    animationFrameRef.current = requestAnimationFrame(updateVesselPositions);\n  }, [simulationEnabled, simulationSpeed]);\n\n  // Function to check if a point is in Baltic Sea waters\n  // This is a more precise check than just the bounding box\n  const isInBalticSeaWaters = useCallback((lat, lng) => {\n    // First check overall bounds\n    if (lat < 54.0 || lat > 66.0 || lng < 9.0 || lng > 30.0) {\n      return false;\n    }\n\n    // Define areas that are land (to be avoided)\n    // Format: [south, north, west, east]\n    const landAreas = [\n    // Southern Sweden\n    [55.0, 59.5, 12.5, 15.5],\n    // Finland\n    [59.7, 65.5, 21.0, 30.0],\n    // Estonia\n    [57.5, 59.7, 23.0, 28.5],\n    // Latvia/Lithuania coast\n    [55.5, 57.5, 21.0, 28.0],\n    // Poland inland\n    [54.0, 55.5, 15.0, 19.5],\n    // Germany/Denmark inland\n    [54.0, 56.0, 9.0, 12.0],\n    // Gotland\n    [56.8, 58.0, 18.0, 19.2],\n    // Åland Islands\n    [59.7, 60.5, 19.3, 21.3],\n    // Bornholm\n    [54.9, 55.3, 14.7, 15.2]];\n\n    // Define key shipping channels and deep waters (preferred areas)\n    // Format: [south, north, west, east, weight]\n    const shippingChannels = [\n    // Main Baltic basin\n    [55.5, 59.0, 16.5, 22.0, 10],\n    // Gulf of Finland shipping lane\n    [59.3, 60.2, 22.5, 28.0, 8],\n    // Approach to Stockholm\n    [58.7, 59.5, 17.5, 19.5, 6],\n    // Approach to Riga\n    [56.8, 58.0, 22.5, 24.5, 6],\n    // Approach to Helsinki/Tallinn\n    [59.2, 59.9, 24.0, 25.5, 8],\n    // Western Baltic shipping lane\n    [54.5, 56.0, 12.0, 15.0, 8],\n    // Kattegat\n    [56.0, 57.5, 10.5, 12.0, 6],\n    // Gulf of Bothnia\n    [60.5, 63.5, 18.5, 21.5, 5]];\n\n    // Check if point is in a land area\n    for (const [south, north, west, east] of landAreas) {\n      if (lat >= south && lat <= north && lng >= west && lng <= east) {\n        // Further check for complex coastlines\n        // This is a very simplified approach - we add some randomness \n        // to prevent vessels from getting stuck at sharp boundary transitions\n\n        // If near the edge of a land area, there's a small chance to still consider it water\n        // This helps vessels navigate around complex coastlines without getting stuck\n        const distanceFromEdge = Math.min(Math.abs(lat - south), Math.abs(lat - north), Math.abs(lng - west), Math.abs(lng - east));\n\n        // Very close to edge - might be a complex coastline\n        if (distanceFromEdge < 0.1) {\n          // 20% chance to consider it water if very close to edge\n          // This randomness helps prevent getting stuck at boundaries\n          return Math.random() < 0.2;\n        }\n        return false; // It's in a land area\n      }\n    }\n\n    // Check if in a preferred shipping channel\n    for (const [south, north, west, east] of shippingChannels) {\n      if (lat >= south && lat <= north && lng >= west && lng <= east) {\n        return true; // In a shipping channel - definitely good\n      }\n    }\n\n    // For areas not explicitly defined, use the following general rules\n\n    // Avoid shallow coastal waters (simplified approach)\n    // These are general buffer zones around landmasses\n    const coastalBuffers = [\n    // Swedish coast buffer\n    [55.0, 59.5, 15.5, 16.0],\n    // Finnish coast buffer\n    [59.7, 65.5, 20.0, 21.0],\n    // Estonian coast buffer\n    [57.5, 59.7, 22.0, 23.0],\n    // Latvian/Lithuanian coast buffer\n    [55.5, 57.5, 20.0, 21.0],\n    // Polish coast buffer\n    [54.0, 55.5, 14.0, 15.0],\n    // German/Danish coast buffer\n    [54.0, 56.0, 12.0, 12.5]];\n\n    // Check coastal buffers with higher probability of rejection\n    for (const [south, north, west, east] of coastalBuffers) {\n      if (lat >= south && lat <= north && lng >= west && lng <= east) {\n        // 70% chance to consider coastal buffers as land\n        return Math.random() > 0.7;\n      }\n    }\n\n    // If we got here, it's probably in open water\n    return true;\n  }, []);\n\n  // Start/stop vessel position updates when simulation state changes\n  useEffect(() => {\n    if (simulationEnabled) {\n      lastUpdateTimeRef.current = Date.now();\n      animationFrameRef.current = requestAnimationFrame(updateVesselPositions);\n    } else if (animationFrameRef.current) {\n      cancelAnimationFrame(animationFrameRef.current);\n    }\n\n    // Cleanup when component unmounts\n    return () => {\n      if (animationFrameRef.current) {\n        cancelAnimationFrame(animationFrameRef.current);\n      }\n    };\n  }, [simulationEnabled, updateVesselPositions]);\n\n  // Function to check if an item is in the current map bounds\n  const isInMapBounds = useCallback((lat, lng) => {\n    if (!mapBounds) return true; // If no bounds yet, show everything\n\n    // Add buffer to avoid popping at edges\n    const buffer = 0.5; // Buffer in degrees\n\n    return lat >= mapBounds.south - buffer && lat <= mapBounds.north + buffer && lng >= mapBounds.west - buffer && lng <= mapBounds.east + buffer;\n  }, [mapBounds]);\n\n  // Function to render vessels based on the display mode and zoom level\n  const renderVessels = useCallback(() => {\n    // Make sure Google Maps is loaded\n    if (!window.google || !window.google.maps) {\n      console.warn('Google Maps not loaded yet');\n      return null;\n    }\n\n    // Use zoom level to determine detail level\n    const isHighDetail = currentZoom >= 8;\n    const isMediumDetail = currentZoom >= 6 && currentZoom < 8;\n    const isLowDetail = currentZoom < 6;\n\n    // Filter vessels based on current filter and map bounds\n    const filteredVessels = vessels.filter(v => {\n      // First apply user filter\n      const matchesFilter = filter === 'all' || (filter === 'russian' ? v.isRussian : v.type === filter);\n\n      // Then check if in current map bounds\n      const inBounds = isInMapBounds(v.position[1], v.position[0]);\n      return matchesFilter && inBounds;\n    });\n\n    // Create vessel markers\n    return filteredVessels.map(vessel => {\n      // Convert vessel position to LatLng\n      const position = {\n        lat: vessel.position[1],\n        lng: vessel.position[0]\n      };\n      const isSelected = (selectedVessel === null || selectedVessel === void 0 ? void 0 : selectedVessel.id) === vessel.id;\n      const isSimulatedVessel = vessel.id && (vessel.id.startsWith('warship-') || vessel.id.startsWith('drone-'));\n      const isDetected = isSimulatedVessel && vessel.detected;\n\n      // Define icon and visualization based on display mode and zoom level\n      let iconProps = {};\n      let circleProps = {\n        radius: 0\n      };\n      switch (displayMode) {\n        case 'radar':\n          // Radar mode - shows vessels as dots with direction indicators\n          const radarOpacity = vessel.type === 'submarine' && vessel.isSubmerged ? 0.1 + vessel.detectionProbability.radar * 0.2 : 0.3 + vessel.detectionProbability.radar * 0.7;\n          const radarScale = vessel.type === 'submarine' ? vessel.isSubmerged ? 0.5 : 0.8 : Math.max(0.6, Math.min(1.2, 0.6 + vessel.length / 300));\n          let radarColor = vessel.type === 'submarine' ? 'rgb(255, 0, 0)' : vessel.isRussian ? 'rgb(231, 76, 60)' : 'rgb(52, 152, 219)';\n\n          // Special coloring for drone entities\n          if (vessel.type === 'drone') {\n            radarColor = 'rgb(255, 165, 0)'; // Orange for drones\n          }\n          if (isLowDetail) {\n            // Simple dots for low detail level\n            iconProps = {\n              path: window.google.maps.SymbolPath.CIRCLE,\n              fillColor: radarColor,\n              fillOpacity: radarOpacity,\n              strokeColor: isDetected ? '#FFFF00' : '#FFFFFF',\n              // Yellow stroke for detected vessels\n              strokeWeight: isDetected ? 2 : 1,\n              scale: vessel.type === 'drone' ? 3 : vessel.type === 'submarine' ? 3 : 2,\n              anchor: new window.google.maps.Point(0, 0)\n            };\n          } else if (isMediumDetail) {\n            // Simplified arrow for medium detail\n            const arrowSize = radarScale * 4;\n            iconProps = {\n              path: `M 0,-${arrowSize} L ${arrowSize / 2},${arrowSize} L -${arrowSize / 2},${arrowSize} Z`,\n              // Simpler arrow shape\n              fillColor: radarColor,\n              fillOpacity: radarOpacity,\n              strokeColor: isDetected ? '#FFFF00' : '#FFFFFF',\n              // Yellow stroke for detected vessels\n              strokeWeight: isDetected ? 2 : 1,\n              rotation: vessel.heading,\n              // Rotate according to vessel heading\n              scale: 1,\n              anchor: new window.google.maps.Point(0, 0)\n            };\n          } else {\n            // Full detail for high zoom levels\n            const arrowSize = radarScale * 5;\n            iconProps = {\n              path: `M 0,-${arrowSize} L ${arrowSize / 2},${arrowSize} L 0,${arrowSize / 2} L -${arrowSize / 2},${arrowSize} Z`,\n              // Arrow shape\n              fillColor: radarColor,\n              fillOpacity: radarOpacity,\n              strokeColor: isDetected ? '#FFFF00' : '#FFFFFF',\n              // Yellow stroke for detected vessels\n              strokeWeight: isDetected ? 2 : 1,\n              rotation: vessel.heading,\n              // Rotate according to vessel heading\n              scale: 1,\n              anchor: new window.google.maps.Point(0, 0)\n            };\n          }\n          break;\n        case 'sonar':\n          // Sonar mode - shows vessels as acoustic signatures\n          const sonarOpacity = vessel.type === 'submarine' ? 0.5 + vessel.detectionProbability.sonar * 0.5 : 0.2 + vessel.detectionProbability.sonar * 0.8;\n          const sonarColor = vessel.type === 'submarine' ? '#FF00FF' : '#00E5FF';\n          if (isLowDetail) {\n            // Simple dots for low detail level\n            iconProps = {\n              path: window.google.maps.SymbolPath.CIRCLE,\n              fillColor: sonarColor,\n              fillOpacity: sonarOpacity,\n              strokeColor: '#FFFFFF',\n              strokeWeight: 1,\n              scale: vessel.type === 'submarine' ? 3 : 2,\n              anchor: new window.google.maps.Point(0, 0)\n            };\n\n            // Simplified acoustic wave\n            if (vessel.type === 'submarine') {\n              const waveRadius = vessel.speed * 80;\n              circleProps = {\n                radius: waveRadius,\n                options: {\n                  fillColor: sonarColor,\n                  fillOpacity: 0.03,\n                  strokeColor: sonarColor,\n                  strokeOpacity: 0.1,\n                  strokeWeight: 1\n                }\n              };\n            }\n          } else {\n            // Use the same arrow shape as radar mode but with sonar colors\n            const sonarArrowSize = vessel.type === 'submarine' ? 5 : 4;\n            iconProps = {\n              path: `M 0,-${sonarArrowSize} L ${sonarArrowSize / 2},${sonarArrowSize} L 0,${sonarArrowSize / 2} L -${sonarArrowSize / 2},${sonarArrowSize} Z`,\n              // Arrow shape\n              fillColor: sonarColor,\n              fillOpacity: sonarOpacity,\n              strokeColor: '#FFFFFF',\n              strokeWeight: 1,\n              rotation: vessel.heading,\n              scale: 1,\n              anchor: new window.google.maps.Point(0, 0)\n            };\n\n            // Add acoustic wave circle - only at higher zoom levels\n            if (isHighDetail) {\n              const waveRadius = vessel.type === 'submarine' ? Math.max(500, vessel.speed * 100) : Math.max(300, vessel.speed * 60);\n              circleProps = {\n                radius: waveRadius,\n                options: {\n                  fillColor: sonarColor,\n                  fillOpacity: 0.05,\n                  strokeColor: sonarColor,\n                  strokeOpacity: 0.2,\n                  strokeWeight: 1\n                }\n              };\n            } else if (isMediumDetail && vessel.type === 'submarine') {\n              const waveRadius = Math.max(300, vessel.speed * 80);\n              circleProps = {\n                radius: waveRadius,\n                options: {\n                  fillColor: sonarColor,\n                  fillOpacity: 0.03,\n                  strokeColor: sonarColor,\n                  strokeOpacity: 0.1,\n                  strokeWeight: 1\n                }\n              };\n            }\n          }\n          break;\n        case 'fused':\n          // Fused mode - combines radar and sonar data\n          const fusedOpacity = 0.4 + vessel.detectionProbability.fused * 0.6;\n\n          // Create color gradient based on radar/sonar detection probabilities\n          const radarValue = Math.floor(vessel.detectionProbability.radar * 255);\n          const sonarValue = Math.floor(vessel.detectionProbability.sonar * 255);\n          const fusedColor = vessel.isRussian ? `rgb(255, 100, 100)` : `rgb(100, ${radarValue}, ${sonarValue})`;\n          if (isLowDetail) {\n            // Simple dots for low detail level\n            iconProps = {\n              path: window.google.maps.SymbolPath.CIRCLE,\n              fillColor: fusedColor,\n              fillOpacity: fusedOpacity,\n              strokeColor: '#FFFFFF',\n              strokeWeight: 1,\n              scale: vessel.type === 'submarine' ? 3 : 2,\n              anchor: new window.google.maps.Point(0, 0)\n            };\n          } else {\n            // Use the same arrow shape as other modes but with fused colors\n            const fusedArrowSize = 5;\n            iconProps = {\n              path: `M 0,-${fusedArrowSize} L ${fusedArrowSize / 2},${fusedArrowSize} L 0,${fusedArrowSize / 2} L -${fusedArrowSize / 2},${fusedArrowSize} Z`,\n              // Arrow shape\n              fillColor: fusedColor,\n              fillOpacity: fusedOpacity,\n              strokeColor: '#FFFFFF',\n              strokeWeight: 1,\n              rotation: vessel.heading,\n              scale: 1,\n              anchor: new window.google.maps.Point(0, 0)\n            };\n          }\n\n          // Add confidence circle - only at higher zoom levels\n          if (isHighDetail) {\n            const confidenceRadius = 300 + (1 - vessel.detectionProbability.fused) * 1000;\n            circleProps = {\n              radius: confidenceRadius,\n              options: {\n                fillColor: 'transparent',\n                fillOpacity: 0,\n                strokeColor: vessel.isRussian ? \"#FF6B6B\" : \"#4285F4\",\n                strokeOpacity: 0.4,\n                strokeWeight: 0.5\n              }\n            };\n          } else if (isMediumDetail && (vessel.type === 'military' || vessel.type === 'submarine')) {\n            // Only show confidence circles for important vessels at medium zoom\n            const confidenceRadius = 200 + (1 - vessel.detectionProbability.fused) * 800;\n            circleProps = {\n              radius: confidenceRadius,\n              options: {\n                fillColor: 'transparent',\n                fillOpacity: 0,\n                strokeColor: vessel.isRussian ? \"#FF6B6B\" : \"#4285F4\",\n                strokeOpacity: 0.3,\n                strokeWeight: 0.5\n              }\n            };\n          }\n          break;\n        default:\n          // Default to radar mode with arrow icon\n          const defaultSize = 5;\n          iconProps = {\n            path: `M 0,-${defaultSize} L ${defaultSize / 2},${defaultSize} L 0,${defaultSize / 2} L -${defaultSize / 2},${defaultSize} Z`,\n            // Arrow shape\n            fillColor: '#FFFFFF',\n            fillOpacity: 0.8,\n            strokeColor: '#000000',\n            strokeWeight: 1,\n            rotation: vessel.heading,\n            scale: 1,\n            anchor: new window.google.maps.Point(0, 0)\n          };\n          break;\n      }\n\n      // Set up label for detected vessels\n      let label = null;\n      if (isDetected) {\n        const color = vessel.id.startsWith('warship-') ? '#00FFFF' : '#FFFF00';\n        label = {\n          text: \"DETECTED\",\n          color: color,\n          fontSize: \"10px\",\n          fontWeight: \"bold\",\n          className: \"detected-label\"\n        };\n      }\n      return /*#__PURE__*/_jsxDEV(React.Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(MemoizedMarker, {\n          position: position,\n          icon: iconProps,\n          onClick: () => setSelectedVessel(vessel),\n          zIndex: isSelected ? 1000 : vessel.type === 'submarine' ? 500 : 100,\n          label: label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1071,\n          columnNumber: 11\n        }, this), circleProps.radius > 0 && /*#__PURE__*/_jsxDEV(MemoizedCircle, {\n          center: position,\n          radius: circleProps.radius,\n          options: circleProps.options\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1080,\n          columnNumber: 13\n        }, this), vessel.type === 'submarine' && vessel.isSubmerged && displayMode !== 'fused' && isHighDetail && /*#__PURE__*/_jsxDEV(MemoizedMarker, {\n          position: {\n            lat: position.lat + 0.03,\n            lng: position.lng + 0.03\n          },\n          label: {\n            text: `${vessel.depth}m`,\n            color: '#FFFFFF',\n            fontSize: '8px',\n            fontWeight: 'bold'\n          },\n          icon: {\n            path: 0,\n            // CIRCLE\n            scale: 0,\n            fillOpacity: 0,\n            strokeOpacity: 0\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1088,\n          columnNumber: 13\n        }, this)]\n      }, vessel.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1070,\n        columnNumber: 9\n      }, this);\n    });\n  }, [vessels, filter, isInMapBounds, selectedVessel, displayMode, currentZoom]);\n\n  // Baltic Sea wind farm data - expanded with EMODnet data\n  const windFarmsData = [\n  // Denmark\n  {\n    name: \"Kriegers Flak\",\n    country: \"Denmark\",\n    capacity: 604,\n    lat: 54.9833,\n    lng: 13.0333,\n    status: \"operational\",\n    turbines: 72,\n    area: 132,\n    // km²\n    areaPoints: [{\n      lat: 54.9633,\n      lng: 13.0133\n    }, {\n      lat: 54.9733,\n      lng: 13.0533\n    }, {\n      lat: 55.0033,\n      lng: 13.0533\n    }, {\n      lat: 55.0033,\n      lng: 13.0133\n    }, {\n      lat: 54.9833,\n      lng: 12.9933\n    }, {\n      lat: 54.9633,\n      lng: 13.0133\n    }]\n  }, {\n    name: \"Middelgrunden\",\n    country: \"Denmark\",\n    capacity: 40,\n    lat: 55.6853,\n    lng: 12.6913,\n    status: \"operational\",\n    turbines: 20,\n    area: 4,\n    // km²\n    areaPoints: [{\n      lat: 55.6903,\n      lng: 12.6813\n    }, {\n      lat: 55.6903,\n      lng: 12.7013\n    }, {\n      lat: 55.6803,\n      lng: 12.7013\n    }, {\n      lat: 55.6803,\n      lng: 12.6813\n    }, {\n      lat: 55.6903,\n      lng: 12.6813\n    }]\n  }, {\n    name: \"Rødsand I\",\n    country: \"Denmark\",\n    capacity: 166,\n    lat: 54.5508,\n    lng: 11.7083,\n    status: \"operational\",\n    turbines: 72,\n    area: 35,\n    // km²\n    areaPoints: [{\n      lat: 54.5408,\n      lng: 11.6883\n    }, {\n      lat: 54.5408,\n      lng: 11.7283\n    }, {\n      lat: 54.5608,\n      lng: 11.7283\n    }, {\n      lat: 54.5608,\n      lng: 11.6883\n    }, {\n      lat: 54.5408,\n      lng: 11.6883\n    }]\n  }, {\n    name: \"Rødsand II\",\n    country: \"Denmark\",\n    capacity: 207,\n    lat: 54.5580,\n    lng: 11.6170,\n    status: \"operational\",\n    turbines: 90,\n    area: 40\n  }, {\n    name: \"Anholt\",\n    country: \"Denmark\",\n    capacity: 400,\n    lat: 56.6000,\n    lng: 11.2097,\n    status: \"operational\",\n    turbines: 111,\n    area: 88\n  }, {\n    name: \"Sprogø\",\n    country: \"Denmark\",\n    capacity: 21,\n    lat: 55.3414,\n    lng: 10.9767,\n    status: \"operational\",\n    turbines: 7,\n    area: 6\n  }, {\n    name: \"Samsø\",\n    country: \"Denmark\",\n    capacity: 23,\n    lat: 55.7194,\n    lng: 10.5639,\n    status: \"operational\",\n    turbines: 10,\n    area: 5\n  },\n  // Sweden\n  {\n    name: \"Karehamn\",\n    country: \"Sweden\",\n    capacity: 48,\n    lat: 56.9750,\n    lng: 17.0000,\n    status: \"operational\",\n    turbines: 16,\n    area: 8\n  }, {\n    name: \"Lillgrund\",\n    country: \"Sweden\",\n    capacity: 110,\n    lat: 55.5000,\n    lng: 12.7667,\n    status: \"operational\",\n    turbines: 48,\n    area: 6\n  }, {\n    name: \"Södra Midsjöbanken\",\n    country: \"Sweden\",\n    capacity: 1500,\n    lat: 55.7500,\n    lng: 17.4000,\n    status: \"planned\",\n    turbines: 170,\n    area: 265\n  }, {\n    name: \"Storgrundet\",\n    country: \"Sweden\",\n    capacity: 265,\n    lat: 61.1532,\n    lng: 17.4376,\n    status: \"planned\",\n    turbines: 70,\n    area: 57\n  }, {\n    name: \"Utgrunden\",\n    country: \"Sweden\",\n    capacity: 10.5,\n    lat: 56.3350,\n    lng: 16.2860,\n    status: \"operational\",\n    turbines: 7,\n    area: 2\n  }, {\n    name: \"Bockstigen\",\n    country: \"Sweden\",\n    capacity: 2.5,\n    lat: 57.0389,\n    lng: 18.1378,\n    status: \"operational\",\n    turbines: 5,\n    area: 1\n  },\n  // Germany\n  {\n    name: \"EnBW Baltic 1\",\n    country: \"Germany\",\n    capacity: 48,\n    lat: 54.6080,\n    lng: 12.6520,\n    status: \"operational\",\n    turbines: 21,\n    area: 7\n  }, {\n    name: \"EnBW Baltic 2\",\n    country: \"Germany\",\n    capacity: 288,\n    lat: 54.9900,\n    lng: 13.1666,\n    status: \"operational\",\n    turbines: 80,\n    area: 27\n  }, {\n    name: \"Arkona\",\n    country: \"Germany\",\n    capacity: 385,\n    lat: 54.7833,\n    lng: 14.1000,\n    status: \"operational\",\n    turbines: 60,\n    area: 39\n  }, {\n    name: \"Wikinger\",\n    country: \"Germany\",\n    capacity: 350,\n    lat: 54.8333,\n    lng: 14.0750,\n    status: \"operational\",\n    turbines: 70,\n    area: 34\n  }, {\n    name: \"Arcadis Ost 1\",\n    country: \"Germany\",\n    capacity: 257,\n    lat: 54.8333,\n    lng: 13.7500,\n    status: \"under construction\",\n    turbines: 27,\n    area: 30\n  }, {\n    name: \"Gennaker\",\n    country: \"Germany\",\n    capacity: 927,\n    lat: 54.5500,\n    lng: 12.2500,\n    status: \"planned\",\n    turbines: 103,\n    area: 176\n  }, {\n    name: \"Nordlicher Grund\",\n    country: \"Germany\",\n    capacity: 630,\n    lat: 54.9831,\n    lng: 6.3582,\n    status: \"planned\",\n    turbines: 64,\n    area: 57\n  }, {\n    name: \"Ostseeschatz\",\n    country: \"Germany\",\n    capacity: 372,\n    lat: 54.3660,\n    lng: 11.9165,\n    status: \"planned\",\n    turbines: 62,\n    area: 40\n  }, {\n    name: \"Baltic Eagle\",\n    country: \"Germany\",\n    capacity: 476,\n    lat: 54.7778,\n    lng: 13.9239,\n    status: \"under construction\",\n    turbines: 50,\n    area: 40\n  },\n  // Finland\n  {\n    name: \"Tahkoluoto\",\n    country: \"Finland\",\n    capacity: 42,\n    lat: 61.6330,\n    lng: 21.3830,\n    status: \"operational\",\n    turbines: 10,\n    area: 15\n  }, {\n    name: \"Ajos\",\n    country: \"Finland\",\n    capacity: 42,\n    lat: 65.7166,\n    lng: 24.5166,\n    status: \"operational\",\n    turbines: 13,\n    area: 10\n  }, {\n    name: \"Kemi Ajos I\",\n    country: \"Finland\",\n    capacity: 15,\n    lat: 65.6405,\n    lng: 24.5267,\n    status: \"operational\",\n    turbines: 5,\n    area: 6\n  }, {\n    name: \"Kemi Ajos II\",\n    country: \"Finland\",\n    capacity: 16,\n    lat: 65.6563,\n    lng: 24.5402,\n    status: \"operational\",\n    turbines: 3,\n    area: 4\n  }, {\n    name: \"Raahe\",\n    country: \"Finland\",\n    capacity: 44,\n    lat: 64.6500,\n    lng: 24.3500,\n    status: \"planned\",\n    turbines: 8,\n    area: 15\n  }, {\n    name: \"Korsnäs\",\n    country: \"Finland\",\n    capacity: 1300,\n    lat: 62.7500,\n    lng: 21.0500,\n    status: \"planned\",\n    turbines: 70,\n    area: 175\n  }, {\n    name: \"Siikajoki\",\n    country: \"Finland\",\n    capacity: 100,\n    lat: 64.8167,\n    lng: 24.6167,\n    status: \"planned\",\n    turbines: 20,\n    area: 25\n  },\n  // Poland\n  {\n    name: \"Baltic Power\",\n    country: \"Poland\",\n    capacity: 1200,\n    lat: 55.0000,\n    lng: 18.3330,\n    status: \"under construction\",\n    turbines: 76,\n    area: 131\n  }, {\n    name: \"FEW Baltic II\",\n    country: \"Poland\",\n    capacity: 350,\n    lat: 54.8000,\n    lng: 16.5000,\n    status: \"planned\",\n    turbines: 37,\n    area: 41\n  }, {\n    name: \"Baltica 1\",\n    country: \"Poland\",\n    capacity: 896,\n    lat: 55.2060,\n    lng: 17.1633,\n    status: \"planned\",\n    turbines: 64,\n    area: 108\n  }, {\n    name: \"Baltica 2\",\n    country: \"Poland\",\n    capacity: 1498,\n    lat: 55.3340,\n    lng: 16.8630,\n    status: \"planned\",\n    turbines: 107,\n    area: 190\n  }, {\n    name: \"Baltica 3\",\n    country: \"Poland\",\n    capacity: 1045,\n    lat: 55.3340,\n    lng: 16.7000,\n    status: \"planned\",\n    turbines: 95,\n    area: 131\n  }, {\n    name: \"MFW Bałtyk I\",\n    country: \"Poland\",\n    capacity: 1560,\n    lat: 55.2383,\n    lng: 17.4633,\n    status: \"planned\",\n    turbines: 100,\n    area: 128\n  }, {\n    name: \"MFW Bałtyk II\",\n    country: \"Poland\",\n    capacity: 720,\n    lat: 55.1233,\n    lng: 17.2467,\n    status: \"planned\",\n    turbines: 60,\n    area: 65\n  }, {\n    name: \"MFW Bałtyk III\",\n    country: \"Poland\",\n    capacity: 720,\n    lat: 55.0817,\n    lng: 17.0667,\n    status: \"planned\",\n    turbines: 60,\n    area: 80\n  },\n  // Estonia\n  {\n    name: \"Estonia Offshore 1\",\n    country: \"Estonia\",\n    capacity: 1000,\n    lat: 58.8000,\n    lng: 22.0000,\n    status: \"planned\",\n    turbines: 115,\n    area: 230,\n    // km²\n    areaPoints: [{\n      lat: 58.7800,\n      lng: 21.9600\n    }, {\n      lat: 58.7800,\n      lng: 22.0400\n    }, {\n      lat: 58.8200,\n      lng: 22.0400\n    }, {\n      lat: 58.8200,\n      lng: 21.9600\n    }, {\n      lat: 58.7800,\n      lng: 21.9600\n    }]\n  }, {\n    name: \"Liivi\",\n    country: \"Estonia\",\n    capacity: 1000,\n    lat: 57.8333,\n    lng: 23.5000,\n    status: \"planned\",\n    turbines: 100,\n    area: 160\n  }, {\n    name: \"Hiiumaa\",\n    country: \"Estonia\",\n    capacity: 700,\n    lat: 59.0833,\n    lng: 22.3833,\n    status: \"planned\",\n    turbines: 70,\n    area: 100\n  }, {\n    name: \"Saare-Liivi\",\n    country: \"Estonia\",\n    capacity: 600,\n    lat: 57.9500,\n    lng: 22.6833,\n    status: \"planned\",\n    turbines: 60,\n    area: 90\n  },\n  // Latvia\n  {\n    name: \"ELWIND\",\n    country: \"Latvia\",\n    capacity: 1000,\n    lat: 57.0830,\n    lng: 20.7500,\n    status: \"planned\",\n    turbines: 100,\n    area: 200\n  },\n  // Lithuania\n  {\n    name: \"Lithuanian OWF I\",\n    country: \"Lithuania\",\n    capacity: 700,\n    lat: 55.8330,\n    lng: 20.5000,\n    status: \"planned\",\n    turbines: 70,\n    area: 120\n  },\n  // Special projects\n  {\n    name: \"Bornholm Energy Island\",\n    country: \"Denmark\",\n    capacity: 3000,\n    lat: 55.1000,\n    lng: 14.9000,\n    status: \"planned\",\n    turbines: 200,\n    area: 400,\n    // km²\n    areaPoints: [{\n      lat: 55.0500,\n      lng: 14.8500\n    }, {\n      lat: 55.0500,\n      lng: 14.9500\n    }, {\n      lat: 55.1500,\n      lng: 14.9500\n    }, {\n      lat: 55.1500,\n      lng: 14.8500\n    }, {\n      lat: 55.0500,\n      lng: 14.8500\n    }]\n  }, {\n    name: \"Hywind Tampen\",\n    country: \"Norway\",\n    capacity: 88,\n    lat: 61.2500,\n    lng: 20.4000,\n    status: \"operational\",\n    turbines: 11,\n    area: 22\n  }];\n\n  // Function to render wind farms on the map - enhanced with polygon areas and zoom-based detail\n  const renderWindFarms = useCallback(() => {\n    // Make sure Google Maps is loaded\n    if (!window.google || !window.google.maps) {\n      console.warn('Google Maps not loaded yet');\n      return null;\n    }\n\n    // Filter wind farms to only show those in current map bounds\n    const visibleWindFarms = windFarmsData.filter(farm => isInMapBounds(farm.lat, farm.lng));\n    const isHighDetail = currentZoom >= 8;\n    const isMediumDetail = currentZoom >= 6 && currentZoom < 8;\n    return visibleWindFarms.map(windFarm => {\n      const position = {\n        lat: windFarm.lat,\n        lng: windFarm.lng\n      };\n\n      // Use different colors based on wind farm status\n      const fillColor = windFarm.status === \"operational\" ? '#FFC107' // amber color for operational wind farms\n      : '#4CAF50'; // green color for planned and under construction\n\n      // Icon for wind farms\n      const windFarmIcon = {\n        path: \"M -2,-2 L 2,-2 L 2,2 L -2,2 Z\",\n        // Square shape\n        scale: 1.5,\n        fillColor: fillColor,\n        fillOpacity: 0.8,\n        strokeColor: '#FFFFFF',\n        strokeWeight: 1,\n        rotation: 45 // Diamond shape\n      };\n\n      // Determine how to visualize the area based on zoom level\n      let areaVisualization;\n      if (isHighDetail) {\n        // Full detail at high zoom\n        if (windFarm.areaPoints) {\n          // Use specific polygon points if available\n          areaVisualization = /*#__PURE__*/_jsxDEV(MemoizedPolygon, {\n            paths: windFarm.areaPoints,\n            options: {\n              fillColor: fillColor,\n              fillOpacity: 0.1,\n              strokeColor: fillColor,\n              strokeOpacity: 0.4,\n              strokeWeight: 1\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1303,\n            columnNumber: 15\n          }, this);\n        } else if (windFarm.area) {\n          // If we only have the area in km², create a sized circle\n          // Convert km² to meters radius using area = π*r²\n          const areaInSquareMeters = windFarm.area * 1000000;\n          const radiusInMeters = Math.sqrt(areaInSquareMeters / Math.PI);\n          areaVisualization = /*#__PURE__*/_jsxDEV(MemoizedCircle, {\n            center: position,\n            radius: radiusInMeters,\n            options: {\n              fillColor: fillColor,\n              fillOpacity: 0.1,\n              strokeColor: fillColor,\n              strokeOpacity: 0.4,\n              strokeWeight: 1\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1321,\n            columnNumber: 15\n          }, this);\n        } else {\n          // Calculate estimated area based on capacity and turbines\n          let estimatedArea;\n          if (windFarm.turbines) {\n            estimatedArea = windFarm.turbines * 1.0;\n          } else {\n            estimatedArea = windFarm.capacity / 6.5;\n          }\n          const areaInSquareMeters = estimatedArea * 1000000;\n          const radiusInMeters = Math.sqrt(areaInSquareMeters / Math.PI);\n          areaVisualization = /*#__PURE__*/_jsxDEV(MemoizedCircle, {\n            center: position,\n            radius: radiusInMeters,\n            options: {\n              fillColor: fillColor,\n              fillOpacity: 0.1,\n              strokeColor: fillColor,\n              strokeOpacity: 0.4,\n              strokeWeight: 1\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1346,\n            columnNumber: 15\n          }, this);\n        }\n      } else if (isMediumDetail) {\n        // Simplified visualization for medium zoom levels\n        // Just use a circle with a simplified radius calculation\n        let radius;\n        if (windFarm.area) {\n          // Use the known area but with simplified calculation\n          radius = Math.sqrt(windFarm.area) * 1000; // Simplified conversion to meters\n        } else if (windFarm.capacity > 500) {\n          radius = 15000; // Large wind farm\n        } else if (windFarm.capacity > 100) {\n          radius = 10000; // Medium wind farm\n        } else {\n          radius = 5000; // Small wind farm\n        }\n        areaVisualization = /*#__PURE__*/_jsxDEV(MemoizedCircle, {\n          center: position,\n          radius: radius,\n          options: {\n            fillColor: fillColor,\n            fillOpacity: 0.08,\n            strokeColor: fillColor,\n            strokeOpacity: 0.3,\n            strokeWeight: 1\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1376,\n          columnNumber: 13\n        }, this);\n      } else {\n        // No area visualization at low zoom levels - just markers\n        areaVisualization = null;\n      }\n      return /*#__PURE__*/_jsxDEV(React.Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(MemoizedMarker, {\n          position: position,\n          icon: windFarmIcon,\n          onClick: () => {\n            // Calculate estimated area if not provided\n            let displayArea = windFarm.area;\n            if (!displayArea) {\n              if (windFarm.turbines) {\n                displayArea = Math.round(windFarm.turbines * 1.0);\n              } else {\n                displayArea = Math.round(windFarm.capacity / 6.5);\n              }\n            }\n            setSelectedVessel({\n              id: `wind-farm-${windFarm.name}`,\n              name: windFarm.name,\n              type: 'wind-farm',\n              flag: windFarm.country,\n              operator: windFarm.country,\n              capacity: windFarm.capacity,\n              status: windFarm.status,\n              area: displayArea,\n              turbines: windFarm.turbines,\n              estimatedArea: !windFarm.area,\n              isWindFarm: true\n            });\n          },\n          zIndex: 50\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1395,\n          columnNumber: 13\n        }, this), areaVisualization]\n      }, `wind-farm-${windFarm.name}`, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1394,\n        columnNumber: 11\n      }, this);\n    });\n  }, [showWindFarms, isInMapBounds, currentZoom, windFarmsData]);\n\n  // Separate function to render ONLY radar coverage with zoom-based detail\n  const renderRadarCoverage = useCallback(() => {\n    // Make sure Google Maps is loaded\n    if (!window.google || !window.google.maps) {\n      console.warn('Google Maps not loaded yet');\n      return null;\n    }\n    if (!showRadarCoverage || !showWindFarms) return null;\n\n    // Skip rendering radar coverage at low zoom levels for performance\n    if (currentZoom < 6) return null;\n\n    // Filter to only show radar coverage for wind farms in the current bounds\n    const visibleWindFarms = windFarmsData.filter(farm => isInMapBounds(farm.lat, farm.lng));\n    const isHighDetail = currentZoom >= 8;\n    return visibleWindFarms.map(windFarm => {\n      const position = {\n        lat: windFarm.lat,\n        lng: windFarm.lng\n      };\n      const radarCoverageRadius = 77784; // 42 nautical miles in meters\n\n      return /*#__PURE__*/_jsxDEV(MemoizedCircle, {\n        center: position,\n        radius: radarCoverageRadius,\n        options: {\n          fillColor: '#FF0000',\n          fillOpacity: isHighDetail ? 0.05 : 0.03,\n          strokeColor: '#FF0000',\n          strokeOpacity: isHighDetail ? 0.7 : 0.5,\n          strokeWeight: isHighDetail ? 1 : 0.5,\n          strokeDashArray: [5, 5] // Dashed line pattern\n        }\n      }, `radar-${windFarm.name}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1457,\n        columnNumber: 9\n      }, this);\n    });\n  }, [showWindFarms, showRadarCoverage, isInMapBounds, currentZoom, windFarmsData]);\n\n  // Function to render vessel radar coverage based on gross tonnage with zoom-based detail\n  const renderVesselRadarCoverage = useCallback(() => {\n    // Make sure Google Maps is loaded\n    if (!window.google || !window.google.maps) {\n      console.warn('Google Maps not loaded yet');\n      return null;\n    }\n\n    // Skip rendering vessel radar at low zoom levels for performance\n    if (currentZoom < 6) return null;\n    const result = [];\n\n    // Render medium vessels (GT 300-2999) with 20 NM radar\n    if (showVesselRadar) {\n      // Filter vessels to show radar only for commercial vessels with GT 300-2999\n      const mediumVessels = vessels.filter(v => (v.type === 'commercial' || v.type === 'tanker' || v.type === 'passenger') && v.grossTonnage >= 300 && v.grossTonnage < 3000 && isInMapBounds(v.position[1], v.position[0]));\n      const isHighDetail = currentZoom >= 8;\n      mediumVessels.forEach(vessel => {\n        const position = {\n          lat: vessel.position[1],\n          lng: vessel.position[0]\n        };\n\n        // Medium vessels have 20 NM radar range\n        const radarRangeNM = 20;\n        // Convert NM to meters (1 NM = 1852 meters)\n        const radarRangeMeters = radarRangeNM * 1852;\n        result.push(/*#__PURE__*/_jsxDEV(MemoizedCircle, {\n          center: position,\n          radius: radarRangeMeters,\n          options: {\n            fillColor: '#4285F4',\n            fillOpacity: isHighDetail ? 0.03 : 0.02,\n            strokeColor: '#4285F4',\n            strokeOpacity: isHighDetail ? 0.6 : 0.4,\n            strokeWeight: isHighDetail ? 1 : 0.5,\n            strokeDashArray: [5, 5] // Dashed line pattern\n          }\n        }, `vessel-radar-${vessel.id}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1507,\n          columnNumber: 11\n        }, this));\n      });\n    }\n\n    // Render large vessels (GT >= 3000) with 40 NM radar\n    if (showLargeVesselRadar) {\n      // Filter vessels to show radar only for commercial vessels with GT >= 3000\n      const largeVessels = vessels.filter(v => (v.type === 'commercial' || v.type === 'tanker' || v.type === 'passenger') && v.grossTonnage >= 3000 && isInMapBounds(v.position[1], v.position[0]));\n      const isHighDetail = currentZoom >= 8;\n      largeVessels.forEach(vessel => {\n        const position = {\n          lat: vessel.position[1],\n          lng: vessel.position[0]\n        };\n\n        // Large vessels have 40 NM radar range\n        const radarRangeNM = 40;\n        // Convert NM to meters (1 NM = 1852 meters)\n        const radarRangeMeters = radarRangeNM * 1852;\n        result.push(/*#__PURE__*/_jsxDEV(MemoizedCircle, {\n          center: position,\n          radius: radarRangeMeters,\n          options: {\n            fillColor: '#4285F4',\n            fillOpacity: isHighDetail ? 0.03 : 0.02,\n            strokeColor: '#4285F4',\n            strokeOpacity: isHighDetail ? 0.6 : 0.4,\n            strokeWeight: isHighDetail ? 1 : 0.5,\n            strokeDashArray: [5, 5] // Dashed line pattern\n          }\n        }, `large-vessel-radar-${vessel.id}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1544,\n          columnNumber: 11\n        }, this));\n      });\n    }\n    return result;\n  }, [showVesselRadar, showLargeVesselRadar, vessels, isInMapBounds, currentZoom]);\n\n  // Update the map when display mode changes\n  useEffect(() => {\n    // This effect updates the Google Maps styling when display mode changes\n    mapOptions.styles = getMapStyle(displayMode);\n\n    // If map is loaded, we can update its options\n    if (mapRef.current) {\n      mapRef.current.setOptions(mapOptions);\n    }\n  }, [displayMode, mapOptions]);\n\n  // onMapLoad with error handling \n  const onMapLoad = useCallback(map => {\n    try {\n      console.log(\"Map loaded successfully\");\n      mapRef.current = map;\n\n      // Make sure dragging is enabled\n      map.setOptions({\n        draggable: true,\n        zoomControl: false,\n        scrollwheel: true,\n        disableDoubleClickZoom: false\n      });\n\n      // We can store the map's zoom control functionality\n      zoomRef.current = {\n        zoomIn: () => {\n          const newZoom = map.getZoom() + 1;\n          map.setZoom(newZoom);\n          setCurrentZoom(newZoom);\n        },\n        zoomOut: () => {\n          const newZoom = map.getZoom() - 1;\n          map.setZoom(newZoom);\n          setCurrentZoom(newZoom);\n        }\n      };\n\n      // Get initial bounds\n      if (map.getBounds()) {\n        const bounds = map.getBounds();\n        setMapBounds({\n          north: bounds.getNorthEast().lat(),\n          east: bounds.getNorthEast().lng(),\n          south: bounds.getSouthWest().lat(),\n          west: bounds.getSouthWest().lng()\n        });\n\n        // Initialize current center from the map\n        const center = map.getCenter();\n        setCurrentMapCenter({\n          lat: center.lat(),\n          lng: center.lng()\n        });\n      }\n\n      // Set initial zoom\n      setCurrentZoom(map.getZoom());\n    } catch (error) {\n      console.error(\"Error in onMapLoad:\", error);\n    }\n  }, []);\n\n  // Add a click handler to the map background to deselect the current vessel\n  const handleMapClick = () => {\n    if (selectedVessel) {\n      setSelectedVessel(null);\n    }\n  };\n\n  // Get visible vessel count - memoized for sidebar display\n  const visibleVesselCount = useMemo(() => vessels.filter(v => {\n    const matchesFilter = filter === 'all' || (filter === 'russian' ? v.isRussian : v.type === filter);\n    return matchesFilter;\n  }).length, [vessels, filter]);\n\n  // Get only vessels visible in current sidebar (both filtered and in bounds) - memoized\n  const displayedVessels = useMemo(() => vessels.filter(v => {\n    const matchesFilter = filter === 'all' || (filter === 'russian' ? v.isRussian : v.type === filter);\n    const inBounds = isInMapBounds(v.position[1], v.position[0]);\n    return matchesFilter && inBounds;\n  }).slice(0, 50) // Still limit to 50 for performance\n  , [vessels, filter, isInMapBounds]);\n\n  // Memoize UI elements that don't need frequent updates\n  const controlPanels = useMemo(() => /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"control-panel\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-sm font-semibold mb-3 palantir-heading\",\n        children: \"Display Mode\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1660,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: displayMode === 'radar' ? 'active' : '',\n          onClick: () => setDisplayMode('radar'),\n          children: [/*#__PURE__*/_jsxDEV(Radar, {\n            size: 16,\n            className: \"mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1666,\n            columnNumber: 13\n          }, this), \"Radar\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1662,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: displayMode === 'sonar' ? 'active' : '',\n          onClick: () => setDisplayMode('sonar'),\n          children: [/*#__PURE__*/_jsxDEV(Waves, {\n            size: 16,\n            className: \"mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1673,\n            columnNumber: 13\n          }, this), \"Sonar\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1669,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: displayMode === 'fused' ? 'active' : '',\n          onClick: () => setDisplayMode('fused'),\n          children: [/*#__PURE__*/_jsxDEV(Layers, {\n            size: 16,\n            className: \"mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1680,\n            columnNumber: 13\n          }, this), \"Fused\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1676,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1661,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1659,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"control-panel\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-sm font-semibold mb-3 palantir-heading\",\n        children: \"Vessel Filter\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1687,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: filter === 'all' ? 'active' : '',\n          onClick: () => setFilter('all'),\n          children: \"All\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1689,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: filter === 'commercial' ? 'active' : '',\n          onClick: () => setFilter('commercial'),\n          children: \"Commercial\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1695,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: filter === 'military' ? 'active' : '',\n          onClick: () => setFilter('military'),\n          children: \"Military\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1701,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: filter === 'submarine' ? 'active' : '',\n          onClick: () => setFilter('submarine'),\n          children: \"Russian Submarines\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1707,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: filter === 'russian' ? 'active' : '',\n          onClick: () => setFilter('russian'),\n          children: \"Russian Surface\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1713,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1688,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1686,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"control-panel\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-sm font-semibold mb-3 palantir-heading\",\n        children: \"Wind Infrastructure\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1723,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: showWindFarms ? 'active' : '',\n          onClick: () => {\n            const newShowWindFarms = !showWindFarms;\n            setShowWindFarms(newShowWindFarms);\n            // If turning off wind farms, ensure radar coverage is also off\n            if (!newShowWindFarms) {\n              setShowRadarCoverage(false);\n            }\n          },\n          children: [/*#__PURE__*/_jsxDEV(Wind, {\n            size: 16,\n            className: \"mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1736,\n            columnNumber: 13\n          }, this), \"Wind Farms \", showWindFarms ? '(Shown)' : '(Hidden)']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1725,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: showRadarCoverage ? 'active' : '',\n          onClick: () => {\n            setShowRadarCoverage(!showRadarCoverage);\n          },\n          disabled: !showWindFarms,\n          style: {\n            opacity: !showWindFarms ? 0.5 : 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(Radar, {\n            size: 16,\n            className: \"mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1747,\n            columnNumber: 13\n          }, this), \"Radar Coverage (42 NM)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1739,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1724,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1722,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"control-panel\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-sm font-semibold mb-3 palantir-heading\",\n        children: \"Commercial Vessel Infrastructure\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1754,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: showVesselRadar ? 'active' : '',\n          onClick: () => setShowVesselRadar(!showVesselRadar),\n          children: [/*#__PURE__*/_jsxDEV(Radar, {\n            size: 16,\n            className: \"mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1760,\n            columnNumber: 13\n          }, this), \"Vessel Radar (GT 300-2999)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1756,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: showLargeVesselRadar ? 'active' : '',\n          onClick: () => setShowLargeVesselRadar(!showLargeVesselRadar),\n          children: [/*#__PURE__*/_jsxDEV(Radar, {\n            size: 16,\n            className: \"mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1767,\n            columnNumber: 13\n          }, this), \"Vessel Radar (GT > 3000)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1763,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1755,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1753,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"control-panel\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-sm font-semibold mb-3 palantir-heading\",\n        children: \"Vessel Simulation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1775,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: simulationEnabled ? 'active' : '',\n          onClick: () => setSimulationEnabled(!simulationEnabled),\n          children: [/*#__PURE__*/_jsxDEV(Ship, {\n            size: 16,\n            className: \"mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1781,\n            columnNumber: 13\n          }, this), simulationEnabled ? 'Pause Movement' : 'Start Movement']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1777,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-xs mb-1\",\n            children: [\"Speed: \", simulationSpeed, \"x\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1785,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"range\",\n            min: \"1\",\n            max: \"50\",\n            value: simulationSpeed,\n            onChange: e => setSimulationSpeed(parseInt(e.target.value)),\n            className: \"w-2/5 max-w-[80px]\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1786,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1784,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1776,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1774,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"control-panel\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-sm font-semibold mb-3 palantir-heading\",\n        children: \"Defense Simulation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1800,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col gap-2\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: seameshSimulationActive ? 'active' : '',\n          onClick: startSeameshSimulation,\n          disabled: seameshSimulationActive,\n          style: {\n            backgroundColor: seameshSimulationActive ? '#DAA520' : '#D2B48C',\n            opacity: seameshSimulationActive ? 0.7 : 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(Radar, {\n            size: 16,\n            className: \"mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1811,\n            columnNumber: 13\n          }, this), \"Simulate SeaMesh and AirMesh\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1802,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1801,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1799,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true), [displayMode, filter, showWindFarms, showRadarCoverage, showVesselRadar, showLargeVesselRadar, simulationEnabled, simulationSpeed, seameshSimulationActive]);\n\n  // SeaMesh and AirMesh simulation\n  const startSeameshSimulation = useCallback(() => {\n    // Reset simulation state\n    setSeameshSimulationStep(0);\n    setWarshipDetectionRate(0);\n    setDroneDetectionRate(0);\n    setSeameshSimulationActive(true);\n    setFlashingRadarCircles([]);\n    setSimulationComplete(false);\n\n    // Initial screen flash (twice)\n    const flashTwice = () => {\n      setFlashScreen(true);\n      setFlashCount(1);\n      setTimeout(() => {\n        setFlashScreen(false);\n        setTimeout(() => {\n          setFlashScreen(true);\n          setFlashCount(2);\n          setTimeout(() => {\n            setFlashScreen(false);\n            startSimulationSequence();\n          }, 500);\n        }, 300);\n      }, 500);\n    };\n\n    // Start with flashing\n    flashTwice();\n\n    // Main simulation sequence\n    const startSimulationSequence = () => {\n      // Make sure we're showing wind farms and radar coverage\n      setShowWindFarms(true);\n      setShowRadarCoverage(true);\n      setShowVesselRadar(true);\n      setShowLargeVesselRadar(true);\n\n      // Center the map for better view of both routes\n      if (mapRef.current) {\n        mapRef.current.setCenter({\n          lat: 58,\n          lng: 18\n        });\n        mapRef.current.setZoom(7);\n        setCurrentZoom(7);\n      }\n\n      // Spawn simulated Russian warships and drones\n      const simulatedWarships = [{\n        id: 'warship-kaliningrad-1',\n        name: 'RFS Stoiky',\n        type: 'military',\n        flag: 'Russia',\n        isRussian: true,\n        startPosition: [20.5, 54.7],\n        // Near Kaliningrad\n        endPosition: [18.1, 59.4],\n        // Towards Stockholm\n        position: [20.5, 54.7],\n        heading: 320,\n        speed: 14,\n        length: 104,\n        operator: 'Russian Navy',\n        detectionProbability: {\n          radar: 0.8,\n          sonar: 0.7,\n          fused: 0.75\n        },\n        grossTonnage: 2200,\n        detected: false,\n        detectionSource: null\n      }, {\n        id: 'warship-stpetersburg-1',\n        name: 'RFS Admiral Gorshkov',\n        type: 'military',\n        flag: 'Russia',\n        isRussian: true,\n        startPosition: [30.0, 60.0],\n        // Near St. Petersburg\n        endPosition: [18.5, 59.3],\n        // Towards Stockholm\n        position: [30.0, 60.0],\n        heading: 270,\n        speed: 18,\n        length: 135,\n        operator: 'Russian Navy',\n        detectionProbability: {\n          radar: 0.9,\n          sonar: 0.8,\n          fused: 0.85\n        },\n        grossTonnage: 4500,\n        detected: false,\n        detectionSource: null\n      }];\n      const simulatedDrones = [{\n        id: 'drone-kaliningrad-1',\n        name: 'Russian Drone #1',\n        type: 'drone',\n        flag: 'Russia',\n        isRussian: true,\n        startPosition: [20.5, 54.7],\n        // Near Kaliningrad\n        endPosition: [12.6, 55.7],\n        // Towards Copenhagen\n        position: [20.5, 54.7],\n        heading: 260,\n        speed: 22,\n        length: 3,\n        operator: 'Russian Military',\n        detectionProbability: {\n          radar: 0.3,\n          sonar: 0.1,\n          fused: 0.2\n        },\n        detected: false,\n        detectionSource: null\n      }, {\n        id: 'drone-kaliningrad-2',\n        name: 'Russian Drone #2',\n        type: 'drone',\n        flag: 'Russia',\n        isRussian: true,\n        startPosition: [20.5, 54.7],\n        // Near Kaliningrad\n        endPosition: [10.0, 53.5],\n        // Towards Hamburg\n        position: [20.5, 54.7],\n        heading: 230,\n        speed: 25,\n        length: 3,\n        operator: 'Russian Military',\n        detectionProbability: {\n          radar: 0.4,\n          sonar: 0.1,\n          fused: 0.25\n        },\n        detected: false,\n        detectionSource: null\n      }];\n\n      // Add simulated entities to vessel list\n      setVessels(prev => [...prev, ...simulatedWarships, ...simulatedDrones]);\n\n      // Store the original vessels for later restoration\n      const originalVessels = [...vessels];\n\n      // Define the detection sources (commercial vessels and wind farms)\n      const commercialVesselRadarSources = vessels.filter(v => (v.type === 'commercial' || v.type === 'tanker' || v.type === 'passenger') && v.grossTonnage >= 300).map(v => ({\n        id: v.id,\n        position: v.position,\n        range: v.grossTonnage >= 3000 ? 40 * 1852 : 20 * 1852,\n        // Convert NM to meters\n        type: 'vessel'\n      }));\n      const windFarmRadarSources = windFarmsData.map(farm => ({\n        id: farm.name,\n        position: [farm.lng, farm.lat],\n        range: 77784,\n        // 42 NM in meters\n        type: 'windfarm'\n      }));\n\n      // Simulation step function - advances the simulation by one step\n      let step = 0;\n      let warshipDetections = 0;\n      let droneDetections = 0;\n\n      // Add a new flashing radar circle when a detection occurs\n      const addFlashingCircle = (sourcePosition, radius, type) => {\n        const newCircle = {\n          id: `flash-${Date.now()}-${Math.random()}`,\n          position: sourcePosition,\n          radius,\n          type,\n          createdAt: Date.now()\n        };\n        setFlashingRadarCircles(prev => [...prev, newCircle]);\n\n        // Add a secondary flash at source for visual impact\n        setTimeout(() => {\n          const smallerFlash = {\n            id: `flash-small-${Date.now()}-${Math.random()}`,\n            position: sourcePosition,\n            radius: radius * 0.3,\n            // Smaller radius for the second flash\n            type,\n            createdAt: Date.now()\n          };\n          setFlashingRadarCircles(prev => [...prev, smallerFlash]);\n\n          // Remove after animation completes\n          setTimeout(() => {\n            setFlashingRadarCircles(prev => prev.filter(c => c.id !== smallerFlash.id));\n          }, 1500);\n        }, 300);\n\n        // Auto-remove after animation completes\n        setTimeout(() => {\n          setFlashingRadarCircles(prev => prev.filter(c => c.id !== newCircle.id));\n        }, 2000);\n      };\n      const runSimulationStep = () => {\n        step++;\n        setSeameshSimulationStep(step);\n\n        // Move warships and drones along paths\n        setVessels(prev => {\n          const updatedVessels = prev.map(vessel => {\n            // Only move simulated entities\n            if (vessel.id.startsWith('warship-') || vessel.id.startsWith('drone-')) {\n              const progress = Math.min(step / 100, 1); // 100 steps for full journey\n\n              // Linear interpolation between start and end points\n              const newLng = vessel.startPosition[0] + (vessel.endPosition[0] - vessel.startPosition[0]) * progress;\n              const newLat = vessel.startPosition[1] + (vessel.endPosition[1] - vessel.startPosition[1]) * progress;\n\n              // Calculate heading based on movement direction\n              const dx = vessel.endPosition[0] - vessel.startPosition[0];\n              const dy = vessel.endPosition[1] - vessel.startPosition[1];\n              const heading = (Math.atan2(dx, dy) * 180 / Math.PI + 360) % 360;\n\n              // Check for detection by radar sources\n              let detected = vessel.detected;\n              let detectionSource = vessel.detectionSource;\n\n              // Only try to detect if not already detected\n              if (!detected) {\n                const radarSources = vessel.id.startsWith('warship-') ? commercialVesselRadarSources : windFarmRadarSources;\n                for (const source of radarSources) {\n                  const distanceInMeters = getDistanceInMeters([newLng, newLat], source.position);\n                  if (distanceInMeters <= source.range) {\n                    // Detection probability increases with proximity\n                    const detectionThreshold = 0.5 * (1 - distanceInMeters / source.range);\n                    const randomFactor = Math.random();\n                    if (randomFactor < detectionThreshold) {\n                      detected = true;\n                      detectionSource = source;\n\n                      // Add flashing radar circle\n                      addFlashingCircle(source.position, source.range, source.type);\n\n                      // Update detection counters\n                      if (vessel.id.startsWith('warship-')) {\n                        warshipDetections++;\n                        setWarshipDetectionRate(Math.round(warshipDetections / 2 * 100));\n                      } else {\n                        droneDetections++;\n                        setDroneDetectionRate(Math.round(droneDetections / 2 * 100));\n                      }\n                      break;\n                    }\n                  }\n                }\n              }\n              return {\n                ...vessel,\n                position: [newLng, newLat],\n                heading,\n                detected,\n                detectionSource\n              };\n            }\n            return vessel;\n          });\n          return updatedVessels;\n        });\n\n        // Continue simulation until all entities are detected or max steps reached\n        if (step < 150 && (warshipDetections < 2 || droneDetections < 2)) {\n          simulationTimerRef.current = setTimeout(runSimulationStep, 250);\n        } else {\n          // Set simulation to complete state but leave it visible\n          setSimulationComplete(true);\n\n          // End simulation after delay\n          setTimeout(() => {\n            setSeameshSimulationActive(false);\n            setFlashingRadarCircles([]);\n            setSimulationComplete(false);\n            // Restore original vessels\n            setVessels(originalVessels);\n            // Reset displays\n            setShowWindFarms(false);\n            setShowRadarCoverage(false);\n            setShowVesselRadar(false);\n            setShowLargeVesselRadar(false);\n          }, 5000);\n        }\n      };\n\n      // Start the simulation sequence\n      setTimeout(runSimulationStep, 1000);\n    };\n  }, [vessels, windFarmsData]);\n\n  // Helper function to calculate distance between coordinates in meters\n  const getDistanceInMeters = useCallback((coord1, coord2) => {\n    const [lon1, lat1] = coord1;\n    const [lon2, lat2] = coord2;\n    const R = 6371e3; // Earth's radius in meters\n    const φ1 = lat1 * Math.PI / 180;\n    const φ2 = lat2 * Math.PI / 180;\n    const Δφ = (lat2 - lat1) * Math.PI / 180;\n    const Δλ = (lon2 - lon1) * Math.PI / 180;\n    const a = Math.sin(Δφ / 2) * Math.sin(Δφ / 2) + Math.cos(φ1) * Math.cos(φ2) * Math.sin(Δλ / 2) * Math.sin(Δλ / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    const distance = R * c;\n    return distance;\n  }, []);\n\n  // Clean up simulation on unmount\n  useEffect(() => {\n    return () => {\n      if (simulationTimerRef.current) {\n        clearTimeout(simulationTimerRef.current);\n      }\n      // Clear any remaining flashing circles\n      setFlashingRadarCircles([]);\n    };\n  }, []);\n\n  // Render flashing screen overlay for simulation\n  const renderFlashingOverlay = useCallback(() => {\n    if (!flashScreen) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute inset-0 bg-red-600 z-50 pointer-events-none\",\n      style: {\n        opacity: 0.3,\n        animation: 'flash 0.5s ease-out'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2152,\n      columnNumber: 7\n    }, this);\n  }, [flashScreen]);\n\n  // Render simulation status and detection rates\n  const renderSimulationStatus = useCallback(() => {\n    if (!seameshSimulationActive) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute top-16 right-4 control-panel z-40 bg-gray-800 bg-opacity-90\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-sm font-semibold mb-3 palantir-heading\",\n        children: simulationComplete ? 'Simulation Complete' : 'SeaMesh & AirMesh Simulation'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2168,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs mb-1 flex justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Warship Detection:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2175,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: warshipDetectionRate === 100 ? 'text-green-400' : '',\n              children: [warshipDetectionRate, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2176,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2174,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-700 h-2 w-full rounded-full overflow-hidden\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `h-full rounded-full transition-all duration-500 ${warshipDetectionRate === 100 ? 'bg-green-500' : 'bg-blue-500'}`,\n              style: {\n                width: `${warshipDetectionRate}%`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2181,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2180,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2173,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs mb-1 flex justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Drone Detection:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2192,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: droneDetectionRate === 100 ? 'text-green-400' : '',\n              children: [droneDetectionRate, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2193,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2191,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-700 h-2 w-full rounded-full overflow-hidden\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `h-full rounded-full transition-all duration-500 ${droneDetectionRate === 100 ? 'bg-green-500' : 'bg-red-500'}`,\n              style: {\n                width: `${droneDetectionRate}%`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2198,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2197,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2190,\n          columnNumber: 11\n        }, this), simulationComplete && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-2 text-xs text-green-400\",\n          children: \"Detection complete! The SeaMesh and AirMesh networks successfully detected all Russian threats using civilian infrastructure.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2208,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2172,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2167,\n      columnNumber: 7\n    }, this);\n  }, [seameshSimulationActive, warshipDetectionRate, droneDetectionRate, simulationComplete]);\n\n  // Render flashing radar circles for simulation\n  const renderRadarFlashes = useCallback(() => {\n    // Make sure Google Maps is loaded\n    if (!window.google || !window.google.maps) {\n      console.warn('Google Maps not loaded yet');\n      return null;\n    }\n    if (!seameshSimulationActive || flashingRadarCircles.length === 0) return null;\n    return flashingRadarCircles.map(circle => {\n      // Create a unique class name that includes the circle ID\n      const pulseClassName = `radar-pulse-${circle.id.replace(/[^a-zA-Z0-9]/g, '')}`;\n\n      // Add a style tag with animation for this specific circle\n      const circleStyle = `\n        @keyframes pulse-${pulseClassName} {\n          0% { transform: scale(0.6); opacity: 0.7; }\n          50% { transform: scale(0.9); opacity: 0.3; }\n          100% { transform: scale(1.2); opacity: 0; }\n        }\n        \n        .${pulseClassName} {\n          animation: pulse-${pulseClassName} 2s ease-out;\n          transform-origin: center center;\n        }\n      `;\n      return /*#__PURE__*/_jsxDEV(React.Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"style\", {\n          children: circleStyle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2247,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MemoizedCircle, {\n          center: {\n            lat: typeof circle.position[1] === 'number' ? circle.position[1] : parseFloat(circle.position[1]),\n            lng: typeof circle.position[0] === 'number' ? circle.position[0] : parseFloat(circle.position[0])\n          },\n          radius: circle.radius,\n          options: {\n            fillColor: circle.type === 'vessel' ? '#0088FF' : '#FF8800',\n            fillOpacity: 0.1,\n            strokeColor: circle.type === 'vessel' ? '#00FFFF' : '#FFFF00',\n            strokeOpacity: 0.8,\n            strokeWeight: 2,\n            className: pulseClassName\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2248,\n          columnNumber: 11\n        }, this)]\n      }, circle.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2246,\n        columnNumber: 9\n      }, this);\n    });\n  }, [seameshSimulationActive, flashingRadarCircles]);\n\n  // Special visualization for detected vessels\n  const renderDetectionLines = useCallback(() => {\n    // Make sure Google Maps is loaded\n    if (!window.google || !window.google.maps) {\n      console.warn('Google Maps not loaded yet');\n      return null;\n    }\n    if (!seameshSimulationActive) return null;\n    const detectedVessels = vessels.filter(v => {\n      var _v$id, _v$id2;\n      return (((_v$id = v.id) === null || _v$id === void 0 ? void 0 : _v$id.startsWith('warship-')) || ((_v$id2 = v.id) === null || _v$id2 === void 0 ? void 0 : _v$id2.startsWith('drone-'))) && v.detected && v.detectionSource;\n    });\n    return detectedVessels.map(vessel => {\n      const vesselPosition = {\n        lat: vessel.position[1],\n        lng: vessel.position[0]\n      };\n      const sourcePosition = {\n        lat: vessel.detectionSource.position[1],\n        lng: vessel.detectionSource.position[0]\n      };\n      return /*#__PURE__*/_jsxDEV(React.Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(MemoizedCircle, {\n          center: vesselPosition,\n          radius: 1000,\n          options: {\n            fillColor: vessel.id.startsWith('warship-') ? '#0088FF' : '#FF8800',\n            fillOpacity: 0.3,\n            strokeColor: vessel.id.startsWith('warship-') ? '#00FFFF' : '#FFFF00',\n            strokeOpacity: 0.8,\n            strokeWeight: 2\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2294,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Polyline, {\n          path: [sourcePosition, vesselPosition],\n          options: {\n            strokeColor: vessel.id.startsWith('warship-') ? '#0088FF' : '#FF8800',\n            strokeOpacity: 0.6,\n            strokeWeight: 2,\n            icons: [{\n              icon: {\n                path: window.google.maps.SymbolPath.FORWARD_CLOSED_ARROW\n              },\n              offset: '50%'\n            }]\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2307,\n          columnNumber: 11\n        }, this)]\n      }, `detection-line-${vessel.id}`, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2292,\n        columnNumber: 9\n      }, this);\n    });\n  }, [vessels, seameshSimulationActive]);\n\n  // Update UI to include display mode toggle\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"baltic-tracker-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"style\", {\n      children: simulationStyles\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2330,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex h-screen\",\n      children: [showSidebar && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar w-80\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-xl font-semibold palantir-heading\",\n            children: \"Baltic Sea Tracker\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2336,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowSidebar(false),\n            children: /*#__PURE__*/_jsxDEV(Menu, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2338,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2337,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2335,\n          columnNumber: 13\n        }, this), controlPanels]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2334,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 relative\",\n        children: [!showSidebar && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"absolute top-4 left-4 z-10\",\n          onClick: () => setShowSidebar(true),\n          children: /*#__PURE__*/_jsxDEV(Menu, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2352,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2348,\n          columnNumber: 13\n        }, this), loadError && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full h-full flex flex-col items-center justify-center bg-gray-900 text-white p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xl mb-4\",\n            children: \"Error loading Google Maps\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2359,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm max-w-lg text-center\",\n            children: [\"There was an error loading the Google Maps API. This could be due to:\", /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"list-disc pl-5 mt-2 text-left\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Network connection issues\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2363,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"API key restrictions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2364,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Ad blockers or privacy extensions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2365,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2362,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4\",\n              children: \"Please try refreshing the page or check your network connection.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2367,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => window.location.reload(),\n              className: \"mt-4 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded\",\n              children: \"Reload Page\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2371,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2360,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2358,\n          columnNumber: 13\n        }, this), !loadError && isLoaded ? /*#__PURE__*/_jsxDEV(GoogleMap, {\n          mapContainerStyle: {\n            width: '100%',\n            height: '100%'\n          },\n          center: currentMapCenter,\n          zoom: mapZoom,\n          options: mapOptions,\n          onLoad: onMapLoad,\n          onClick: handleMapClick,\n          onDragEnd: () => {\n            // Only update bounds when drag is complete\n            if (mapRef.current && mapRef.current.getBounds()) {\n              const bounds = mapRef.current.getBounds();\n              setMapBounds({\n                north: bounds.getNorthEast().lat(),\n                east: bounds.getNorthEast().lng(),\n                south: bounds.getSouthWest().lat(),\n                west: bounds.getSouthWest().lng()\n              });\n\n              // Update the map center after drag\n              const center = mapRef.current.getCenter();\n              setCurrentMapCenter({\n                lat: center.lat(),\n                lng: center.lng()\n              });\n            }\n          },\n          onZoomChanged: () => {\n            if (mapRef.current) {\n              setCurrentZoom(mapRef.current.getZoom());\n\n              // Update bounds after zoom\n              if (mapRef.current.getBounds()) {\n                const bounds = mapRef.current.getBounds();\n                setMapBounds({\n                  north: bounds.getNorthEast().lat(),\n                  east: bounds.getNorthEast().lng(),\n                  south: bounds.getSouthWest().lat(),\n                  west: bounds.getSouthWest().lng()\n                });\n\n                // Update center after zoom change\n                const center = mapRef.current.getCenter();\n                setCurrentMapCenter({\n                  lat: center.lat(),\n                  lng: center.lng()\n                });\n              }\n            }\n          },\n          children: [vessels.length > 0 && renderVessels(), showWindFarms && renderWindFarms(), showRadarCoverage && renderRadarCoverage(), (showVesselRadar || showLargeVesselRadar) && renderVesselRadarCoverage(), renderRadarFlashes(), renderDetectionLines()]\n        }, mapKey, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2381,\n          columnNumber: 13\n        }, this) : !loadError ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full h-full flex items-center justify-center bg-gray-900 text-white\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xl\",\n            children: \"Loading map...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2441,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2440,\n          columnNumber: 13\n        }, this) : null, renderFlashingOverlay(), renderSimulationStatus(), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute bottom-4 right-4 flex gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => zoomRef.current && zoomRef.current.zoomIn(),\n            children: /*#__PURE__*/_jsxDEV(ZoomIn, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2451,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2450,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => zoomRef.current && zoomRef.current.zoomOut(),\n            children: /*#__PURE__*/_jsxDEV(ZoomOut, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2454,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2453,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2449,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute bottom-4 left-4\",\n          style: {\n            zIndex: 1000\n          },\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              // Create a simplified reset function that handles all necessary state\n              const resetMap = () => {\n                // Reset vessel selection and visualization features\n                setSelectedVessel(null);\n                setShowWindFarms(false);\n                setShowRadarCoverage(false);\n                setShowVesselRadar(false);\n                setShowLargeVesselRadar(false);\n                setSimulationEnabled(false);\n\n                // Reset display settings\n                setDisplayMode('radar');\n                setFilter('all');\n                setSimulationSpeed(10);\n\n                // Reset map position and zoom\n                if (mapRef.current) {\n                  mapRef.current.setCenter(mapCenter);\n                  mapRef.current.setZoom(mapZoom);\n                  setCurrentZoom(mapZoom);\n                  setCurrentMapCenter(mapCenter);\n                }\n\n                // Force React to remount map components\n                setMapKey(Date.now());\n              };\n\n              // Execute the reset function\n              resetMap();\n\n              // Small timeout to ensure map refreshes completely\n              setTimeout(() => {\n                if (mapRef.current && mapRef.current.overlayMapTypes) {\n                  mapRef.current.overlayMapTypes.clear();\n                }\n              }, 10);\n            },\n            style: {\n              backgroundColor: '#8B0000',\n              // Dark red color\n              color: '#FFFFFF',\n              padding: '0.5rem 1rem',\n              borderRadius: '0.25rem',\n              border: 'none',\n              fontWeight: '600',\n              cursor: 'pointer',\n              boxShadow: '0 2px 4px rgba(0, 0, 0, 0.3)'\n            },\n            children: \"Reset filters\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2459,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2458,\n          columnNumber: 11\n        }, this), selectedVessel && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute top-4 right-4 control-panel\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-sm font-semibold\",\n              children: selectedVessel.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2516,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setSelectedVessel(null),\n              className: \"text-gray-400 hover:text-white\",\n              children: \"\\xD7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2517,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2515,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-secondary\",\n            children: selectedVessel.isWindFarm ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"Type: Wind Farm\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2527,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Country: \", selectedVessel.flag]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2528,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Capacity: \", selectedVessel.capacity, \" MW\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2529,\n                columnNumber: 21\n              }, this), selectedVessel.turbines && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Turbines: \", selectedVessel.turbines]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2530,\n                columnNumber: 49\n              }, this), selectedVessel.area && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Area: \", selectedVessel.area, \" km\\xB2\", selectedVessel.estimatedArea && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-amber-400\",\n                  children: \" (est.)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2534,\n                  columnNumber: 58\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2532,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Status: \", selectedVessel.status.charAt(0).toUpperCase() + selectedVessel.status.slice(1)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2537,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Flag: \", selectedVessel.flag]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2541,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Type: \", selectedVessel.type]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2542,\n                columnNumber: 21\n              }, this), selectedVessel.class && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Class: \", selectedVessel.class]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2543,\n                columnNumber: 46\n              }, this), selectedVessel.designation && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Designation: \", selectedVessel.designation]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2544,\n                columnNumber: 52\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Operator: \", selectedVessel.operator]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2545,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Length: \", selectedVessel.length, \"m\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2546,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Speed: \", selectedVessel.speed, \" knots\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2547,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Heading: \", selectedVessel.heading, \"\\xB0\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2548,\n                columnNumber: 21\n              }, this), selectedVessel.grossTonnage && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Gross Tonnage: \", selectedVessel.grossTonnage, \" GT\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2549,\n                columnNumber: 53\n              }, this), selectedVessel.type === 'submarine' && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Depth: \", selectedVessel.depth, \"m (\", selectedVessel.isSubmerged ? 'Submerged' : 'Surfaced', \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2551,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-2\",\n                children: \"Detection Confidence:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2553,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center mt-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"w-12 text-xs\",\n                  children: \"Radar:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2555,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-gray-700 h-2 flex-1 rounded-full overflow-hidden\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"bg-blue-500 h-full rounded-full\",\n                    style: {\n                      width: `${selectedVessel.detectionProbability.radar * 100}%`\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2557,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2556,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"ml-2 text-xs\",\n                  children: [Math.round(selectedVessel.detectionProbability.radar * 100), \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2559,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2554,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center mt-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"w-12 text-xs\",\n                  children: \"Sonar:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2562,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-gray-700 h-2 flex-1 rounded-full overflow-hidden\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"bg-cyan-500 h-full rounded-full\",\n                    style: {\n                      width: `${selectedVessel.detectionProbability.sonar * 100}%`\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2564,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2563,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"ml-2 text-xs\",\n                  children: [Math.round(selectedVessel.detectionProbability.sonar * 100), \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2566,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2561,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center mt-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"w-12 text-xs\",\n                  children: \"Fused:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2569,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-gray-700 h-2 flex-1 rounded-full overflow-hidden\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"bg-green-500 h-full rounded-full\",\n                    style: {\n                      width: `${selectedVessel.detectionProbability.fused * 100}%`\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2571,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2570,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"ml-2 text-xs\",\n                  children: [Math.round(selectedVessel.detectionProbability.fused * 100), \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2573,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2568,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2524,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2514,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2346,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2332,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-800 p-2 text-center text-sm text-gray-400\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center items-center\",\n        children: [/*#__PURE__*/_jsxDEV(Info, {\n          size: 16,\n          className: \"mr-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2585,\n          columnNumber: 11\n        }, this), \"Baltic Sea Tracker - \", filter === 'all' ? 300 : vessels.filter(v => filter === 'russian' ? v.isRussian : v.type === filter).length, \" vessels in \", displayMode, \" mode | Zoom: \", currentZoom, showWindFarms && ' | Wind Farms Shown', showRadarCoverage && showWindFarms && ' | Radar Coverage (42 NM)', showVesselRadar && ' | Vessel Radar (20/40 NM)', simulationEnabled && ` | Vessel Movement (${simulationSpeed}x)`, /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"ml-2 text-green-400\",\n          children: \"\\u2022 Optimized rendering with level-of-detail\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2591,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2584,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2583,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2328,\n    columnNumber: 5\n  }, this);\n};\n_s(BalticSeaTracker, \"7nVuq07aHVroAyyuQNMuS7KP+6E=\", false, function () {\n  return [useJsApiLoader];\n});\n_c4 = BalticSeaTracker;\nexport default BalticSeaTracker;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"MemoizedMarker\");\n$RefreshReg$(_c2, \"MemoizedCircle\");\n$RefreshReg$(_c3, \"MemoizedPolygon\");\n$RefreshReg$(_c4, \"BalticSeaTracker\");","map":{"version":3,"names":["React","useEffect","useState","useRef","useCallback","useMemo","memo","Info","Ship","Menu","ZoomIn","ZoomOut","Radar","Waves","Layers","Wind","GoogleMap","useJsApiLoader","Marker","Circle","Polyline","Polygon","jsxDEV","_jsxDEV","Fragment","_Fragment","simulationStyles","MemoizedMarker","_c","MemoizedCircle","_c2","MemoizedPolygon","_c3","BalticSeaTracker","_s","styleTag","document","createElement","innerHTML","head","appendChild","removeChild","vessels","setVessels","selectedVessel","setSelectedVessel","filter","setFilter","showSidebar","setShowSidebar","displayMode","setDisplayMode","showWindFarms","setShowWindFarms","showRadarCoverage","setShowRadarCoverage","showVesselRadar","setShowVesselRadar","showLargeVesselRadar","setShowLargeVesselRadar","mapBounds","setMapBounds","currentZoom","setCurrentZoom","mapKey","setMapKey","Date","now","simulationEnabled","setSimulationEnabled","simulationSpeed","setSimulationSpeed","animationFrameRef","lastUpdateTimeRef","seameshSimulationActive","setSeameshSimulationActive","seameshSimulationStep","setSeameshSimulationStep","warshipDetectionRate","setWarshipDetectionRate","droneDetectionRate","setDroneDetectionRate","flashScreen","setFlashScreen","flashCount","setFlashCount","flashingRadarCircles","setFlashingRadarCircles","simulationComplete","setSimulationComplete","simulationTimerRef","zoomRef","mapRef","mapCenter","lat","lng","mapZoom","currentMapCenter","setCurrentMapCenter","mapStyle","getMapStyle","mapOptions","disableDefaultUI","zoomControl","styles","draggable","restrictions","latLngBounds","north","south","east","west","isLoaded","loadError","id","googleMapsApiKey","libraries","mapsLoadedRef","console","error","current","log","mode","elementType","stylers","color","featureType","visibility","randomCoordinate","shippingLanes","minLat","maxLat","minLng","maxLng","weight","totalWeight","reduce","sum","lane","randomPoint","Math","random","selectedLane","cumulativeWeight","generateVessels","vesselTypes","flags","russianOperators","commercialOperators","generatedVessels","occupiedPositions","MIN_DISTANCE","maxAttempts","placedVesselCount","i","type","floor","length","flag","isRussian","position","isInBalticSea","isTooClose","existingPos","distance","sqrt","pow","push","heading","speed","grossTonnage","round","operator","prefixes","suffixes","shipNumbers","name","detectionProbability","radar","sonar","fused","submarineNames","submarineClasses","submarineDesignations","submarineAreas","randomizedSubmarineAreas","map","pos","depth","isSubmerged","class","designation","simulatedVessels","updateVesselPositions","currentTime","deltaTime","adjustedDeltaTime","prevVessels","vessel","latitudeAdjustment","cos","PI","longitudeChange","latitudeChange","headingRad","newLng","sin","newLat","isInBalticSeaWaters","bestHeading","foundBetterDirection","angleOffset","testHeading","testRad","testLng","testLat","centerLat","centerLng","angleToCenter","atan2","headingDiff","sign","reducedSpeed","max","newHeading","originalSpeed","newSpeed","speedFactor","min","requestAnimationFrame","landAreas","shippingChannels","distanceFromEdge","abs","coastalBuffers","cancelAnimationFrame","isInMapBounds","buffer","renderVessels","window","google","maps","warn","isHighDetail","isMediumDetail","isLowDetail","filteredVessels","v","matchesFilter","inBounds","isSelected","isSimulatedVessel","startsWith","isDetected","detected","iconProps","circleProps","radius","radarOpacity","radarScale","radarColor","path","SymbolPath","CIRCLE","fillColor","fillOpacity","strokeColor","strokeWeight","scale","anchor","Point","arrowSize","rotation","sonarOpacity","sonarColor","waveRadius","options","strokeOpacity","sonarArrowSize","fusedOpacity","radarValue","sonarValue","fusedColor","fusedArrowSize","confidenceRadius","defaultSize","label","text","fontSize","fontWeight","className","children","icon","onClick","zIndex","fileName","_jsxFileName","lineNumber","columnNumber","center","windFarmsData","country","capacity","status","turbines","area","areaPoints","renderWindFarms","visibleWindFarms","farm","windFarm","windFarmIcon","areaVisualization","paths","areaInSquareMeters","radiusInMeters","estimatedArea","displayArea","isWindFarm","renderRadarCoverage","radarCoverageRadius","strokeDashArray","renderVesselRadarCoverage","result","mediumVessels","forEach","radarRangeNM","radarRangeMeters","largeVessels","setOptions","onMapLoad","scrollwheel","disableDoubleClickZoom","zoomIn","newZoom","getZoom","setZoom","zoomOut","getBounds","bounds","getNorthEast","getSouthWest","getCenter","handleMapClick","visibleVesselCount","displayedVessels","slice","controlPanels","size","newShowWindFarms","disabled","style","opacity","value","onChange","e","parseInt","target","startSeameshSimulation","backgroundColor","flashTwice","setTimeout","startSimulationSequence","setCenter","simulatedWarships","startPosition","endPosition","detectionSource","simulatedDrones","prev","originalVessels","commercialVesselRadarSources","range","windFarmRadarSources","step","warshipDetections","droneDetections","addFlashingCircle","sourcePosition","newCircle","createdAt","smallerFlash","c","runSimulationStep","updatedVessels","progress","dx","dy","radarSources","source","distanceInMeters","getDistanceInMeters","detectionThreshold","randomFactor","coord1","coord2","lon1","lat1","lon2","lat2","R","φ1","φ2","Δφ","Δλ","a","clearTimeout","renderFlashingOverlay","animation","renderSimulationStatus","width","renderRadarFlashes","circle","pulseClassName","replace","circleStyle","parseFloat","renderDetectionLines","detectedVessels","_v$id","_v$id2","vesselPosition","icons","FORWARD_CLOSED_ARROW","offset","location","reload","mapContainerStyle","height","zoom","onLoad","onDragEnd","onZoomChanged","resetMap","overlayMapTypes","clear","padding","borderRadius","border","cursor","boxShadow","charAt","toUpperCase","_c4","$RefreshReg$"],"sources":["/Users/esbenvahr/Desktop/NEW FINAL/app/src/components/BalticSeaTracker.jsx"],"sourcesContent":["import React, { useEffect, useState, useRef, useCallback, useMemo, memo } from 'react';\nimport { Info, Ship, Menu, ZoomIn, ZoomOut, Radar, Waves, Layers, Wind } from 'lucide-react';\nimport '../styles/palantir-theme.css';\nimport { GoogleMap, useJsApiLoader, Marker, Circle, Polyline, Polygon } from '@react-google-maps/api';\n\n// Add CSS for simulation animations\nconst simulationStyles = `\n  @keyframes flash {\n    0% { opacity: 0.3; }\n    50% { opacity: 0.5; }\n    100% { opacity: 0.3; }\n  }\n  \n  @keyframes pulse {\n    0% { transform: scale(0.6); opacity: 0.7; }\n    50% { transform: scale(0.9); opacity: 0.3; }\n    100% { transform: scale(1.2); opacity: 0; }\n  }\n  \n  .detected-vessel {\n    animation: flash 1s infinite;\n  }\n  \n  /* Add animation to SVG elements created by Google Maps */\n  .gm-style > div:first-child > div:nth-child(3) > div:nth-child(2) > div:nth-child(4) circle.radar-pulse {\n    animation: pulse 2s ease-out;\n    transform-origin: center center;\n  }\n`;\n\n// Memoized components for better performance\nconst MemoizedMarker = memo(Marker);\nconst MemoizedCircle = memo(Circle);\nconst MemoizedPolygon = memo(Polygon);\n\nconst BalticSeaTracker = () => {\n  // Add style tag for animations\n  useEffect(() => {\n    const styleTag = document.createElement('style');\n    styleTag.innerHTML = simulationStyles;\n    document.head.appendChild(styleTag);\n    \n    return () => {\n      document.head.removeChild(styleTag);\n    };\n  }, []);\n\n  const [vessels, setVessels] = useState([]);\n  const [selectedVessel, setSelectedVessel] = useState(null);\n  const [filter, setFilter] = useState('all');\n  const [showSidebar, setShowSidebar] = useState(true);\n  const [displayMode, setDisplayMode] = useState('radar'); // 'radar', 'sonar', or 'fused'\n  const [showWindFarms, setShowWindFarms] = useState(false);\n  const [showRadarCoverage, setShowRadarCoverage] = useState(false); // New state for radar coverage\n  const [showVesselRadar, setShowVesselRadar] = useState(false); // State for vessel radar coverage (300-2999 GT)\n  const [showLargeVesselRadar, setShowLargeVesselRadar] = useState(false); // New state for large vessel radar (>3000 GT)\n  const [mapBounds, setMapBounds] = useState(null); // Track current map bounds\n  const [currentZoom, setCurrentZoom] = useState(6); // Track current zoom level\n  const [mapKey, setMapKey] = useState(Date.now()); // Add key to force remount of map components\n  const [simulationEnabled, setSimulationEnabled] = useState(false); // Track if vessel movement simulation is enabled\n  const [simulationSpeed, setSimulationSpeed] = useState(10); // Simulation speed multiplier (default 10x)\n  const animationFrameRef = useRef(null); // Reference to store animation frame ID\n  const lastUpdateTimeRef = useRef(Date.now()); // Reference to store last update time\n  \n  // New simulation states\n  const [seameshSimulationActive, setSeameshSimulationActive] = useState(false);\n  const [seameshSimulationStep, setSeameshSimulationStep] = useState(0);\n  const [warshipDetectionRate, setWarshipDetectionRate] = useState(0);\n  const [droneDetectionRate, setDroneDetectionRate] = useState(0);\n  const [flashScreen, setFlashScreen] = useState(false);\n  const [flashCount, setFlashCount] = useState(0);\n  const [flashingRadarCircles, setFlashingRadarCircles] = useState([]);\n  const [simulationComplete, setSimulationComplete] = useState(false);\n  const simulationTimerRef = useRef(null);\n  \n  const zoomRef = useRef(null);\n  const mapRef = useRef(null);\n  \n  // Google Maps settings\n  const mapCenter = { lat: 59, lng: 19 }; // Center on Baltic Sea\n  const mapZoom = 6;\n  \n  // Add state to track current map center\n  const [currentMapCenter, setCurrentMapCenter] = useState(mapCenter);\n  \n  // Memoize map style to prevent recalculations\n  const mapStyle = useMemo(() => getMapStyle(displayMode), [displayMode]);\n  \n  const mapOptions = useMemo(() => ({\n    disableDefaultUI: true,\n    zoomControl: false,\n    styles: mapStyle,\n    draggable: true, // Ensure map is draggable\n    // Hide cities with population under 5000\n    restrictions: {\n      latLngBounds: {\n        north: 66.0,\n        south: 54.0,\n        east: 30.0,\n        west: 9.0,\n      }\n    }\n  }), [mapStyle]);\n  \n  const { isLoaded, loadError } = useJsApiLoader({\n    id: 'google-map-script',\n    googleMapsApiKey: 'AIzaSyAl-iGmFThUduVpLpE7sQTmniBSUPtzJjA',\n    libraries: ['geometry', 'drawing']\n  });\n  \n  // Create a ref to track if Google Maps loaded\n  const mapsLoadedRef = useRef(false);\n  \n  // Log any errors with Google Maps loading\n  useEffect(() => {\n    if (loadError) {\n      console.error('Error loading Google Maps:', loadError);\n    }\n    if (isLoaded && !mapsLoadedRef.current) {\n      console.log('Google Maps API loaded successfully');\n      mapsLoadedRef.current = true;\n    }\n  }, [isLoaded, loadError]);\n  \n  // Function to get map style based on display mode\n  function getMapStyle(mode) {\n    switch(mode) {\n      case 'radar':\n        return [\n          { elementType: \"geometry\", stylers: [{ color: \"#212121\" }] },\n          { elementType: \"labels.text.stroke\", stylers: [{ color: \"#212121\" }] },\n          { elementType: \"labels.text.fill\", stylers: [{ color: \"#746855\" }] },\n          { featureType: \"water\", elementType: \"geometry\", stylers: [{ color: \"#181818\" }] },\n          { featureType: \"water\", elementType: \"labels.text.fill\", stylers: [{ color: \"#3d3d3d\" }] },\n          { featureType: \"poi\", stylers: [{ visibility: \"off\" }] },\n          { featureType: \"transit\", stylers: [{ visibility: \"off\" }] },\n          { featureType: \"road\", stylers: [{ visibility: \"off\" }] },\n          // Hide smaller cities/towns\n          { featureType: \"administrative.locality\", elementType: \"labels\", \n            stylers: [{ visibility: \"off\" }] },\n          // Only show major cities\n          { featureType: \"administrative.locality\", elementType: \"labels\", \n            filter: [\">=\", [\"get\", \"population\"], 10000],\n            stylers: [{ visibility: \"on\" }] }\n        ];\n      case 'sonar':\n        return [\n          { elementType: \"geometry\", stylers: [{ color: \"#003545\" }] },\n          { elementType: \"labels.text.stroke\", stylers: [{ color: \"#003545\" }] },\n          { elementType: \"labels.text.fill\", stylers: [{ color: \"#00C8FF\" }] },\n          { featureType: \"water\", elementType: \"geometry\", stylers: [{ color: \"#001E29\" }] },\n          { featureType: \"water\", elementType: \"labels.text.fill\", stylers: [{ color: \"#00E5FF\" }] },\n          { featureType: \"poi\", stylers: [{ visibility: \"off\" }] },\n          { featureType: \"transit\", stylers: [{ visibility: \"off\" }] },\n          { featureType: \"road\", stylers: [{ visibility: \"off\" }] },\n          // Hide smaller cities/towns\n          { featureType: \"administrative.locality\", elementType: \"labels\", \n            stylers: [{ visibility: \"off\" }] },\n          // Only show major cities\n          { featureType: \"administrative.locality\", elementType: \"labels\", \n            filter: [\">=\", [\"get\", \"population\"], 10000],\n            stylers: [{ visibility: \"on\" }] }\n        ];\n      case 'fused':\n        return [\n          { elementType: \"geometry\", stylers: [{ color: \"#142639\" }] },\n          { elementType: \"labels.text.stroke\", stylers: [{ color: \"#142639\" }] },\n          { elementType: \"labels.text.fill\", stylers: [{ color: \"#3D85C6\" }] },\n          { featureType: \"water\", elementType: \"geometry\", stylers: [{ color: \"#0A1C2A\" }] },\n          { featureType: \"water\", elementType: \"labels.text.fill\", stylers: [{ color: \"#4a90e2\" }] },\n          { featureType: \"poi\", stylers: [{ visibility: \"off\" }] },\n          { featureType: \"transit\", stylers: [{ visibility: \"off\" }] },\n          { featureType: \"road\", stylers: [{ visibility: \"off\" }] },\n          // Hide smaller cities/towns\n          { featureType: \"administrative.locality\", elementType: \"labels\", \n            stylers: [{ visibility: \"off\" }] },\n          // Only show major cities\n          { featureType: \"administrative.locality\", elementType: \"labels\", \n            filter: [\">=\", [\"get\", \"population\"], 10000],\n            stylers: [{ visibility: \"on\" }] }\n        ];\n      default:\n        return [];\n    }\n  }\n    \n  // Function to generate a random coordinate within Baltic Sea\n  const randomCoordinate = () => {\n    // Combine shipping lanes with wider dispersal areas\n    const shippingLanes = [\n      // Main shipping lanes (lower weight than before to reduce clustering)\n      // Danish Straits to St. Petersburg\n      {minLat: 54.5, maxLat: 55.2, minLng: 10.8, maxLng: 13.0, weight: 5}, // Danish Straits entrance\n      {minLat: 55.0, maxLat: 55.8, minLng: 12.8, maxLng: 14.5, weight: 4}, // Route east of Denmark\n      {minLat: 55.3, maxLat: 56.2, minLng: 14.5, maxLng: 16.5, weight: 4}, // Southern Sweden coast\n      {minLat: 55.0, maxLat: 56.0, minLng: 16.5, maxLng: 18.5, weight: 3}, // Midway to Gotland\n      {minLat: 57.0, maxLat: 58.2, minLng: 18.5, maxLng: 20.0, weight: 4}, // North of Gotland\n      {minLat: 58.5, maxLat: 59.5, minLng: 20.0, maxLng: 22.0, weight: 3}, // Approach to Gulf of Finland\n      {minLat: 59.2, maxLat: 59.8, minLng: 22.0, maxLng: 24.5, weight: 5}, // Gulf of Finland western part\n      {minLat: 59.7, maxLat: 60.2, minLng: 24.5, maxLng: 28.0, weight: 4}, // Gulf of Finland eastern part\n      \n      // Port approaches - reduced weights to prevent clustering\n      {minLat: 60.0, maxLat: 60.5, minLng: 24.5, maxLng: 25.0, weight: 3}, // Helsinki\n      {minLat: 60.2, maxLat: 60.5, minLng: 22.0, maxLng: 22.5, weight: 3}, // Turku\n      {minLat: 55.3, maxLat: 56.3, minLng: 12.5, maxLng: 13.0, weight: 3}, // Malmö\n      {minLat: 58.5, maxLat: 59.5, minLng: 16.5, maxLng: 18.5, weight: 3}, // Stockholm\n      {minLat: 54.3, maxLat: 54.8, minLng: 18.3, maxLng: 19.0, weight: 3}, // Gdańsk\n      {minLat: 54.0, maxLat: 54.5, minLng: 13.0, maxLng: 14.5, weight: 3}, // Rostock\n      \n      // Wider dispersal areas - these ensure ships are spread throughout the entire sea\n      // Central Baltic - large dispersal areas\n      {minLat: 56.0, maxLat: 58.0, minLng: 17.0, maxLng: 20.0, weight: 5}, // Central Baltic wider area\n      {minLat: 57.5, maxLat: 59.5, minLng: 19.0, maxLng: 22.0, weight: 5}, // Eastern Baltic wider area\n      \n      // Gulf of Bothnia - more dispersed\n      {minLat: 60.0, maxLat: 62.0, minLng: 18.0, maxLng: 21.0, weight: 4}, // Southern Bothnia dispersed\n      {minLat: 62.0, maxLat: 65.0, minLng: 18.0, maxLng: 23.0, weight: 3}, // Northern Bothnia dispersed\n      \n      // Western Baltic - more dispersed\n      {minLat: 54.0, maxLat: 56.0, minLng: 12.0, maxLng: 15.0, weight: 4}, // Western Baltic dispersed\n      {minLat: 54.0, maxLat: 57.0, minLng: 15.0, maxLng: 18.0, weight: 5}, // South-central Baltic dispersed\n      \n      // Other dispersed areas to ensure wider coverage\n      {minLat: 54.0, maxLat: 55.5, minLng: 18.0, maxLng: 20.0, weight: 3}, // Southern Baltic dispersed\n      {minLat: 56.5, maxLat: 58.0, minLng: 15.0, maxLng: 17.0, weight: 3}, // Western Gotland dispersed\n      {minLat: 57.0, maxLat: 58.5, minLng: 20.0, maxLng: 22.0, weight: 3}, // Eastern Gotland dispersed\n      {minLat: 57.0, maxLat: 58.5, minLng: 22.0, maxLng: 24.0, weight: 3}, // Gulf of Riga dispersed\n    ];\n    \n    // Calculate total weight\n    const totalWeight = shippingLanes.reduce((sum, lane) => sum + lane.weight, 0);\n    \n    // Pick a random lane with weighting\n    let randomPoint = Math.random() * totalWeight;\n    let selectedLane = shippingLanes[0];\n    let cumulativeWeight = 0;\n    \n    for (const lane of shippingLanes) {\n      cumulativeWeight += lane.weight;\n      if (randomPoint <= cumulativeWeight) {\n        selectedLane = lane;\n        break;\n      }\n    }\n    \n    // Increase the spread factor to ensure better dispersal within areas\n    // Create a much more randomized distribution within the selected area\n    // rather than clustering toward the center\n    \n    // Get random point within the selected area with high dispersal\n    // Avoiding the tendency to cluster in the center\n    return [\n      selectedLane.minLng + Math.random() * (selectedLane.maxLng - selectedLane.minLng), // longitude - fully random within area\n      selectedLane.minLat + Math.random() * (selectedLane.maxLat - selectedLane.minLat)  // latitude - fully random within area\n    ];\n  };\n  \n  // Generate 300 simulated vessels with realistic properties (reduced from 1000)\n  const generateVessels = useCallback(() => {\n    const vesselTypes = ['commercial', 'military', 'fishing', 'passenger', 'tanker'];\n    const flags = ['Finland', 'Sweden', 'Estonia', 'Latvia', 'Lithuania', 'Poland', 'Germany', 'Denmark', 'Russia'];\n    const russianOperators = ['Sovcomflot', 'Gazprom Fleet', 'Rosmorport', 'Russian Navy', 'Rosneft'];\n    const commercialOperators = ['Maersk', 'MSC', 'CMA CGM', 'Hapag-Lloyd', 'ONE', 'Evergreen', 'COSCO', \n                                'Yang Ming', 'HMM', 'Grimaldi', 'DFDS', 'Stena Line', 'Tallink', 'Viking Line'];\n    \n    // Generate vessels with better dispersal throughout the Baltic Sea\n    const generatedVessels = [];\n    const occupiedPositions = []; // Track positions to ensure better dispersal\n    const MIN_DISTANCE = 0.2; // Minimum distance between vessels in degrees (approx 10-20km)\n    \n    // Start with fewer vessels and then disperse them more effectively\n    const maxAttempts = 300; // Limit how many times we try to place each vessel\n    let placedVesselCount = 0;\n    \n    // Try to place vessels with appropriate spacing\n    for (let i = 1; placedVesselCount < 300 && i <= maxAttempts; i++) {\n      const type = vesselTypes[Math.floor(Math.random() * vesselTypes.length)];\n      const flag = flags[Math.floor(Math.random() * flags.length)];\n      const isRussian = flag === 'Russia' || (Math.random() < 0.05); // 5% chance of non-Russian flag but Russian operated\n      \n      // Get a potential position for the vessel\n      const position = randomCoordinate();\n      \n      // Check if position is in a lake and ensure it's in the Baltic Sea\n      // Baltic Sea general bounds\n      const isInBalticSea = (\n        position[1] >= 54.0 && position[1] <= 66.0 && // Latitude bounds\n        position[0] >= 9.0 && position[0] <= 30.0     // Longitude bounds\n      );\n      \n      // If not in Baltic Sea proper, skip this position\n      if (!isInBalticSea) {\n        continue;\n      }\n      \n      // Check if this position is too close to existing vessels\n      let isTooClose = false;\n      for (const existingPos of occupiedPositions) {\n        const distance = Math.sqrt(\n          Math.pow(position[0] - existingPos[0], 2) + \n          Math.pow(position[1] - existingPos[1], 2)\n        );\n        \n        if (distance < MIN_DISTANCE) {\n          isTooClose = true;\n          break;\n        }\n      }\n      \n      // If the position is too close to other vessels, skip this attempt\n      if (isTooClose) {\n        continue;\n      }\n      \n      // If we got here, the position is good, so add it to occupied positions\n      occupiedPositions.push(position);\n      placedVesselCount++;\n      \n      // Calculate a more realistic heading based on position\n      // Ships in the Baltic generally move east-west in southern parts, and north-south in gulfs\n      let heading;\n      const lat = position[1];\n      const lng = position[0];\n      \n      // Baltic shipping lane direction tendencies\n      if (lng < 14.0) {\n        // Danish straits and western Baltic - generally east/west traffic\n        heading = Math.random() < 0.7 ? 70 + Math.random() * 40 : 250 + Math.random() * 40;\n      } else if (lng > 23.0 && lat > 59.0) {\n        // Gulf of Finland - generally east/west traffic\n        heading = Math.random() < 0.5 ? 80 + Math.random() * 30 : 260 + Math.random() * 30;\n      } else if (lng > 19.0 && lat > 60.0) {\n        // Gulf of Bothnia - generally north/south traffic\n        heading = Math.random() < 0.5 ? 0 + Math.random() * 30 : 180 + Math.random() * 30;\n      } else if (lng > 22.0 && lat < 58.0 && lat > 56.5) {\n        // Gulf of Riga - generally north/south traffic\n        heading = Math.random() < 0.5 ? 0 + Math.random() * 40 : 180 + Math.random() * 40;\n      } else if (lat < 56.0 && lng > 18.0) {\n        // Southern Baltic to Polish/Lithuanian ports\n        heading = Math.random() < 0.6 ? 140 + Math.random() * 40 : 320 + Math.random() * 40;\n      } else {\n        // Central Baltic - mixed traffic patterns\n        heading = Math.floor(Math.random() * 360);\n      }\n      \n      // Realistic speed based on vessel type and weather (assumed normal conditions)\n      let speed;\n      if (type === 'commercial' || type === 'tanker') {\n        speed = 10 + Math.floor(Math.random() * 8); // 10-18 knots\n      } else if (type === 'passenger') {\n        speed = 15 + Math.floor(Math.random() * 10); // 15-25 knots\n      } else if (type === 'military') {\n        speed = 5 + Math.floor(Math.random() * 25); // 5-30 knots (more variable)\n      } else if (type === 'fishing') {\n        // Fishing vessels move slower or may be stationary when fishing\n        speed = Math.random() < 0.3 ? 0 : 5 + Math.floor(Math.random() * 7); // 0 or 5-12 knots\n      } else {\n        speed = Math.floor(Math.random() * 15) + 5; // 5-20 knots default\n      }\n      \n      // Determine vessel size\n      const length = type === 'tanker' || type === 'commercial' \n        ? 100 + Math.floor(Math.random() * 300) \n        : type === 'military' \n          ? 50 + Math.floor(Math.random() * 200)\n          : 20 + Math.floor(Math.random() * 50);\n      \n      // Calculate gross tonnage (GT) based on vessel length and type\n      // Using simplified formula based on vessel dimensions\n      let grossTonnage;\n      if (type === 'commercial' || type === 'tanker') {\n        // Commercial and tanker vessels have higher GT/length ratios\n        grossTonnage = Math.round(length * length * 0.18); // Approximation\n      } else if (type === 'military') {\n        // Military vessels are typically more dense but smaller\n        grossTonnage = Math.round(length * length * 0.16);\n      } else if (type === 'passenger') {\n        // Passenger vessels have high volume and less dense cargo\n        grossTonnage = Math.round(length * length * 0.2);\n      } else {\n        // Fishing and other vessels\n        grossTonnage = Math.round(length * length * 0.12);\n      }\n      \n      // Determine operator\n      let operator;\n      if (isRussian) {\n        operator = russianOperators[Math.floor(Math.random() * russianOperators.length)];\n      } else {\n        operator = commercialOperators[Math.floor(Math.random() * commercialOperators.length)];\n      }\n      \n      // Generate a realistic vessel name\n      const prefixes = isRussian ? \n        ['Admiral', 'Kapitan', 'Vostok', 'Sibir', 'Moskva', 'Sankt-Peterburg', 'Akademik'] : \n        ['Northern', 'Baltic', 'Sea', 'Atlantic', 'Pacific', 'Star', 'Pioneer'];\n      \n      const suffixes = isRussian ?\n        ['Kuznetsov', 'Nakhimov', 'Gorshkov', 'Lazarev', 'Kasatonov', 'Ustinov'] :\n        ['Adventurer', 'Explorer', 'Navigator', 'Voyager', 'Mariner', 'Trader', 'Express'];\n        \n      const shipNumbers = ['I', 'II', 'III', 'IV', 'V', '1', '2', '3', '4', '5'];\n      \n      let name;\n      if (Math.random() < 0.3) {\n        // 30% chance of having a prefix-suffix name\n        name = `${prefixes[Math.floor(Math.random() * prefixes.length)]} ${suffixes[Math.floor(Math.random() * suffixes.length)]}`;\n      } else if (Math.random() < 0.5) {\n        // 20% chance of having a name with a number\n        name = `${prefixes[Math.floor(Math.random() * prefixes.length)]} ${shipNumbers[Math.floor(Math.random() * shipNumbers.length)]}`;\n      } else {\n        // 50% chance of having a simple prefix or suffix name\n        name = Math.random() < 0.5 ? \n          prefixes[Math.floor(Math.random() * prefixes.length)] : \n          suffixes[Math.floor(Math.random() * suffixes.length)];\n      }\n      \n      if (type === 'military' && isRussian) {\n        name = `RFS ${name}`; // Russian Federation Ship\n      }\n      \n      // Calculate a detection probability\n      const detectionProbability = {\n        radar: Math.random(), // 0-1, higher means more visible on radar\n        sonar: Math.random(), // 0-1, higher means more detectable by sonar\n        fused: (Math.random() + Math.random()) / 2 // average of two values for a more normal distribution\n      };\n      \n      // Generate a vessel object with all properties\n      generatedVessels.push({\n        id: placedVesselCount,\n        name,\n        type,\n        flag,\n        isRussian,\n        position,\n        heading,\n        speed,\n        length,\n        operator,\n        detectionProbability,\n        grossTonnage\n      });\n    }\n    \n    // More evenly disperse submarines too\n    // Generate Russian submarines with special characteristics\n    const submarineNames = [\n      'Krasnodar', 'Novorossiysk', 'Rostov-on-Don', 'Stary Oskol', \n      'Velikiy Novgorod', 'Kolpino', 'Sankt Peterburg'\n    ];\n    \n    const submarineClasses = [\n      'Kilo-class', 'Kilo-class', 'Kilo-class', 'Kilo-class',\n      'Improved Kilo-class', 'Improved Kilo-class', 'Lada-class'\n    ];\n    \n    const submarineDesignations = [\n      'B-265', 'B-261', 'B-237', 'B-262', \n      'B-268', 'B-271', 'B-585'\n    ];\n    \n    // Use more strategic submarine positions\n    const submarineAreas = [\n      // Gulf of Finland approach - monitoring traffic to St. Petersburg\n      [26.2, 59.7],\n      // Near NATO naval exercise areas in central Baltic\n      [19.3, 56.8],\n      // Monitoring approach to Stockholm archipelago\n      [18.9, 58.9],\n      // Deep water between Gotland and Latvia (strategic position)\n      [20.1, 57.3],\n      // Patrolling near Kaliningrad naval base\n      [19.6, 55.2],\n      // Monitoring naval traffic near Gdańsk\n      [18.8, 54.8],\n      // Danish straits approaches - key strategic chokepoint\n      [12.8, 55.4]\n    ];\n    \n    // Add some randomness to submarine positions to avoid perfect predictability\n    const randomizedSubmarineAreas = submarineAreas.map(pos => [\n      pos[0] + (Math.random() - 0.5) * 0.5,  // Add up to ±0.25 degrees longitude\n      pos[1] + (Math.random() - 0.5) * 0.3   // Add up to ±0.15 degrees latitude\n    ]);\n    \n    // Add submarines to generated vessels\n    for (let i = 0; i < 7; i++) {\n      const position = randomizedSubmarineAreas[i];\n      const heading = Math.floor(Math.random() * 360);\n      const speed = 5 + Math.floor(Math.random() * 10); // Submarines move slower on average\n      const depth = 20 + Math.floor(Math.random() * 180); // Depth in meters\n      \n      // Submarine detection characteristics\n      // Low radar detection when submerged, high sonar signature\n      const isSubmerged = Math.random() > 0.3; // 70% chance of being submerged\n      \n      const detectionProbability = {\n        radar: isSubmerged ? 0.05 + Math.random() * 0.1 : 0.3 + Math.random() * 0.2, // Low radar when submerged\n        sonar: 0.6 + Math.random() * 0.4, // High sonar signature\n        fused: isSubmerged ? \n          (0.05 + Math.random() * 0.1 + 0.6 + Math.random() * 0.4) / 2 : // Average when submerged\n          (0.3 + Math.random() * 0.2 + 0.6 + Math.random() * 0.4) / 2    // Average when surfaced\n      };\n      \n      generatedVessels.push({\n        id: 1001 + i, // IDs starting from 1001 for submarines\n        name: `RFS ${submarineNames[i]}`,\n        type: 'submarine',\n        class: submarineClasses[i],\n        designation: submarineDesignations[i],\n        flag: 'Russia',\n        isRussian: true,\n        position,\n        heading,\n        speed,\n        depth,\n        length: 70 + Math.floor(Math.random() * 20), // Kilo-class submarines are around 70-74m\n        isSubmerged,\n        operator: 'Russian Navy',\n        detectionProbability\n      });\n    }\n    \n    return generatedVessels;\n  }, []);\n  \n  // Generate vessel data when component mounts\n  useEffect(() => {\n    const simulatedVessels = generateVessels();\n    setVessels(simulatedVessels);\n  }, []); // Remove generateVessels from dependency array\n  \n  // Update vessel positions based on speed and heading\n  const updateVesselPositions = useCallback(() => {\n    if (!simulationEnabled) return;\n    \n    const currentTime = Date.now();\n    const deltaTime = (currentTime - lastUpdateTimeRef.current) / 1000; // Convert ms to seconds\n    lastUpdateTimeRef.current = currentTime;\n    \n    // Apply speed multiplier to deltaTime\n    const adjustedDeltaTime = deltaTime * simulationSpeed;\n    \n    // Skip if delta time is too large (e.g., browser tab was inactive)\n    if (adjustedDeltaTime > 5) return;\n    \n    setVessels(prevVessels => {\n      return prevVessels.map(vessel => {\n        // Skip stationary vessels\n        if (vessel.speed === 0) return vessel;\n        \n        // Convert knots to degrees per second\n        // 1 knot ≈ 0.0003 degrees of longitude at the equator per second\n        // Adjust for latitude (narrower longitude degrees at higher latitudes)\n        const latitudeAdjustment = Math.cos(vessel.position[1] * Math.PI / 180);\n        const longitudeChange = vessel.speed * 0.0003 * adjustedDeltaTime / latitudeAdjustment;\n        const latitudeChange = vessel.speed * 0.0003 * adjustedDeltaTime;\n        \n        // Calculate new position based on heading\n        const headingRad = vessel.heading * Math.PI / 180;\n        const newLng = vessel.position[0] + (longitudeChange * Math.sin(headingRad));\n        const newLat = vessel.position[1] + (latitudeChange * Math.cos(headingRad));\n        \n        // Enhanced boundary checking to keep vessels within the actual Baltic Sea water\n        if (!isInBalticSeaWaters(newLat, newLng)) {\n          // If would move onto land or out of bounds, adjust heading to turn back toward deeper water\n          // Use a more detailed approach to find the right direction\n          \n          // Try finding a better direction by checking multiple angles\n          let bestHeading = vessel.heading;\n          let foundBetterDirection = false;\n          \n          // Check 8 directions around to find waters\n          for (let angleOffset = 0; angleOffset < 360; angleOffset += 45) {\n            const testHeading = (vessel.heading + angleOffset) % 360;\n            const testRad = testHeading * Math.PI / 180;\n            \n            // Check a position further out in this direction\n            const testLng = vessel.position[0] + (longitudeChange * 5 * Math.sin(testRad));\n            const testLat = vessel.position[1] + (latitudeChange * 5 * Math.cos(testRad));\n            \n            if (isInBalticSeaWaters(testLat, testLng)) {\n              bestHeading = testHeading;\n              foundBetterDirection = true;\n              break;\n            }\n          }\n          \n          // If no good direction found, head toward the Baltic center\n          if (!foundBetterDirection) {\n            const centerLat = 58.5; // More centered in the main Baltic basin\n            const centerLng = 20;   // Adjusted to be in deeper waters\n            const angleToCenter = Math.atan2(centerLng - vessel.position[0], centerLat - vessel.position[1]) * 180 / Math.PI;\n            \n            // Turn gradually toward the center\n            const headingDiff = ((angleToCenter - vessel.heading + 540) % 360) - 180;\n            bestHeading = (vessel.heading + Math.sign(headingDiff) * 45) % 360;\n            if (bestHeading < 0) bestHeading += 360;\n          }\n          \n          // Slow down near boundaries\n          const reducedSpeed = Math.max(1, vessel.speed * 0.5);\n          \n          return {\n            ...vessel,\n            heading: bestHeading,\n            speed: reducedSpeed // Temporarily reduce speed when changing course\n          };\n        }\n        \n        // For military and submarine vessels, randomly change heading occasionally\n        let newHeading = vessel.heading;\n        const originalSpeed = vessel.speed;\n        let newSpeed = originalSpeed;\n        \n        if ((vessel.type === 'military' || vessel.type === 'submarine') && Math.random() < 0.01 * adjustedDeltaTime) {\n          // Change heading by up to +/- 30 degrees\n          newHeading = (vessel.heading + (Math.random() * 60 - 30)) % 360;\n          if (newHeading < 0) newHeading += 360;\n          \n          // Military vessels might change speed during maneuvers\n          if (Math.random() < 0.3) {\n            const speedFactor = 0.7 + Math.random() * 0.6; // 70-130% of current speed\n            newSpeed = Math.max(1, Math.min(30, originalSpeed * speedFactor));\n          }\n        }\n        // Smaller random heading changes for other vessels to simulate realistic movement\n        else if (Math.random() < 0.005 * adjustedDeltaTime) {\n          // Change heading by up to +/- 10 degrees\n          newHeading = (vessel.heading + (Math.random() * 20 - 10)) % 360;\n          if (newHeading < 0) newHeading += 360;\n        }\n        \n        return {\n          ...vessel,\n          position: [newLng, newLat],\n          heading: newHeading,\n          speed: newSpeed\n        };\n      });\n    });\n    \n    // Request next animation frame\n    animationFrameRef.current = requestAnimationFrame(updateVesselPositions);\n  }, [simulationEnabled, simulationSpeed]);\n  \n  // Function to check if a point is in Baltic Sea waters\n  // This is a more precise check than just the bounding box\n  const isInBalticSeaWaters = useCallback((lat, lng) => {\n    // First check overall bounds\n    if (lat < 54.0 || lat > 66.0 || lng < 9.0 || lng > 30.0) {\n      return false;\n    }\n    \n    // Define areas that are land (to be avoided)\n    // Format: [south, north, west, east]\n    const landAreas = [\n      // Southern Sweden\n      [55.0, 59.5, 12.5, 15.5],\n      // Finland\n      [59.7, 65.5, 21.0, 30.0],\n      // Estonia\n      [57.5, 59.7, 23.0, 28.5],\n      // Latvia/Lithuania coast\n      [55.5, 57.5, 21.0, 28.0],\n      // Poland inland\n      [54.0, 55.5, 15.0, 19.5],\n      // Germany/Denmark inland\n      [54.0, 56.0, 9.0, 12.0],\n      // Gotland\n      [56.8, 58.0, 18.0, 19.2],\n      // Åland Islands\n      [59.7, 60.5, 19.3, 21.3],\n      // Bornholm\n      [54.9, 55.3, 14.7, 15.2]\n    ];\n    \n    // Define key shipping channels and deep waters (preferred areas)\n    // Format: [south, north, west, east, weight]\n    const shippingChannels = [\n      // Main Baltic basin\n      [55.5, 59.0, 16.5, 22.0, 10],\n      // Gulf of Finland shipping lane\n      [59.3, 60.2, 22.5, 28.0, 8],\n      // Approach to Stockholm\n      [58.7, 59.5, 17.5, 19.5, 6],\n      // Approach to Riga\n      [56.8, 58.0, 22.5, 24.5, 6],\n      // Approach to Helsinki/Tallinn\n      [59.2, 59.9, 24.0, 25.5, 8],\n      // Western Baltic shipping lane\n      [54.5, 56.0, 12.0, 15.0, 8],\n      // Kattegat\n      [56.0, 57.5, 10.5, 12.0, 6],\n      // Gulf of Bothnia\n      [60.5, 63.5, 18.5, 21.5, 5]\n    ];\n    \n    // Check if point is in a land area\n    for (const [south, north, west, east] of landAreas) {\n      if (lat >= south && lat <= north && lng >= west && lng <= east) {\n        // Further check for complex coastlines\n        // This is a very simplified approach - we add some randomness \n        // to prevent vessels from getting stuck at sharp boundary transitions\n        \n        // If near the edge of a land area, there's a small chance to still consider it water\n        // This helps vessels navigate around complex coastlines without getting stuck\n        const distanceFromEdge = Math.min(\n          Math.abs(lat - south),\n          Math.abs(lat - north),\n          Math.abs(lng - west),\n          Math.abs(lng - east)\n        );\n        \n        // Very close to edge - might be a complex coastline\n        if (distanceFromEdge < 0.1) {\n          // 20% chance to consider it water if very close to edge\n          // This randomness helps prevent getting stuck at boundaries\n          return Math.random() < 0.2;\n        }\n        \n        return false; // It's in a land area\n      }\n    }\n\n    // Check if in a preferred shipping channel\n    for (const [south, north, west, east] of shippingChannels) {\n      if (lat >= south && lat <= north && lng >= west && lng <= east) {\n        return true; // In a shipping channel - definitely good\n      }\n    }\n    \n    // For areas not explicitly defined, use the following general rules\n    \n    // Avoid shallow coastal waters (simplified approach)\n    // These are general buffer zones around landmasses\n    const coastalBuffers = [\n      // Swedish coast buffer\n      [55.0, 59.5, 15.5, 16.0],\n      // Finnish coast buffer\n      [59.7, 65.5, 20.0, 21.0],\n      // Estonian coast buffer\n      [57.5, 59.7, 22.0, 23.0],\n      // Latvian/Lithuanian coast buffer\n      [55.5, 57.5, 20.0, 21.0],\n      // Polish coast buffer\n      [54.0, 55.5, 14.0, 15.0],\n      // German/Danish coast buffer\n      [54.0, 56.0, 12.0, 12.5]\n    ];\n    \n    // Check coastal buffers with higher probability of rejection\n    for (const [south, north, west, east] of coastalBuffers) {\n      if (lat >= south && lat <= north && lng >= west && lng <= east) {\n        // 70% chance to consider coastal buffers as land\n        return Math.random() > 0.7;\n      }\n    }\n    \n    // If we got here, it's probably in open water\n    return true;\n  }, []);\n  \n  // Start/stop vessel position updates when simulation state changes\n  useEffect(() => {\n    if (simulationEnabled) {\n      lastUpdateTimeRef.current = Date.now();\n      animationFrameRef.current = requestAnimationFrame(updateVesselPositions);\n    } else if (animationFrameRef.current) {\n      cancelAnimationFrame(animationFrameRef.current);\n    }\n    \n    // Cleanup when component unmounts\n    return () => {\n      if (animationFrameRef.current) {\n        cancelAnimationFrame(animationFrameRef.current);\n      }\n    };\n  }, [simulationEnabled, updateVesselPositions]);\n  \n  // Function to check if an item is in the current map bounds\n  const isInMapBounds = useCallback((lat, lng) => {\n    if (!mapBounds) return true; // If no bounds yet, show everything\n    \n    // Add buffer to avoid popping at edges\n    const buffer = 0.5; // Buffer in degrees\n    \n    return (\n      lat >= mapBounds.south - buffer &&\n      lat <= mapBounds.north + buffer &&\n      lng >= mapBounds.west - buffer &&\n      lng <= mapBounds.east + buffer\n    );\n  }, [mapBounds]);\n  \n  // Function to render vessels based on the display mode and zoom level\n  const renderVessels = useCallback(() => {\n    // Make sure Google Maps is loaded\n    if (!window.google || !window.google.maps) {\n      console.warn('Google Maps not loaded yet');\n      return null;\n    }\n    \n    // Use zoom level to determine detail level\n    const isHighDetail = currentZoom >= 8;\n    const isMediumDetail = currentZoom >= 6 && currentZoom < 8;\n    const isLowDetail = currentZoom < 6;\n    \n    // Filter vessels based on current filter and map bounds\n    const filteredVessels = vessels.filter(v => {\n      // First apply user filter\n      const matchesFilter = filter === 'all' || \n                          (filter === 'russian' ? v.isRussian : v.type === filter);\n      \n      // Then check if in current map bounds\n      const inBounds = isInMapBounds(v.position[1], v.position[0]);\n      \n      return matchesFilter && inBounds;\n    });\n    \n    // Create vessel markers\n    return filteredVessels.map(vessel => {\n      // Convert vessel position to LatLng\n      const position = { lat: vessel.position[1], lng: vessel.position[0] };\n      const isSelected = selectedVessel?.id === vessel.id;\n      const isSimulatedVessel = vessel.id && (vessel.id.startsWith('warship-') || vessel.id.startsWith('drone-'));\n      const isDetected = isSimulatedVessel && vessel.detected;\n      \n      // Define icon and visualization based on display mode and zoom level\n      let iconProps = {};\n      let circleProps = { radius: 0 };\n    \n      switch(displayMode) {\n        case 'radar':\n          // Radar mode - shows vessels as dots with direction indicators\n          const radarOpacity = vessel.type === 'submarine' && vessel.isSubmerged ? \n            0.1 + vessel.detectionProbability.radar * 0.2 : \n            0.3 + vessel.detectionProbability.radar * 0.7;\n          \n          const radarScale = vessel.type === 'submarine' ? \n            vessel.isSubmerged ? 0.5 : 0.8 : \n            Math.max(0.6, Math.min(1.2, 0.6 + vessel.length / 300));\n          \n          let radarColor = vessel.type === 'submarine' ? \n            'rgb(255, 0, 0)' : \n            vessel.isRussian ? 'rgb(231, 76, 60)' : 'rgb(52, 152, 219)';\n            \n          // Special coloring for drone entities\n          if (vessel.type === 'drone') {\n            radarColor = 'rgb(255, 165, 0)'; // Orange for drones\n          }\n          \n          if (isLowDetail) {\n            // Simple dots for low detail level\n            iconProps = {\n              path: window.google.maps.SymbolPath.CIRCLE,\n              fillColor: radarColor,\n              fillOpacity: radarOpacity,\n              strokeColor: isDetected ? '#FFFF00' : '#FFFFFF', // Yellow stroke for detected vessels\n              strokeWeight: isDetected ? 2 : 1,\n              scale: vessel.type === 'drone' ? 3 : vessel.type === 'submarine' ? 3 : 2,\n              anchor: new window.google.maps.Point(0, 0),\n            };\n          } else if (isMediumDetail) {\n            // Simplified arrow for medium detail\n            const arrowSize = radarScale * 4;\n            iconProps = {\n              path: `M 0,-${arrowSize} L ${arrowSize/2},${arrowSize} L -${arrowSize/2},${arrowSize} Z`, // Simpler arrow shape\n              fillColor: radarColor,\n              fillOpacity: radarOpacity,\n              strokeColor: isDetected ? '#FFFF00' : '#FFFFFF', // Yellow stroke for detected vessels\n              strokeWeight: isDetected ? 2 : 1,\n              rotation: vessel.heading, // Rotate according to vessel heading\n              scale: 1,\n              anchor: new window.google.maps.Point(0, 0),\n            };\n          } else {\n            // Full detail for high zoom levels\n            const arrowSize = radarScale * 5;\n            iconProps = {\n              path: `M 0,-${arrowSize} L ${arrowSize/2},${arrowSize} L 0,${arrowSize/2} L -${arrowSize/2},${arrowSize} Z`, // Arrow shape\n              fillColor: radarColor,\n              fillOpacity: radarOpacity,\n              strokeColor: isDetected ? '#FFFF00' : '#FFFFFF', // Yellow stroke for detected vessels\n              strokeWeight: isDetected ? 2 : 1,\n              rotation: vessel.heading, // Rotate according to vessel heading\n              scale: 1,\n              anchor: new window.google.maps.Point(0, 0),\n            };\n          }\n          break;\n          \n        case 'sonar':\n          // Sonar mode - shows vessels as acoustic signatures\n          const sonarOpacity = vessel.type === 'submarine' ? \n            0.5 + vessel.detectionProbability.sonar * 0.5 : \n            0.2 + vessel.detectionProbability.sonar * 0.8;\n          \n          const sonarColor = vessel.type === 'submarine' ? '#FF00FF' : '#00E5FF';\n          \n          if (isLowDetail) {\n            // Simple dots for low detail level\n            iconProps = {\n              path: window.google.maps.SymbolPath.CIRCLE,\n              fillColor: sonarColor,\n              fillOpacity: sonarOpacity,\n              strokeColor: '#FFFFFF',\n              strokeWeight: 1,\n              scale: vessel.type === 'submarine' ? 3 : 2,\n              anchor: new window.google.maps.Point(0, 0),\n            };\n            \n            // Simplified acoustic wave\n            if (vessel.type === 'submarine') {\n              const waveRadius = vessel.speed * 80;\n              circleProps = {\n                radius: waveRadius,\n                options: {\n                  fillColor: sonarColor,\n                  fillOpacity: 0.03,\n                  strokeColor: sonarColor,\n                  strokeOpacity: 0.1,\n                  strokeWeight: 1,\n                }\n              };\n            }\n          } else {\n            // Use the same arrow shape as radar mode but with sonar colors\n            const sonarArrowSize = vessel.type === 'submarine' ? 5 : 4;\n            iconProps = {\n              path: `M 0,-${sonarArrowSize} L ${sonarArrowSize/2},${sonarArrowSize} L 0,${sonarArrowSize/2} L -${sonarArrowSize/2},${sonarArrowSize} Z`, // Arrow shape\n              fillColor: sonarColor,\n              fillOpacity: sonarOpacity,\n              strokeColor: '#FFFFFF',\n              strokeWeight: 1,\n              rotation: vessel.heading,\n              scale: 1,\n              anchor: new window.google.maps.Point(0, 0),\n            };\n            \n            // Add acoustic wave circle - only at higher zoom levels\n            if (isHighDetail) {\n              const waveRadius = vessel.type === 'submarine' ? \n                Math.max(500, vessel.speed * 100) : \n                Math.max(300, vessel.speed * 60);\n                \n              circleProps = {\n                radius: waveRadius,\n                options: {\n                  fillColor: sonarColor,\n                  fillOpacity: 0.05,\n                  strokeColor: sonarColor,\n                  strokeOpacity: 0.2,\n                  strokeWeight: 1,\n                }\n              };\n            } else if (isMediumDetail && vessel.type === 'submarine') {\n              const waveRadius = Math.max(300, vessel.speed * 80);\n              circleProps = {\n                radius: waveRadius,\n                options: {\n                  fillColor: sonarColor,\n                  fillOpacity: 0.03,\n                  strokeColor: sonarColor,\n                  strokeOpacity: 0.1,\n                  strokeWeight: 1,\n                }\n              };\n            }\n          }\n          break;\n          \n        case 'fused':\n          // Fused mode - combines radar and sonar data\n          const fusedOpacity = 0.4 + vessel.detectionProbability.fused * 0.6;\n          \n          // Create color gradient based on radar/sonar detection probabilities\n          const radarValue = Math.floor(vessel.detectionProbability.radar * 255);\n          const sonarValue = Math.floor(vessel.detectionProbability.sonar * 255);\n          const fusedColor = vessel.isRussian ? \n            `rgb(255, 100, 100)` : \n            `rgb(100, ${radarValue}, ${sonarValue})`;\n          \n          if (isLowDetail) {\n            // Simple dots for low detail level\n            iconProps = {\n              path: window.google.maps.SymbolPath.CIRCLE,\n              fillColor: fusedColor,\n              fillOpacity: fusedOpacity,\n              strokeColor: '#FFFFFF',\n              strokeWeight: 1,\n              scale: vessel.type === 'submarine' ? 3 : 2,\n              anchor: new window.google.maps.Point(0, 0),\n            };\n          } else {\n            // Use the same arrow shape as other modes but with fused colors\n            const fusedArrowSize = 5;\n            iconProps = {\n              path: `M 0,-${fusedArrowSize} L ${fusedArrowSize/2},${fusedArrowSize} L 0,${fusedArrowSize/2} L -${fusedArrowSize/2},${fusedArrowSize} Z`, // Arrow shape\n              fillColor: fusedColor,\n              fillOpacity: fusedOpacity,\n              strokeColor: '#FFFFFF',\n              strokeWeight: 1,\n              rotation: vessel.heading,\n              scale: 1,\n              anchor: new window.google.maps.Point(0, 0),\n            };\n          }\n          \n          // Add confidence circle - only at higher zoom levels\n          if (isHighDetail) {\n            const confidenceRadius = 300 + (1 - vessel.detectionProbability.fused) * 1000;\n            circleProps = {\n              radius: confidenceRadius,\n              options: {\n                fillColor: 'transparent',\n                fillOpacity: 0,\n                strokeColor: vessel.isRussian ? \"#FF6B6B\" : \"#4285F4\",\n                strokeOpacity: 0.4,\n                strokeWeight: 0.5,\n              }\n            };\n          } else if (isMediumDetail && (vessel.type === 'military' || vessel.type === 'submarine')) {\n            // Only show confidence circles for important vessels at medium zoom\n            const confidenceRadius = 200 + (1 - vessel.detectionProbability.fused) * 800;\n            circleProps = {\n              radius: confidenceRadius,\n              options: {\n                fillColor: 'transparent',\n                fillOpacity: 0,\n                strokeColor: vessel.isRussian ? \"#FF6B6B\" : \"#4285F4\",\n                strokeOpacity: 0.3,\n                strokeWeight: 0.5,\n              }\n            };\n          }\n          break;\n          \n        default:\n          // Default to radar mode with arrow icon\n          const defaultSize = 5;\n          iconProps = {\n            path: `M 0,-${defaultSize} L ${defaultSize/2},${defaultSize} L 0,${defaultSize/2} L -${defaultSize/2},${defaultSize} Z`, // Arrow shape\n            fillColor: '#FFFFFF',\n            fillOpacity: 0.8,\n            strokeColor: '#000000',\n            strokeWeight: 1,\n            rotation: vessel.heading,\n            scale: 1,\n            anchor: new window.google.maps.Point(0, 0),\n          };\n          break;\n      }\n\n      // Set up label for detected vessels\n      let label = null;\n      if (isDetected) {\n        const color = vessel.id.startsWith('warship-') ? '#00FFFF' : '#FFFF00';\n        label = {\n          text: \"DETECTED\",\n          color: color,\n          fontSize: \"10px\",\n          fontWeight: \"bold\",\n          className: \"detected-label\"\n        };\n      }\n\n      return (\n        <React.Fragment key={vessel.id}>\n          <MemoizedMarker\n            position={position}\n            icon={iconProps}\n            onClick={() => setSelectedVessel(vessel)}\n            zIndex={isSelected ? 1000 : vessel.type === 'submarine' ? 500 : 100}\n            label={label}\n          />\n          \n          {circleProps.radius > 0 && (\n            <MemoizedCircle\n              center={position}\n              radius={circleProps.radius}\n              options={circleProps.options}\n            />\n          )}\n          \n          {vessel.type === 'submarine' && vessel.isSubmerged && displayMode !== 'fused' && isHighDetail && (\n            <MemoizedMarker\n              position={{\n                lat: position.lat + 0.03,\n                lng: position.lng + 0.03\n              }}\n              label={{\n                text: `${vessel.depth}m`,\n                color: '#FFFFFF',\n                fontSize: '8px',\n                fontWeight: 'bold'\n              }}\n              icon={{\n                path: 0, // CIRCLE\n                scale: 0,\n                fillOpacity: 0,\n                strokeOpacity: 0\n              }}\n            />\n          )}\n        </React.Fragment>\n      );\n    });\n  }, [vessels, filter, isInMapBounds, selectedVessel, displayMode, currentZoom]);\n  \n  // Baltic Sea wind farm data - expanded with EMODnet data\n  const windFarmsData = [\n    // Denmark\n    { \n      name: \"Kriegers Flak\", \n      country: \"Denmark\", \n      capacity: 604, \n      lat: 54.9833, \n      lng: 13.0333, \n      status: \"operational\",\n      turbines: 72,\n      area: 132, // km²\n      areaPoints: [\n        {lat: 54.9633, lng: 13.0133},\n        {lat: 54.9733, lng: 13.0533},\n        {lat: 55.0033, lng: 13.0533},\n        {lat: 55.0033, lng: 13.0133},\n        {lat: 54.9833, lng: 12.9933},\n        {lat: 54.9633, lng: 13.0133}\n      ]\n    },\n    { \n      name: \"Middelgrunden\", \n      country: \"Denmark\", \n      capacity: 40, \n      lat: 55.6853, \n      lng: 12.6913, \n      status: \"operational\",\n      turbines: 20,\n      area: 4, // km²\n      areaPoints: [\n        {lat: 55.6903, lng: 12.6813},\n        {lat: 55.6903, lng: 12.7013},\n        {lat: 55.6803, lng: 12.7013},\n        {lat: 55.6803, lng: 12.6813},\n        {lat: 55.6903, lng: 12.6813}\n      ]\n    },\n    { \n      name: \"Rødsand I\", \n      country: \"Denmark\", \n      capacity: 166, \n      lat: 54.5508, \n      lng: 11.7083, \n      status: \"operational\",\n      turbines: 72,\n      area: 35, // km²\n      areaPoints: [\n        {lat: 54.5408, lng: 11.6883},\n        {lat: 54.5408, lng: 11.7283},\n        {lat: 54.5608, lng: 11.7283},\n        {lat: 54.5608, lng: 11.6883},\n        {lat: 54.5408, lng: 11.6883}\n      ]\n    },\n    { name: \"Rødsand II\", country: \"Denmark\", capacity: 207, lat: 54.5580, lng: 11.6170, status: \"operational\", turbines: 90, area: 40 },\n    { name: \"Anholt\", country: \"Denmark\", capacity: 400, lat: 56.6000, lng: 11.2097, status: \"operational\", turbines: 111, area: 88 },\n    { name: \"Sprogø\", country: \"Denmark\", capacity: 21, lat: 55.3414, lng: 10.9767, status: \"operational\", turbines: 7, area: 6 },\n    { name: \"Samsø\", country: \"Denmark\", capacity: 23, lat: 55.7194, lng: 10.5639, status: \"operational\", turbines: 10, area: 5 },\n    \n    // Sweden\n    { name: \"Karehamn\", country: \"Sweden\", capacity: 48, lat: 56.9750, lng: 17.0000, status: \"operational\", turbines: 16, area: 8 },\n    { name: \"Lillgrund\", country: \"Sweden\", capacity: 110, lat: 55.5000, lng: 12.7667, status: \"operational\", turbines: 48, area: 6 },\n    { name: \"Södra Midsjöbanken\", country: \"Sweden\", capacity: 1500, lat: 55.7500, lng: 17.4000, status: \"planned\", turbines: 170, area: 265 },\n    { name: \"Storgrundet\", country: \"Sweden\", capacity: 265, lat: 61.1532, lng: 17.4376, status: \"planned\", turbines: 70, area: 57 },\n    { name: \"Utgrunden\", country: \"Sweden\", capacity: 10.5, lat: 56.3350, lng: 16.2860, status: \"operational\", turbines: 7, area: 2 },\n    { name: \"Bockstigen\", country: \"Sweden\", capacity: 2.5, lat: 57.0389, lng: 18.1378, status: \"operational\", turbines: 5, area: 1 },\n    \n    // Germany\n    { name: \"EnBW Baltic 1\", country: \"Germany\", capacity: 48, lat: 54.6080, lng: 12.6520, status: \"operational\", turbines: 21, area: 7 },\n    { name: \"EnBW Baltic 2\", country: \"Germany\", capacity: 288, lat: 54.9900, lng: 13.1666, status: \"operational\", turbines: 80, area: 27 },\n    { name: \"Arkona\", country: \"Germany\", capacity: 385, lat: 54.7833, lng: 14.1000, status: \"operational\", turbines: 60, area: 39 },\n    { name: \"Wikinger\", country: \"Germany\", capacity: 350, lat: 54.8333, lng: 14.0750, status: \"operational\", turbines: 70, area: 34 },\n    { name: \"Arcadis Ost 1\", country: \"Germany\", capacity: 257, lat: 54.8333, lng: 13.7500, status: \"under construction\", turbines: 27, area: 30 },\n    { name: \"Gennaker\", country: \"Germany\", capacity: 927, lat: 54.5500, lng: 12.2500, status: \"planned\", turbines: 103, area: 176 },\n    { name: \"Nordlicher Grund\", country: \"Germany\", capacity: 630, lat: 54.9831, lng: 6.3582, status: \"planned\", turbines: 64, area: 57 },\n    { name: \"Ostseeschatz\", country: \"Germany\", capacity: 372, lat: 54.3660, lng: 11.9165, status: \"planned\", turbines: 62, area: 40 },\n    { name: \"Baltic Eagle\", country: \"Germany\", capacity: 476, lat: 54.7778, lng: 13.9239, status: \"under construction\", turbines: 50, area: 40 },\n    \n    // Finland\n    { name: \"Tahkoluoto\", country: \"Finland\", capacity: 42, lat: 61.6330, lng: 21.3830, status: \"operational\", turbines: 10, area: 15 },\n    { name: \"Ajos\", country: \"Finland\", capacity: 42, lat: 65.7166, lng: 24.5166, status: \"operational\", turbines: 13, area: 10 },\n    { name: \"Kemi Ajos I\", country: \"Finland\", capacity: 15, lat: 65.6405, lng: 24.5267, status: \"operational\", turbines: 5, area: 6 },\n    { name: \"Kemi Ajos II\", country: \"Finland\", capacity: 16, lat: 65.6563, lng: 24.5402, status: \"operational\", turbines: 3, area: 4 },\n    { name: \"Raahe\", country: \"Finland\", capacity: 44, lat: 64.6500, lng: 24.3500, status: \"planned\", turbines: 8, area: 15 },\n    { name: \"Korsnäs\", country: \"Finland\", capacity: 1300, lat: 62.7500, lng: 21.0500, status: \"planned\", turbines: 70, area: 175 },\n    { name: \"Siikajoki\", country: \"Finland\", capacity: 100, lat: 64.8167, lng: 24.6167, status: \"planned\", turbines: 20, area: 25 },\n    \n    // Poland\n    { name: \"Baltic Power\", country: \"Poland\", capacity: 1200, lat: 55.0000, lng: 18.3330, status: \"under construction\", turbines: 76, area: 131 },\n    { name: \"FEW Baltic II\", country: \"Poland\", capacity: 350, lat: 54.8000, lng: 16.5000, status: \"planned\", turbines: 37, area: 41 },\n    { name: \"Baltica 1\", country: \"Poland\", capacity: 896, lat: 55.2060, lng: 17.1633, status: \"planned\", turbines: 64, area: 108 },\n    { name: \"Baltica 2\", country: \"Poland\", capacity: 1498, lat: 55.3340, lng: 16.8630, status: \"planned\", turbines: 107, area: 190 },\n    { name: \"Baltica 3\", country: \"Poland\", capacity: 1045, lat: 55.3340, lng: 16.7000, status: \"planned\", turbines: 95, area: 131 },\n    { name: \"MFW Bałtyk I\", country: \"Poland\", capacity: 1560, lat: 55.2383, lng: 17.4633, status: \"planned\", turbines: 100, area: 128 },\n    { name: \"MFW Bałtyk II\", country: \"Poland\", capacity: 720, lat: 55.1233, lng: 17.2467, status: \"planned\", turbines: 60, area: 65 },\n    { name: \"MFW Bałtyk III\", country: \"Poland\", capacity: 720, lat: 55.0817, lng: 17.0667, status: \"planned\", turbines: 60, area: 80 },\n    \n    // Estonia\n    { \n      name: \"Estonia Offshore 1\", \n      country: \"Estonia\", \n      capacity: 1000, \n      lat: 58.8000, \n      lng: 22.0000, \n      status: \"planned\",\n      turbines: 115,\n      area: 230, // km²\n      areaPoints: [\n        {lat: 58.7800, lng: 21.9600},\n        {lat: 58.7800, lng: 22.0400},\n        {lat: 58.8200, lng: 22.0400},\n        {lat: 58.8200, lng: 21.9600},\n        {lat: 58.7800, lng: 21.9600}\n      ]\n    },\n    { name: \"Liivi\", country: \"Estonia\", capacity: 1000, lat: 57.8333, lng: 23.5000, status: \"planned\", turbines: 100, area: 160 },\n    { name: \"Hiiumaa\", country: \"Estonia\", capacity: 700, lat: 59.0833, lng: 22.3833, status: \"planned\", turbines: 70, area: 100 },\n    { name: \"Saare-Liivi\", country: \"Estonia\", capacity: 600, lat: 57.9500, lng: 22.6833, status: \"planned\", turbines: 60, area: 90 },\n    \n    // Latvia\n    { name: \"ELWIND\", country: \"Latvia\", capacity: 1000, lat: 57.0830, lng: 20.7500, status: \"planned\", turbines: 100, area: 200 },\n    \n    // Lithuania\n    { name: \"Lithuanian OWF I\", country: \"Lithuania\", capacity: 700, lat: 55.8330, lng: 20.5000, status: \"planned\", turbines: 70, area: 120 },\n    \n    // Special projects\n    { \n      name: \"Bornholm Energy Island\", \n      country: \"Denmark\", \n      capacity: 3000, \n      lat: 55.1000, \n      lng: 14.9000, \n      status: \"planned\",\n      turbines: 200,\n      area: 400, // km²\n      areaPoints: [\n        {lat: 55.0500, lng: 14.8500},\n        {lat: 55.0500, lng: 14.9500},\n        {lat: 55.1500, lng: 14.9500},\n        {lat: 55.1500, lng: 14.8500},\n        {lat: 55.0500, lng: 14.8500}\n      ]\n    },\n    { name: \"Hywind Tampen\", country: \"Norway\", capacity: 88, lat: 61.2500, lng: 20.4000, status: \"operational\", turbines: 11, area: 22 }\n  ];\n  \n  // Function to render wind farms on the map - enhanced with polygon areas and zoom-based detail\n  const renderWindFarms = useCallback(() => {\n    // Make sure Google Maps is loaded\n    if (!window.google || !window.google.maps) {\n      console.warn('Google Maps not loaded yet');\n      return null;\n    }\n    \n    // Filter wind farms to only show those in current map bounds\n    const visibleWindFarms = windFarmsData.filter(farm => \n      isInMapBounds(farm.lat, farm.lng)\n    );\n    \n    const isHighDetail = currentZoom >= 8;\n    const isMediumDetail = currentZoom >= 6 && currentZoom < 8;\n    \n    return visibleWindFarms\n      .map(windFarm => {\n        const position = { lat: windFarm.lat, lng: windFarm.lng };\n        \n        // Use different colors based on wind farm status\n        const fillColor = windFarm.status === \"operational\" \n          ? '#FFC107' // amber color for operational wind farms\n          : '#4CAF50'; // green color for planned and under construction\n        \n        // Icon for wind farms\n        const windFarmIcon = {\n          path: \"M -2,-2 L 2,-2 L 2,2 L -2,2 Z\", // Square shape\n          scale: 1.5,\n          fillColor: fillColor,\n          fillOpacity: 0.8,\n          strokeColor: '#FFFFFF',\n          strokeWeight: 1,\n          rotation: 45, // Diamond shape\n        };\n        \n        // Determine how to visualize the area based on zoom level\n        let areaVisualization;\n        \n        if (isHighDetail) {\n          // Full detail at high zoom\n          if (windFarm.areaPoints) {\n            // Use specific polygon points if available\n            areaVisualization = (\n              <MemoizedPolygon\n                paths={windFarm.areaPoints}\n                options={{\n                  fillColor: fillColor,\n                  fillOpacity: 0.1,\n                  strokeColor: fillColor,\n                  strokeOpacity: 0.4,\n                  strokeWeight: 1\n                }}\n              />\n            );\n          } else if (windFarm.area) {\n            // If we only have the area in km², create a sized circle\n            // Convert km² to meters radius using area = π*r²\n            const areaInSquareMeters = windFarm.area * 1000000;\n            const radiusInMeters = Math.sqrt(areaInSquareMeters / Math.PI);\n            \n            areaVisualization = (\n              <MemoizedCircle\n                center={position}\n                radius={radiusInMeters}\n                options={{\n                  fillColor: fillColor,\n                  fillOpacity: 0.1,\n                  strokeColor: fillColor,\n                  strokeOpacity: 0.4,\n                  strokeWeight: 1\n                }}\n              />\n            );\n          } else {\n            // Calculate estimated area based on capacity and turbines\n            let estimatedArea;\n            if (windFarm.turbines) {\n              estimatedArea = windFarm.turbines * 1.0;\n            } else {\n              estimatedArea = windFarm.capacity / 6.5;\n            }\n            \n            const areaInSquareMeters = estimatedArea * 1000000;\n            const radiusInMeters = Math.sqrt(areaInSquareMeters / Math.PI);\n            \n            areaVisualization = (\n              <MemoizedCircle\n                center={position}\n                radius={radiusInMeters}\n                options={{\n                  fillColor: fillColor,\n                  fillOpacity: 0.1,\n                  strokeColor: fillColor,\n                  strokeOpacity: 0.4,\n                  strokeWeight: 1\n                }}\n              />\n            );\n          }\n        } else if (isMediumDetail) {\n          // Simplified visualization for medium zoom levels\n          // Just use a circle with a simplified radius calculation\n          let radius;\n          \n          if (windFarm.area) {\n            // Use the known area but with simplified calculation\n            radius = Math.sqrt(windFarm.area) * 1000; // Simplified conversion to meters\n          } else if (windFarm.capacity > 500) {\n            radius = 15000; // Large wind farm\n          } else if (windFarm.capacity > 100) {\n            radius = 10000; // Medium wind farm\n          } else {\n            radius = 5000; // Small wind farm\n          }\n          \n          areaVisualization = (\n            <MemoizedCircle\n              center={position}\n              radius={radius}\n              options={{\n                fillColor: fillColor,\n                fillOpacity: 0.08,\n                strokeColor: fillColor,\n                strokeOpacity: 0.3,\n                strokeWeight: 1\n              }}\n            />\n          );\n        } else {\n          // No area visualization at low zoom levels - just markers\n          areaVisualization = null;\n        }\n        \n        return (\n          <React.Fragment key={`wind-farm-${windFarm.name}`}>\n            <MemoizedMarker\n              position={position}\n              icon={windFarmIcon}\n              onClick={() => {\n                // Calculate estimated area if not provided\n                let displayArea = windFarm.area;\n                if (!displayArea) {\n                  if (windFarm.turbines) {\n                    displayArea = Math.round(windFarm.turbines * 1.0);\n                  } else {\n                    displayArea = Math.round(windFarm.capacity / 6.5);\n                  }\n                }\n                \n                setSelectedVessel({\n                  id: `wind-farm-${windFarm.name}`,\n                  name: windFarm.name,\n                  type: 'wind-farm',\n                  flag: windFarm.country,\n                  operator: windFarm.country,\n                  capacity: windFarm.capacity,\n                  status: windFarm.status,\n                  area: displayArea,\n                  turbines: windFarm.turbines,\n                  estimatedArea: !windFarm.area,\n                  isWindFarm: true\n                });\n              }}\n              zIndex={50}\n            />\n            \n            {areaVisualization}\n          </React.Fragment>\n        );\n      });\n  }, [showWindFarms, isInMapBounds, currentZoom, windFarmsData]);\n  \n  // Separate function to render ONLY radar coverage with zoom-based detail\n  const renderRadarCoverage = useCallback(() => {\n    // Make sure Google Maps is loaded\n    if (!window.google || !window.google.maps) {\n      console.warn('Google Maps not loaded yet');\n      return null;\n    }\n\n    if (!showRadarCoverage || !showWindFarms) return null;\n    \n    // Skip rendering radar coverage at low zoom levels for performance\n    if (currentZoom < 6) return null;\n    \n    // Filter to only show radar coverage for wind farms in the current bounds\n    const visibleWindFarms = windFarmsData.filter(farm => \n      isInMapBounds(farm.lat, farm.lng)\n    );\n    \n    const isHighDetail = currentZoom >= 8;\n    \n    return visibleWindFarms.map(windFarm => {\n      const position = { lat: windFarm.lat, lng: windFarm.lng };\n      const radarCoverageRadius = 77784; // 42 nautical miles in meters\n      \n      return (\n        <MemoizedCircle\n          key={`radar-${windFarm.name}`}\n          center={position}\n          radius={radarCoverageRadius}\n          options={{\n            fillColor: '#FF0000',\n            fillOpacity: isHighDetail ? 0.05 : 0.03,\n            strokeColor: '#FF0000',\n            strokeOpacity: isHighDetail ? 0.7 : 0.5,\n            strokeWeight: isHighDetail ? 1 : 0.5,\n            strokeDashArray: [5, 5], // Dashed line pattern\n          }}\n        />\n      );\n    });\n  }, [showWindFarms, showRadarCoverage, isInMapBounds, currentZoom, windFarmsData]);\n  \n  // Function to render vessel radar coverage based on gross tonnage with zoom-based detail\n  const renderVesselRadarCoverage = useCallback(() => {\n    // Make sure Google Maps is loaded\n    if (!window.google || !window.google.maps) {\n      console.warn('Google Maps not loaded yet');\n      return null;\n    }\n    \n    // Skip rendering vessel radar at low zoom levels for performance\n    if (currentZoom < 6) return null;\n    \n    const result = [];\n    \n    // Render medium vessels (GT 300-2999) with 20 NM radar\n    if (showVesselRadar) {\n      // Filter vessels to show radar only for commercial vessels with GT 300-2999\n      const mediumVessels = vessels.filter(v => \n        (v.type === 'commercial' || v.type === 'tanker' || v.type === 'passenger') && \n        v.grossTonnage >= 300 && v.grossTonnage < 3000 &&\n        isInMapBounds(v.position[1], v.position[0])\n      );\n      \n      const isHighDetail = currentZoom >= 8;\n      \n      mediumVessels.forEach(vessel => {\n        const position = { lat: vessel.position[1], lng: vessel.position[0] };\n        \n        // Medium vessels have 20 NM radar range\n        const radarRangeNM = 20;\n        // Convert NM to meters (1 NM = 1852 meters)\n        const radarRangeMeters = radarRangeNM * 1852;\n        \n        result.push(\n          <MemoizedCircle\n            key={`vessel-radar-${vessel.id}`}\n            center={position}\n            radius={radarRangeMeters}\n            options={{\n              fillColor: '#4285F4',\n              fillOpacity: isHighDetail ? 0.03 : 0.02,\n              strokeColor: '#4285F4',\n              strokeOpacity: isHighDetail ? 0.6 : 0.4,\n              strokeWeight: isHighDetail ? 1 : 0.5,\n              strokeDashArray: [5, 5], // Dashed line pattern\n            }}\n          />\n        );\n      });\n    }\n    \n    // Render large vessels (GT >= 3000) with 40 NM radar\n    if (showLargeVesselRadar) {\n      // Filter vessels to show radar only for commercial vessels with GT >= 3000\n      const largeVessels = vessels.filter(v => \n        (v.type === 'commercial' || v.type === 'tanker' || v.type === 'passenger') && \n        v.grossTonnage >= 3000 &&\n        isInMapBounds(v.position[1], v.position[0])\n      );\n      \n      const isHighDetail = currentZoom >= 8;\n      \n      largeVessels.forEach(vessel => {\n        const position = { lat: vessel.position[1], lng: vessel.position[0] };\n        \n        // Large vessels have 40 NM radar range\n        const radarRangeNM = 40;\n        // Convert NM to meters (1 NM = 1852 meters)\n        const radarRangeMeters = radarRangeNM * 1852;\n        \n        result.push(\n          <MemoizedCircle\n            key={`large-vessel-radar-${vessel.id}`}\n            center={position}\n            radius={radarRangeMeters}\n            options={{\n              fillColor: '#4285F4',\n              fillOpacity: isHighDetail ? 0.03 : 0.02,\n              strokeColor: '#4285F4',\n              strokeOpacity: isHighDetail ? 0.6 : 0.4,\n              strokeWeight: isHighDetail ? 1 : 0.5,\n              strokeDashArray: [5, 5], // Dashed line pattern\n            }}\n          />\n        );\n      });\n    }\n    \n    return result;\n  }, [showVesselRadar, showLargeVesselRadar, vessels, isInMapBounds, currentZoom]);\n  \n  // Update the map when display mode changes\n  useEffect(() => {\n    // This effect updates the Google Maps styling when display mode changes\n    mapOptions.styles = getMapStyle(displayMode);\n    \n    // If map is loaded, we can update its options\n    if (mapRef.current) {\n      mapRef.current.setOptions(mapOptions);\n    }\n  }, [displayMode, mapOptions]);\n  \n  // onMapLoad with error handling \n  const onMapLoad = useCallback((map) => {\n    try {\n      console.log(\"Map loaded successfully\");\n      mapRef.current = map;\n      \n      // Make sure dragging is enabled\n      map.setOptions({\n        draggable: true,\n        zoomControl: false,\n        scrollwheel: true,\n        disableDoubleClickZoom: false\n      });\n      \n      // We can store the map's zoom control functionality\n      zoomRef.current = {\n        zoomIn: () => {\n          const newZoom = map.getZoom() + 1;\n          map.setZoom(newZoom);\n          setCurrentZoom(newZoom);\n        },\n        zoomOut: () => {\n          const newZoom = map.getZoom() - 1;\n          map.setZoom(newZoom);\n          setCurrentZoom(newZoom);\n        }\n      };\n      \n      // Get initial bounds\n      if (map.getBounds()) {\n        const bounds = map.getBounds();\n        setMapBounds({\n          north: bounds.getNorthEast().lat(),\n          east: bounds.getNorthEast().lng(),\n          south: bounds.getSouthWest().lat(),\n          west: bounds.getSouthWest().lng()\n        });\n        \n        // Initialize current center from the map\n        const center = map.getCenter();\n        setCurrentMapCenter({\n          lat: center.lat(),\n          lng: center.lng()\n        });\n      }\n      \n      // Set initial zoom\n      setCurrentZoom(map.getZoom());\n    } catch (error) {\n      console.error(\"Error in onMapLoad:\", error);\n    }\n  }, []);\n  \n  // Add a click handler to the map background to deselect the current vessel\n  const handleMapClick = () => {\n    if (selectedVessel) {\n      setSelectedVessel(null);\n    }\n  };\n  \n  // Get visible vessel count - memoized for sidebar display\n  const visibleVesselCount = useMemo(() => \n    vessels.filter(v => {\n      const matchesFilter = filter === 'all' || \n                         (filter === 'russian' ? v.isRussian : v.type === filter);\n      return matchesFilter;\n    }).length\n  , [vessels, filter]);\n  \n  // Get only vessels visible in current sidebar (both filtered and in bounds) - memoized\n  const displayedVessels = useMemo(() => \n    vessels.filter(v => {\n      const matchesFilter = filter === 'all' || \n                          (filter === 'russian' ? v.isRussian : v.type === filter);\n      \n      const inBounds = isInMapBounds(v.position[1], v.position[0]);\n      \n      return matchesFilter && inBounds;\n    }).slice(0, 50) // Still limit to 50 for performance\n  , [vessels, filter, isInMapBounds]);\n  \n  // Memoize UI elements that don't need frequent updates\n  const controlPanels = useMemo(() => (\n    <>\n      <div className=\"control-panel\">\n        <h2 className=\"text-sm font-semibold mb-3 palantir-heading\">Display Mode</h2>\n        <div className=\"flex gap-2\">\n          <button \n            className={displayMode === 'radar' ? 'active' : ''} \n            onClick={() => setDisplayMode('radar')}\n          >\n            <Radar size={16} className=\"mr-1\" />\n            Radar\n          </button>\n          <button \n            className={displayMode === 'sonar' ? 'active' : ''} \n            onClick={() => setDisplayMode('sonar')}\n          >\n            <Waves size={16} className=\"mr-1\" />\n            Sonar\n          </button>\n          <button \n            className={displayMode === 'fused' ? 'active' : ''} \n            onClick={() => setDisplayMode('fused')}\n          >\n            <Layers size={16} className=\"mr-1\" />\n            Fused\n          </button>\n        </div>\n      </div>\n      \n      <div className=\"control-panel\">\n        <h2 className=\"text-sm font-semibold mb-3 palantir-heading\">Vessel Filter</h2>\n        <div className=\"flex flex-wrap gap-2\">\n          <button \n            className={filter === 'all' ? 'active' : ''} \n            onClick={() => setFilter('all')}\n          >\n            All\n          </button>\n          <button \n            className={filter === 'commercial' ? 'active' : ''} \n            onClick={() => setFilter('commercial')}\n          >\n            Commercial\n          </button>\n          <button \n            className={filter === 'military' ? 'active' : ''} \n            onClick={() => setFilter('military')}\n          >\n            Military\n          </button>\n          <button \n            className={filter === 'submarine' ? 'active' : ''} \n            onClick={() => setFilter('submarine')}\n          >\n            Russian Submarines\n          </button>\n          <button \n            className={filter === 'russian' ? 'active' : ''} \n            onClick={() => setFilter('russian')}\n          >\n            Russian Surface\n          </button>\n        </div>\n      </div>\n\n      <div className=\"control-panel\">\n        <h2 className=\"text-sm font-semibold mb-3 palantir-heading\">Wind Infrastructure</h2>\n        <div className=\"flex flex-col gap-2\">\n          <button \n            className={showWindFarms ? 'active' : ''}\n            onClick={() => {\n              const newShowWindFarms = !showWindFarms;\n              setShowWindFarms(newShowWindFarms);\n              // If turning off wind farms, ensure radar coverage is also off\n              if (!newShowWindFarms) {\n                setShowRadarCoverage(false);\n              }\n            }}\n          >\n            <Wind size={16} className=\"mr-1\" />\n            Wind Farms {showWindFarms ? '(Shown)' : '(Hidden)'}\n          </button>\n          <button \n            className={showRadarCoverage ? 'active' : ''}\n            onClick={() => {\n              setShowRadarCoverage(!showRadarCoverage);\n            }}\n            disabled={!showWindFarms}\n            style={{ opacity: !showWindFarms ? 0.5 : 1 }}\n          >\n            <Radar size={16} className=\"mr-1\" />\n            Radar Coverage (42 NM)\n          </button>\n        </div>\n      </div>\n\n      <div className=\"control-panel\">\n        <h2 className=\"text-sm font-semibold mb-3 palantir-heading\">Commercial Vessel Infrastructure</h2>\n        <div className=\"flex flex-col gap-2\">\n          <button \n            className={showVesselRadar ? 'active' : ''}\n            onClick={() => setShowVesselRadar(!showVesselRadar)}\n          >\n            <Radar size={16} className=\"mr-1\" />\n            Vessel Radar (GT 300-2999)\n          </button>\n          <button \n            className={showLargeVesselRadar ? 'active' : ''}\n            onClick={() => setShowLargeVesselRadar(!showLargeVesselRadar)}\n          >\n            <Radar size={16} className=\"mr-1\" />\n            Vessel Radar (GT &gt; 3000)\n          </button>\n        </div>\n      </div>\n      \n      {/* Add simulation controls panel */}\n      <div className=\"control-panel\">\n        <h2 className=\"text-sm font-semibold mb-3 palantir-heading\">Vessel Simulation</h2>\n        <div className=\"flex flex-col gap-3\">\n          <button \n            className={simulationEnabled ? 'active' : ''}\n            onClick={() => setSimulationEnabled(!simulationEnabled)}\n          >\n            <Ship size={16} className=\"mr-1\" />\n            {simulationEnabled ? 'Pause Movement' : 'Start Movement'}\n          </button>\n          <div className=\"flex flex-col\">\n            <span className=\"text-xs mb-1\">Speed: {simulationSpeed}x</span>\n            <input \n              type=\"range\" \n              min=\"1\" \n              max=\"50\" \n              value={simulationSpeed}\n              onChange={(e) => setSimulationSpeed(parseInt(e.target.value))}\n              className=\"w-2/5 max-w-[80px]\"\n            />\n          </div>\n        </div>\n      </div>\n      \n      {/* Add SeaMesh/AirMesh simulation button */}\n      <div className=\"control-panel\">\n        <h2 className=\"text-sm font-semibold mb-3 palantir-heading\">Defense Simulation</h2>\n        <div className=\"flex flex-col gap-2\">\n          <button \n            className={seameshSimulationActive ? 'active' : ''}\n            onClick={startSeameshSimulation}\n            disabled={seameshSimulationActive}\n            style={{ \n              backgroundColor: seameshSimulationActive ? '#DAA520' : '#D2B48C',\n              opacity: seameshSimulationActive ? 0.7 : 1\n            }}\n          >\n            <Radar size={16} className=\"mr-1\" />\n            Simulate SeaMesh and AirMesh\n          </button>\n        </div>\n      </div>\n    </>\n  ), [displayMode, filter, showWindFarms, showRadarCoverage, showVesselRadar, showLargeVesselRadar, simulationEnabled, simulationSpeed, seameshSimulationActive]);\n  \n  // SeaMesh and AirMesh simulation\n  const startSeameshSimulation = useCallback(() => {\n    // Reset simulation state\n    setSeameshSimulationStep(0);\n    setWarshipDetectionRate(0);\n    setDroneDetectionRate(0);\n    setSeameshSimulationActive(true);\n    setFlashingRadarCircles([]);\n    setSimulationComplete(false);\n    \n    // Initial screen flash (twice)\n    const flashTwice = () => {\n      setFlashScreen(true);\n      setFlashCount(1);\n      \n      setTimeout(() => {\n        setFlashScreen(false);\n        \n        setTimeout(() => {\n          setFlashScreen(true);\n          setFlashCount(2);\n          \n          setTimeout(() => {\n            setFlashScreen(false);\n            startSimulationSequence();\n          }, 500);\n        }, 300);\n      }, 500);\n    };\n    \n    // Start with flashing\n    flashTwice();\n    \n    // Main simulation sequence\n    const startSimulationSequence = () => {\n      // Make sure we're showing wind farms and radar coverage\n      setShowWindFarms(true);\n      setShowRadarCoverage(true);\n      setShowVesselRadar(true);\n      setShowLargeVesselRadar(true);\n      \n      // Center the map for better view of both routes\n      if (mapRef.current) {\n        mapRef.current.setCenter({ lat: 58, lng: 18 });\n        mapRef.current.setZoom(7);\n        setCurrentZoom(7);\n      }\n      \n      // Spawn simulated Russian warships and drones\n      const simulatedWarships = [\n        {\n          id: 'warship-kaliningrad-1',\n          name: 'RFS Stoiky',\n          type: 'military',\n          flag: 'Russia',\n          isRussian: true,\n          startPosition: [20.5, 54.7], // Near Kaliningrad\n          endPosition: [18.1, 59.4],   // Towards Stockholm\n          position: [20.5, 54.7],\n          heading: 320,\n          speed: 14,\n          length: 104,\n          operator: 'Russian Navy',\n          detectionProbability: { radar: 0.8, sonar: 0.7, fused: 0.75 },\n          grossTonnage: 2200,\n          detected: false,\n          detectionSource: null\n        },\n        {\n          id: 'warship-stpetersburg-1',\n          name: 'RFS Admiral Gorshkov',\n          type: 'military',\n          flag: 'Russia',\n          isRussian: true,\n          startPosition: [30.0, 60.0], // Near St. Petersburg\n          endPosition: [18.5, 59.3],   // Towards Stockholm\n          position: [30.0, 60.0],\n          heading: 270,\n          speed: 18,\n          length: 135,\n          operator: 'Russian Navy',\n          detectionProbability: { radar: 0.9, sonar: 0.8, fused: 0.85 },\n          grossTonnage: 4500,\n          detected: false,\n          detectionSource: null\n        }\n      ];\n      \n      const simulatedDrones = [\n        {\n          id: 'drone-kaliningrad-1',\n          name: 'Russian Drone #1',\n          type: 'drone',\n          flag: 'Russia',\n          isRussian: true,\n          startPosition: [20.5, 54.7], // Near Kaliningrad\n          endPosition: [12.6, 55.7],   // Towards Copenhagen\n          position: [20.5, 54.7],\n          heading: 260,\n          speed: 22,\n          length: 3,\n          operator: 'Russian Military',\n          detectionProbability: { radar: 0.3, sonar: 0.1, fused: 0.2 },\n          detected: false,\n          detectionSource: null\n        },\n        {\n          id: 'drone-kaliningrad-2',\n          name: 'Russian Drone #2',\n          type: 'drone',\n          flag: 'Russia',\n          isRussian: true,\n          startPosition: [20.5, 54.7], // Near Kaliningrad\n          endPosition: [10.0, 53.5],   // Towards Hamburg\n          position: [20.5, 54.7],\n          heading: 230,\n          speed: 25,\n          length: 3,\n          operator: 'Russian Military',\n          detectionProbability: { radar: 0.4, sonar: 0.1, fused: 0.25 },\n          detected: false,\n          detectionSource: null\n        }\n      ];\n      \n      // Add simulated entities to vessel list\n      setVessels(prev => [...prev, ...simulatedWarships, ...simulatedDrones]);\n      \n      // Store the original vessels for later restoration\n      const originalVessels = [...vessels];\n      \n      // Define the detection sources (commercial vessels and wind farms)\n      const commercialVesselRadarSources = vessels.filter(v => \n        (v.type === 'commercial' || v.type === 'tanker' || v.type === 'passenger') &&\n        v.grossTonnage >= 300\n      ).map(v => ({\n        id: v.id,\n        position: v.position,\n        range: v.grossTonnage >= 3000 ? 40 * 1852 : 20 * 1852, // Convert NM to meters\n        type: 'vessel'\n      }));\n      \n      const windFarmRadarSources = windFarmsData.map(farm => ({\n        id: farm.name,\n        position: [farm.lng, farm.lat],\n        range: 77784, // 42 NM in meters\n        type: 'windfarm'\n      }));\n      \n      // Simulation step function - advances the simulation by one step\n      let step = 0;\n      let warshipDetections = 0;\n      let droneDetections = 0;\n      \n      // Add a new flashing radar circle when a detection occurs\n      const addFlashingCircle = (sourcePosition, radius, type) => {\n        const newCircle = {\n          id: `flash-${Date.now()}-${Math.random()}`,\n          position: sourcePosition,\n          radius,\n          type,\n          createdAt: Date.now()\n        };\n        \n        setFlashingRadarCircles(prev => [...prev, newCircle]);\n        \n        // Add a secondary flash at source for visual impact\n        setTimeout(() => {\n          const smallerFlash = {\n            id: `flash-small-${Date.now()}-${Math.random()}`,\n            position: sourcePosition,\n            radius: radius * 0.3, // Smaller radius for the second flash\n            type,\n            createdAt: Date.now()\n          };\n          setFlashingRadarCircles(prev => [...prev, smallerFlash]);\n          \n          // Remove after animation completes\n          setTimeout(() => {\n            setFlashingRadarCircles(prev => \n              prev.filter(c => c.id !== smallerFlash.id)\n            );\n          }, 1500);\n        }, 300);\n        \n        // Auto-remove after animation completes\n        setTimeout(() => {\n          setFlashingRadarCircles(prev => \n            prev.filter(c => c.id !== newCircle.id)\n          );\n        }, 2000);\n      };\n      \n      const runSimulationStep = () => {\n        step++;\n        setSeameshSimulationStep(step);\n        \n        // Move warships and drones along paths\n        setVessels(prev => {\n          const updatedVessels = prev.map(vessel => {\n            // Only move simulated entities\n            if (vessel.id.startsWith('warship-') || vessel.id.startsWith('drone-')) {\n              const progress = Math.min(step / 100, 1); // 100 steps for full journey\n              \n              // Linear interpolation between start and end points\n              const newLng = vessel.startPosition[0] + (vessel.endPosition[0] - vessel.startPosition[0]) * progress;\n              const newLat = vessel.startPosition[1] + (vessel.endPosition[1] - vessel.startPosition[1]) * progress;\n              \n              // Calculate heading based on movement direction\n              const dx = vessel.endPosition[0] - vessel.startPosition[0];\n              const dy = vessel.endPosition[1] - vessel.startPosition[1];\n              const heading = (Math.atan2(dx, dy) * 180 / Math.PI + 360) % 360;\n              \n              // Check for detection by radar sources\n              let detected = vessel.detected;\n              let detectionSource = vessel.detectionSource;\n              \n              // Only try to detect if not already detected\n              if (!detected) {\n                const radarSources = vessel.id.startsWith('warship-') ? \n                  commercialVesselRadarSources : windFarmRadarSources;\n                \n                for (const source of radarSources) {\n                  const distanceInMeters = getDistanceInMeters(\n                    [newLng, newLat],\n                    source.position\n                  );\n                  \n                  if (distanceInMeters <= source.range) {\n                    // Detection probability increases with proximity\n                    const detectionThreshold = 0.5 * (1 - distanceInMeters / source.range);\n                    const randomFactor = Math.random();\n                    \n                    if (randomFactor < detectionThreshold) {\n                      detected = true;\n                      detectionSource = source;\n                      \n                      // Add flashing radar circle\n                      addFlashingCircle(source.position, source.range, source.type);\n                      \n                      // Update detection counters\n                      if (vessel.id.startsWith('warship-')) {\n                        warshipDetections++;\n                        setWarshipDetectionRate(Math.round((warshipDetections / 2) * 100));\n                      } else {\n                        droneDetections++;\n                        setDroneDetectionRate(Math.round((droneDetections / 2) * 100));\n                      }\n                      \n                      break;\n                    }\n                  }\n                }\n              }\n              \n              return {\n                ...vessel,\n                position: [newLng, newLat],\n                heading,\n                detected,\n                detectionSource\n              };\n            }\n            return vessel;\n          });\n          \n          return updatedVessels;\n        });\n        \n        // Continue simulation until all entities are detected or max steps reached\n        if (step < 150 && (warshipDetections < 2 || droneDetections < 2)) {\n          simulationTimerRef.current = setTimeout(runSimulationStep, 250);\n        } else {\n          // Set simulation to complete state but leave it visible\n          setSimulationComplete(true);\n          \n          // End simulation after delay\n          setTimeout(() => {\n            setSeameshSimulationActive(false);\n            setFlashingRadarCircles([]);\n            setSimulationComplete(false);\n            // Restore original vessels\n            setVessels(originalVessels);\n            // Reset displays\n            setShowWindFarms(false);\n            setShowRadarCoverage(false);\n            setShowVesselRadar(false);\n            setShowLargeVesselRadar(false);\n          }, 5000);\n        }\n      };\n      \n      // Start the simulation sequence\n      setTimeout(runSimulationStep, 1000);\n    };\n  }, [vessels, windFarmsData]);\n  \n  // Helper function to calculate distance between coordinates in meters\n  const getDistanceInMeters = useCallback((coord1, coord2) => {\n    const [lon1, lat1] = coord1;\n    const [lon2, lat2] = coord2;\n    \n    const R = 6371e3; // Earth's radius in meters\n    const φ1 = lat1 * Math.PI / 180;\n    const φ2 = lat2 * Math.PI / 180;\n    const Δφ = (lat2 - lat1) * Math.PI / 180;\n    const Δλ = (lon2 - lon1) * Math.PI / 180;\n    \n    const a = Math.sin(Δφ/2) * Math.sin(Δφ/2) +\n              Math.cos(φ1) * Math.cos(φ2) *\n              Math.sin(Δλ/2) * Math.sin(Δλ/2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\n    const distance = R * c;\n    \n    return distance;\n  }, []);\n  \n  // Clean up simulation on unmount\n  useEffect(() => {\n    return () => {\n      if (simulationTimerRef.current) {\n        clearTimeout(simulationTimerRef.current);\n      }\n      // Clear any remaining flashing circles\n      setFlashingRadarCircles([]);\n    };\n  }, []);\n  \n  // Render flashing screen overlay for simulation\n  const renderFlashingOverlay = useCallback(() => {\n    if (!flashScreen) return null;\n    \n    return (\n      <div \n        className=\"absolute inset-0 bg-red-600 z-50 pointer-events-none\"\n        style={{ \n          opacity: 0.3,\n          animation: 'flash 0.5s ease-out'\n        }}\n      />\n    );\n  }, [flashScreen]);\n  \n  // Render simulation status and detection rates\n  const renderSimulationStatus = useCallback(() => {\n    if (!seameshSimulationActive) return null;\n    \n    return (\n      <div className=\"absolute top-16 right-4 control-panel z-40 bg-gray-800 bg-opacity-90\">\n        <h2 className=\"text-sm font-semibold mb-3 palantir-heading\">\n          {simulationComplete ? 'Simulation Complete' : 'SeaMesh & AirMesh Simulation'}\n        </h2>\n        \n        <div className=\"flex flex-col gap-2\">\n          <div>\n            <div className=\"text-xs mb-1 flex justify-between\">\n              <span>Warship Detection:</span>\n              <span className={warshipDetectionRate === 100 ? 'text-green-400' : ''}>\n                {warshipDetectionRate}%\n              </span>\n            </div>\n            <div className=\"bg-gray-700 h-2 w-full rounded-full overflow-hidden\">\n              <div \n                className={`h-full rounded-full transition-all duration-500 ${\n                  warshipDetectionRate === 100 ? 'bg-green-500' : 'bg-blue-500'\n                }`}\n                style={{width: `${warshipDetectionRate}%`}}\n              ></div>\n            </div>\n          </div>\n          \n          <div>\n            <div className=\"text-xs mb-1 flex justify-between\">\n              <span>Drone Detection:</span>\n              <span className={droneDetectionRate === 100 ? 'text-green-400' : ''}>\n                {droneDetectionRate}%\n              </span>\n            </div>\n            <div className=\"bg-gray-700 h-2 w-full rounded-full overflow-hidden\">\n              <div \n                className={`h-full rounded-full transition-all duration-500 ${\n                  droneDetectionRate === 100 ? 'bg-green-500' : 'bg-red-500'\n                }`}\n                style={{width: `${droneDetectionRate}%`}}\n              ></div>\n            </div>\n          </div>\n          \n          {simulationComplete && (\n            <div className=\"mt-2 text-xs text-green-400\">\n              Detection complete! The SeaMesh and AirMesh networks successfully detected all Russian threats using civilian infrastructure.\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }, [seameshSimulationActive, warshipDetectionRate, droneDetectionRate, simulationComplete]);\n  \n  // Render flashing radar circles for simulation\n  const renderRadarFlashes = useCallback(() => {\n    // Make sure Google Maps is loaded\n    if (!window.google || !window.google.maps) {\n      console.warn('Google Maps not loaded yet');\n      return null;\n    }\n    \n    if (!seameshSimulationActive || flashingRadarCircles.length === 0) return null;\n    \n    return flashingRadarCircles.map(circle => {\n      // Create a unique class name that includes the circle ID\n      const pulseClassName = `radar-pulse-${circle.id.replace(/[^a-zA-Z0-9]/g, '')}`;\n      \n      // Add a style tag with animation for this specific circle\n      const circleStyle = `\n        @keyframes pulse-${pulseClassName} {\n          0% { transform: scale(0.6); opacity: 0.7; }\n          50% { transform: scale(0.9); opacity: 0.3; }\n          100% { transform: scale(1.2); opacity: 0; }\n        }\n        \n        .${pulseClassName} {\n          animation: pulse-${pulseClassName} 2s ease-out;\n          transform-origin: center center;\n        }\n      `;\n      \n      return (\n        <React.Fragment key={circle.id}>\n          <style>{circleStyle}</style>\n          <MemoizedCircle\n            center={{ \n              lat: typeof circle.position[1] === 'number' ? circle.position[1] : parseFloat(circle.position[1]), \n              lng: typeof circle.position[0] === 'number' ? circle.position[0] : parseFloat(circle.position[0])\n            }}\n            radius={circle.radius}\n            options={{\n              fillColor: circle.type === 'vessel' ? '#0088FF' : '#FF8800',\n              fillOpacity: 0.1,\n              strokeColor: circle.type === 'vessel' ? '#00FFFF' : '#FFFF00',\n              strokeOpacity: 0.8,\n              strokeWeight: 2,\n              className: pulseClassName\n            }}\n          />\n        </React.Fragment>\n      );\n    });\n  }, [seameshSimulationActive, flashingRadarCircles]);\n  \n  // Special visualization for detected vessels\n  const renderDetectionLines = useCallback(() => {\n    // Make sure Google Maps is loaded\n    if (!window.google || !window.google.maps) {\n      console.warn('Google Maps not loaded yet');\n      return null;\n    }\n    \n    if (!seameshSimulationActive) return null;\n    \n    const detectedVessels = vessels.filter(v => \n      (v.id?.startsWith('warship-') || v.id?.startsWith('drone-')) && \n      v.detected && \n      v.detectionSource\n    );\n    \n    return detectedVessels.map(vessel => {\n      const vesselPosition = { lat: vessel.position[1], lng: vessel.position[0] };\n      const sourcePosition = { \n        lat: vessel.detectionSource.position[1], \n        lng: vessel.detectionSource.position[0] \n      };\n      \n      return (\n        <React.Fragment key={`detection-line-${vessel.id}`}>\n          {/* Detection circle around vessel */}\n          <MemoizedCircle\n            center={vesselPosition}\n            radius={1000}\n            options={{\n              fillColor: vessel.id.startsWith('warship-') ? '#0088FF' : '#FF8800',\n              fillOpacity: 0.3,\n              strokeColor: vessel.id.startsWith('warship-') ? '#00FFFF' : '#FFFF00',\n              strokeOpacity: 0.8,\n              strokeWeight: 2\n            }}\n          />\n          \n          {/* Line from detection source to vessel */}\n          <Polyline\n            path={[sourcePosition, vesselPosition]}\n            options={{\n              strokeColor: vessel.id.startsWith('warship-') ? '#0088FF' : '#FF8800',\n              strokeOpacity: 0.6,\n              strokeWeight: 2,\n              icons: [{\n                icon: {\n                  path: window.google.maps.SymbolPath.FORWARD_CLOSED_ARROW\n                },\n                offset: '50%'\n              }]\n            }}\n          />\n        </React.Fragment>\n      );\n    });\n  }, [vessels, seameshSimulationActive]);\n  \n  // Update UI to include display mode toggle\n  return (\n    <div className=\"baltic-tracker-container\">\n      {/* Add simulation style tag */}\n      <style>{simulationStyles}</style>\n      \n      <div className=\"flex h-screen\">\n        {showSidebar && (\n          <div className=\"sidebar w-80\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h1 className=\"text-xl font-semibold palantir-heading\">Baltic Sea Tracker</h1>\n              <button onClick={() => setShowSidebar(false)}>\n                <Menu size={20} />\n              </button>\n            </div>\n            \n            {controlPanels}\n          </div>\n        )}\n\n        <div className=\"flex-1 relative\">\n          {!showSidebar && (\n            <button\n              className=\"absolute top-4 left-4 z-10\"\n              onClick={() => setShowSidebar(true)}\n            >\n              <Menu size={20} />\n            </button>\n          )}\n          \n          {/* Google Maps component replaces D3 map */}\n          {loadError && (\n            <div className=\"w-full h-full flex flex-col items-center justify-center bg-gray-900 text-white p-4\">\n              <div className=\"text-xl mb-4\">Error loading Google Maps</div>\n              <div className=\"text-sm max-w-lg text-center\">\n                There was an error loading the Google Maps API. This could be due to:\n                <ul className=\"list-disc pl-5 mt-2 text-left\">\n                  <li>Network connection issues</li>\n                  <li>API key restrictions</li>\n                  <li>Ad blockers or privacy extensions</li>\n                </ul>\n                <div className=\"mt-4\">\n                  Please try refreshing the page or check your network connection.\n                </div>\n                \n                <button \n                  onClick={() => window.location.reload()}\n                  className=\"mt-4 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded\"\n                >\n                  Reload Page\n                </button>\n              </div>\n            </div>\n          )}\n          {!loadError && isLoaded ? (\n            <GoogleMap\n              key={mapKey}\n              mapContainerStyle={{ width: '100%', height: '100%' }}\n              center={currentMapCenter}\n              zoom={mapZoom}\n              options={mapOptions}\n              onLoad={onMapLoad}\n              onClick={handleMapClick}\n              onDragEnd={() => {\n                // Only update bounds when drag is complete\n                if (mapRef.current && mapRef.current.getBounds()) {\n                  const bounds = mapRef.current.getBounds();\n                  setMapBounds({\n                    north: bounds.getNorthEast().lat(),\n                    east: bounds.getNorthEast().lng(),\n                    south: bounds.getSouthWest().lat(),\n                    west: bounds.getSouthWest().lng()\n                  });\n                  \n                  // Update the map center after drag\n                  const center = mapRef.current.getCenter();\n                  setCurrentMapCenter({\n                    lat: center.lat(),\n                    lng: center.lng()\n                  });\n                }\n              }}\n              onZoomChanged={() => {\n                if (mapRef.current) {\n                  setCurrentZoom(mapRef.current.getZoom());\n                  \n                  // Update bounds after zoom\n                  if (mapRef.current.getBounds()) {\n                    const bounds = mapRef.current.getBounds();\n                    setMapBounds({\n                      north: bounds.getNorthEast().lat(),\n                      east: bounds.getNorthEast().lng(),\n                      south: bounds.getSouthWest().lat(),\n                      west: bounds.getSouthWest().lng()\n                    });\n                    \n                    // Update center after zoom change\n                    const center = mapRef.current.getCenter();\n                    setCurrentMapCenter({\n                      lat: center.lat(),\n                      lng: center.lng()\n                    });\n                  }\n                }\n              }}\n            >\n              {vessels.length > 0 && renderVessels()}\n              {showWindFarms && renderWindFarms()}\n              {showRadarCoverage && renderRadarCoverage()}\n              {(showVesselRadar || showLargeVesselRadar) && renderVesselRadarCoverage()}\n              {renderRadarFlashes()}\n              {renderDetectionLines()}\n            </GoogleMap>\n          ) : !loadError ? (\n            <div className=\"w-full h-full flex items-center justify-center bg-gray-900 text-white\">\n              <div className=\"text-xl\">Loading map...</div>\n            </div>\n          ) : null}\n          \n          {/* Render simulation UI elements */}\n          {renderFlashingOverlay()}\n          {renderSimulationStatus()}\n          \n          <div className=\"absolute bottom-4 right-4 flex gap-2\">\n            <button onClick={() => zoomRef.current && zoomRef.current.zoomIn()}>\n              <ZoomIn size={20} />\n            </button>\n            <button onClick={() => zoomRef.current && zoomRef.current.zoomOut()}>\n              <ZoomOut size={20} />\n            </button>\n          </div>\n          \n          <div className=\"absolute bottom-4 left-4\" style={{ zIndex: 1000 }}>\n            <button \n              onClick={() => {\n                // Create a simplified reset function that handles all necessary state\n                const resetMap = () => {\n                  // Reset vessel selection and visualization features\n                  setSelectedVessel(null);\n                  setShowWindFarms(false);\n                  setShowRadarCoverage(false);\n                  setShowVesselRadar(false);\n                  setShowLargeVesselRadar(false);\n                  setSimulationEnabled(false);\n                  \n                  // Reset display settings\n                  setDisplayMode('radar');\n                  setFilter('all');\n                  setSimulationSpeed(10);\n                  \n                  // Reset map position and zoom\n                  if (mapRef.current) {\n                    mapRef.current.setCenter(mapCenter);\n                    mapRef.current.setZoom(mapZoom);\n                    setCurrentZoom(mapZoom);\n                    setCurrentMapCenter(mapCenter);\n                  }\n                  \n                  // Force React to remount map components\n                  setMapKey(Date.now());\n                };\n                \n                // Execute the reset function\n                resetMap();\n                \n                // Small timeout to ensure map refreshes completely\n                setTimeout(() => {\n                  if (mapRef.current && mapRef.current.overlayMapTypes) {\n                    mapRef.current.overlayMapTypes.clear();\n                  }\n                }, 10);\n              }}\n              style={{\n                backgroundColor: '#8B0000',  // Dark red color\n                color: '#FFFFFF',\n                padding: '0.5rem 1rem',\n                borderRadius: '0.25rem',\n                border: 'none',\n                fontWeight: '600',\n                cursor: 'pointer',\n                boxShadow: '0 2px 4px rgba(0, 0, 0, 0.3)'\n              }}\n            >\n              Reset filters\n            </button>\n          </div>\n          \n          {selectedVessel && (\n            <div className=\"absolute top-4 right-4 control-panel\">\n              <div className=\"flex items-center justify-between mb-2\">\n                <h3 className=\"text-sm font-semibold\">{selectedVessel.name}</h3>\n                <button \n                  onClick={() => setSelectedVessel(null)} \n                  className=\"text-gray-400 hover:text-white\"\n                >\n                  ×\n                </button>\n              </div>\n              <div className=\"text-sm text-secondary\">\n                {selectedVessel.isWindFarm ? (\n                  <>\n                    <div>Type: Wind Farm</div>\n                    <div>Country: {selectedVessel.flag}</div>\n                    <div>Capacity: {selectedVessel.capacity} MW</div>\n                    {selectedVessel.turbines && <div>Turbines: {selectedVessel.turbines}</div>}\n                    {selectedVessel.area && (\n                      <div>\n                        Area: {selectedVessel.area} km² \n                        {selectedVessel.estimatedArea && <span className=\"text-amber-400\"> (est.)</span>}\n                      </div>\n                    )}\n                    <div>Status: {selectedVessel.status.charAt(0).toUpperCase() + selectedVessel.status.slice(1)}</div>\n                  </>\n                ) : (\n                  <>\n                    <div>Flag: {selectedVessel.flag}</div>\n                    <div>Type: {selectedVessel.type}</div>\n                    {selectedVessel.class && <div>Class: {selectedVessel.class}</div>}\n                    {selectedVessel.designation && <div>Designation: {selectedVessel.designation}</div>}\n                    <div>Operator: {selectedVessel.operator}</div>\n                    <div>Length: {selectedVessel.length}m</div>\n                    <div>Speed: {selectedVessel.speed} knots</div>\n                    <div>Heading: {selectedVessel.heading}°</div>\n                    {selectedVessel.grossTonnage && <div>Gross Tonnage: {selectedVessel.grossTonnage} GT</div>}\n                    {selectedVessel.type === 'submarine' && (\n                      <div>Depth: {selectedVessel.depth}m ({selectedVessel.isSubmerged ? 'Submerged' : 'Surfaced'})</div>\n                    )}\n                    <div className=\"mt-2\">Detection Confidence:</div>\n                    <div className=\"flex items-center mt-1\">\n                      <span className=\"w-12 text-xs\">Radar:</span>\n                      <div className=\"bg-gray-700 h-2 flex-1 rounded-full overflow-hidden\">\n                        <div className=\"bg-blue-500 h-full rounded-full\" style={{width: `${selectedVessel.detectionProbability.radar * 100}%`}}></div>\n                      </div>\n                      <span className=\"ml-2 text-xs\">{Math.round(selectedVessel.detectionProbability.radar * 100)}%</span>\n                    </div>\n                    <div className=\"flex items-center mt-1\">\n                      <span className=\"w-12 text-xs\">Sonar:</span>\n                      <div className=\"bg-gray-700 h-2 flex-1 rounded-full overflow-hidden\">\n                        <div className=\"bg-cyan-500 h-full rounded-full\" style={{width: `${selectedVessel.detectionProbability.sonar * 100}%`}}></div>\n                      </div>\n                      <span className=\"ml-2 text-xs\">{Math.round(selectedVessel.detectionProbability.sonar * 100)}%</span>\n                    </div>\n                    <div className=\"flex items-center mt-1\">\n                      <span className=\"w-12 text-xs\">Fused:</span>\n                      <div className=\"bg-gray-700 h-2 flex-1 rounded-full overflow-hidden\">\n                        <div className=\"bg-green-500 h-full rounded-full\" style={{width: `${selectedVessel.detectionProbability.fused * 100}%`}}></div>\n                      </div>\n                      <span className=\"ml-2 text-xs\">{Math.round(selectedVessel.detectionProbability.fused * 100)}%</span>\n                    </div>\n                  </>\n                )}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n      \n      <div className=\"bg-gray-800 p-2 text-center text-sm text-gray-400\">\n        <div className=\"flex justify-center items-center\">\n          <Info size={16} className=\"mr-1\" />\n          Baltic Sea Tracker - {filter === 'all' ? 300 : vessels.filter(v => filter === 'russian' ? v.isRussian : v.type === filter).length} vessels in {displayMode} mode | Zoom: {currentZoom}\n          {showWindFarms && ' | Wind Farms Shown'}\n          {showRadarCoverage && showWindFarms && ' | Radar Coverage (42 NM)'}\n          {showVesselRadar && ' | Vessel Radar (20/40 NM)'}\n          {simulationEnabled && ` | Vessel Movement (${simulationSpeed}x)`}\n          <span className=\"ml-2 text-green-400\">• Optimized rendering with level-of-detail</span>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default BalticSeaTracker; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}