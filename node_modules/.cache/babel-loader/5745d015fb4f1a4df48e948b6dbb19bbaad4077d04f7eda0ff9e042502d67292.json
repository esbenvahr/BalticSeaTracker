{"ast":null,"code":"var _jsxFileName = \"/Users/esbenvahr/Desktop/NEW FINAL/app/src/components/BalticSeaTracker.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef, useCallback, useMemo, memo } from 'react';\nimport { Info, Ship, Menu, ZoomIn, ZoomOut, Radar, Waves, Layers, Wind, Radio } from 'lucide-react';\nimport '../styles/palantir-theme.css';\nimport { GoogleMap, useJsApiLoader, Marker, Circle, Polyline, Polygon } from '@react-google-maps/api';\n\n// Memoized components for better performance\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MemoizedMarker = /*#__PURE__*/memo(Marker);\n_c = MemoizedMarker;\nconst MemoizedCircle = /*#__PURE__*/memo(Circle);\n_c2 = MemoizedCircle;\nconst MemoizedPolygon = /*#__PURE__*/memo(Polygon);\n\n// Define container style\n_c3 = MemoizedPolygon;\nconst mapContainerStyle = {\n  width: '100%',\n  height: '100vh'\n};\n\n// Define center for the Baltic Sea\nconst defaultCenter = {\n  lat: 59,\n  lng: 19\n};\nconst BalticSeaTracker = () => {\n  _s();\n  // Use the same API key and configuration that worked in SimpleMap\n  const {\n    isLoaded,\n    loadError\n  } = useJsApiLoader({\n    id: 'google-map-script',\n    googleMapsApiKey: 'AIzaSyAl-iGmFThUduVpLpE7sQTmniBSUPtzJjA',\n    libraries: ['geometry', 'drawing']\n  });\n  console.log(\"Map loading status:\", {\n    isLoaded,\n    loadError\n  });\n  const [vessels, setVessels] = useState([]);\n  const [selectedVessel, setSelectedVessel] = useState(null);\n  const [filters, setFilters] = useState({\n    all: true,\n    commercial: false,\n    military: false,\n    submarine: false,\n    drone: false,\n    russian: false\n  });\n  const [showSidebar, setShowSidebar] = useState(true);\n  const [displayMode, setDisplayMode] = useState('radar'); // Only 'radar' mode is available now\n  const [showWindFarms, setShowWindFarms] = useState(false);\n  const [showRadarCoverage, setShowRadarCoverage] = useState(false); // New state for radar coverage\n  const [showVesselRadar, setShowVesselRadar] = useState(false); // State for vessel radar coverage (300-2999 GT)\n  const [showLargeVesselRadar, setShowLargeVesselRadar] = useState(false); // New state for large vessel radar (>3000 GT)\n  const [showSeaMesh, setShowSeaMesh] = useState(false); // State for SeaMesh interception visualization\n  const [showAirMesh, setShowAirMesh] = useState(false); // State for AirMesh drone interception visualization\n  const [mapBounds, setMapBounds] = useState(null); // Track current map bounds\n  const [currentZoom, setCurrentZoom] = useState(6); // Track current zoom level\n  const [mapKey, setMapKey] = useState(Date.now()); // Add key to force remount of map components\n  const [simulationEnabled, setSimulationEnabled] = useState(false); // Track if vessel movement simulation is enabled\n  const [simulationSpeed, setSimulationSpeed] = useState(10); // Simulation speed multiplier (default 10x)\n  const animationFrameRef = useRef(null); // Reference to store animation frame ID\n  const lastUpdateTimeRef = useRef(Date.now()); // Reference to store last update time\n\n  const zoomRef = useRef(null);\n  const mapRef = useRef(null);\n\n  // Google Maps settings\n  const mapCenter = defaultCenter; // Use the default center\n  const mapZoom = 6;\n\n  // Add state to track current map center\n  const [currentMapCenter, setCurrentMapCenter] = useState(defaultCenter);\n\n  // Memoize map style to prevent recalculations\n  const mapStyle = useMemo(() => getMapStyle(displayMode), [displayMode]);\n  const mapOptions = useMemo(() => ({\n    disableDefaultUI: true,\n    zoomControl: false,\n    styles: mapStyle,\n    draggable: true,\n    // Ensure map is draggable\n    // Hide cities with population under 5000\n    restrictions: {\n      latLngBounds: {\n        north: 66.0,\n        south: 54.0,\n        east: 30.0,\n        west: 9.0\n      }\n    }\n  }), [mapStyle]);\n\n  // Create a ref to track if Google Maps loaded\n  const mapsLoadedRef = useRef(false);\n\n  // Log any errors with Google Maps loading\n  useEffect(() => {\n    if (loadError) {\n      console.error('Error loading Google Maps:', loadError);\n    }\n    if (isLoaded && !mapsLoadedRef.current) {\n      console.log('Google Maps API loaded successfully');\n      mapsLoadedRef.current = true;\n    }\n  }, [isLoaded, loadError]);\n\n  // Function to get map style based on display mode\n  function getMapStyle(mode) {\n    switch (mode) {\n      case 'radar':\n        return [{\n          elementType: \"geometry\",\n          stylers: [{\n            color: \"#212121\"\n          }]\n        }, {\n          elementType: \"labels.text.stroke\",\n          stylers: [{\n            color: \"#212121\"\n          }]\n        }, {\n          elementType: \"labels.text.fill\",\n          stylers: [{\n            color: \"#746855\"\n          }]\n        }, {\n          featureType: \"water\",\n          elementType: \"geometry\",\n          stylers: [{\n            color: \"#181818\"\n          }]\n        }, {\n          featureType: \"water\",\n          elementType: \"labels.text.fill\",\n          stylers: [{\n            color: \"#3d3d3d\"\n          }]\n        }, {\n          featureType: \"poi\",\n          stylers: [{\n            visibility: \"off\"\n          }]\n        }, {\n          featureType: \"transit\",\n          stylers: [{\n            visibility: \"off\"\n          }]\n        }, {\n          featureType: \"road\",\n          stylers: [{\n            visibility: \"off\"\n          }]\n        },\n        // Hide smaller cities/towns\n        {\n          featureType: \"administrative.locality\",\n          elementType: \"labels\",\n          stylers: [{\n            visibility: \"off\"\n          }]\n        },\n        // Only show major cities\n        {\n          featureType: \"administrative.locality\",\n          elementType: \"labels\",\n          filter: [\">=\", [\"get\", \"population\"], 10000],\n          stylers: [{\n            visibility: \"on\"\n          }]\n        }];\n\n      // Remove sonar and fused cases\n      default:\n        return [{\n          elementType: \"geometry\",\n          stylers: [{\n            color: \"#212121\"\n          }]\n        }, {\n          elementType: \"labels.text.stroke\",\n          stylers: [{\n            color: \"#212121\"\n          }]\n        }, {\n          elementType: \"labels.text.fill\",\n          stylers: [{\n            color: \"#746855\"\n          }]\n        }, {\n          featureType: \"water\",\n          elementType: \"geometry\",\n          stylers: [{\n            color: \"#181818\"\n          }]\n        }, {\n          featureType: \"water\",\n          elementType: \"labels.text.fill\",\n          stylers: [{\n            color: \"#3d3d3d\"\n          }]\n        }, {\n          featureType: \"poi\",\n          stylers: [{\n            visibility: \"off\"\n          }]\n        }, {\n          featureType: \"transit\",\n          stylers: [{\n            visibility: \"off\"\n          }]\n        }, {\n          featureType: \"road\",\n          stylers: [{\n            visibility: \"off\"\n          }]\n        },\n        // Hide smaller cities/towns\n        {\n          featureType: \"administrative.locality\",\n          elementType: \"labels\",\n          stylers: [{\n            visibility: \"off\"\n          }]\n        },\n        // Only show major cities\n        {\n          featureType: \"administrative.locality\",\n          elementType: \"labels\",\n          filter: [\">=\", [\"get\", \"population\"], 10000],\n          stylers: [{\n            visibility: \"on\"\n          }]\n        }];\n    }\n  }\n\n  // Function to generate a random coordinate within Baltic Sea\n  const randomCoordinate = () => {\n    // Areas to avoid - major inland lakes and problematic areas\n    const avoidAreas = [\n    // Swedish lakes\n    {\n      minLat: 58.0,\n      maxLat: 59.3,\n      minLng: 12.3,\n      maxLng: 14.0\n    },\n    // Vänern\n    {\n      minLat: 57.7,\n      maxLat: 58.7,\n      minLng: 14.0,\n      maxLng: 14.8\n    },\n    // Vättern\n    {\n      minLat: 59.1,\n      maxLat: 59.7,\n      minLng: 15.8,\n      maxLng: 18.0\n    },\n    // Mälaren\n\n    // Finnish lakes\n    {\n      minLat: 61.0,\n      maxLat: 62.3,\n      minLng: 24.5,\n      maxLng: 26.4\n    },\n    // Päijänne\n    {\n      minLat: 61.3,\n      maxLat: 63.1,\n      minLng: 26.5,\n      maxLng: 29.0\n    },\n    // Saimaa\n\n    // Other inland waters to avoid\n    {\n      minLat: 60.0,\n      maxLat: 61.8,\n      minLng: 29.2,\n      maxLng: 32.0\n    },\n    // Ladoga\n    {\n      minLat: 57.8,\n      maxLat: 59.0,\n      minLng: 26.5,\n      maxLng: 28.5\n    },\n    // Peipus\n\n    // Problematic shore areas - Northern Sweden west coast\n    {\n      minLat: 60.0,\n      maxLat: 65.0,\n      minLng: 17.0,\n      maxLng: 19.5\n    },\n    // Problematic shore areas - Northern Finland west coast\n    {\n      minLat: 63.0,\n      maxLat: 65.5,\n      minLng: 22.5,\n      maxLng: 25.0\n    }];\n\n    // Combine shipping lanes with wider dispersal areas\n    const shippingLanes = [\n    // Main shipping lanes (lower weight than before to reduce clustering)\n    // Danish Straits to St. Petersburg\n    {\n      minLat: 54.5,\n      maxLat: 55.2,\n      minLng: 10.8,\n      maxLng: 13.0,\n      weight: 5\n    },\n    // Danish Straits entrance\n    {\n      minLat: 55.0,\n      maxLat: 55.8,\n      minLng: 12.8,\n      maxLng: 14.5,\n      weight: 4\n    },\n    // Route east of Denmark\n    {\n      minLat: 55.3,\n      maxLat: 56.2,\n      minLng: 14.5,\n      maxLng: 16.5,\n      weight: 4\n    },\n    // Southern Sweden coast\n    {\n      minLat: 55.0,\n      maxLat: 56.0,\n      minLng: 16.5,\n      maxLng: 18.5,\n      weight: 3\n    },\n    // Midway to Gotland\n    {\n      minLat: 57.0,\n      maxLat: 58.2,\n      minLng: 18.5,\n      maxLng: 20.0,\n      weight: 4\n    },\n    // North of Gotland\n    {\n      minLat: 58.5,\n      maxLat: 59.5,\n      minLng: 20.0,\n      maxLng: 22.0,\n      weight: 3\n    },\n    // Approach to Gulf of Finland\n    {\n      minLat: 59.2,\n      maxLat: 59.8,\n      minLng: 22.0,\n      maxLng: 24.5,\n      weight: 5\n    },\n    // Gulf of Finland western part\n    {\n      minLat: 59.7,\n      maxLat: 60.2,\n      minLng: 24.5,\n      maxLng: 28.0,\n      weight: 4\n    },\n    // Gulf of Finland eastern part\n\n    // Port approaches - reduced weights to prevent clustering\n    {\n      minLat: 60.0,\n      maxLat: 60.5,\n      minLng: 24.5,\n      maxLng: 25.0,\n      weight: 3\n    },\n    // Helsinki\n    {\n      minLat: 60.2,\n      maxLat: 60.5,\n      minLng: 22.0,\n      maxLng: 22.5,\n      weight: 3\n    },\n    // Turku\n    {\n      minLat: 55.3,\n      maxLat: 56.3,\n      minLng: 12.5,\n      maxLng: 13.0,\n      weight: 3\n    },\n    // Malmö\n    {\n      minLat: 58.5,\n      maxLat: 59.5,\n      minLng: 16.5,\n      maxLng: 18.5,\n      weight: 3\n    },\n    // Stockholm\n    {\n      minLat: 54.3,\n      maxLat: 54.8,\n      minLng: 18.3,\n      maxLng: 19.0,\n      weight: 3\n    },\n    // Gdańsk\n    {\n      minLat: 54.0,\n      maxLat: 54.5,\n      minLng: 13.0,\n      maxLng: 14.5,\n      weight: 3\n    },\n    // Rostock\n\n    // Wider dispersal areas - these ensure ships are spread throughout the entire sea\n    // Central Baltic - large dispersal areas\n    {\n      minLat: 56.0,\n      maxLat: 58.0,\n      minLng: 17.0,\n      maxLng: 20.0,\n      weight: 5\n    },\n    // Central Baltic wider area\n    {\n      minLat: 57.5,\n      maxLat: 59.5,\n      minLng: 19.0,\n      maxLng: 22.0,\n      weight: 5\n    },\n    // Eastern Baltic wider area\n\n    // Gulf of Bothnia - more dispersed\n    {\n      minLat: 60.0,\n      maxLat: 62.0,\n      minLng: 18.0,\n      maxLng: 21.0,\n      weight: 4\n    },\n    // Southern Bothnia dispersed\n    {\n      minLat: 62.0,\n      maxLat: 65.0,\n      minLng: 18.0,\n      maxLng: 23.0,\n      weight: 3\n    },\n    // Northern Bothnia dispersed\n\n    // Western Baltic - more dispersed\n    {\n      minLat: 54.0,\n      maxLat: 56.0,\n      minLng: 12.0,\n      maxLng: 15.0,\n      weight: 4\n    },\n    // Western Baltic dispersed\n    {\n      minLat: 54.0,\n      maxLat: 57.0,\n      minLng: 15.0,\n      maxLng: 18.0,\n      weight: 5\n    },\n    // South-central Baltic dispersed\n\n    // Other dispersed areas to ensure wider coverage\n    {\n      minLat: 54.0,\n      maxLat: 55.5,\n      minLng: 18.0,\n      maxLng: 20.0,\n      weight: 3\n    },\n    // Southern Baltic dispersed\n    {\n      minLat: 56.5,\n      maxLat: 58.0,\n      minLng: 15.0,\n      maxLng: 17.0,\n      weight: 3\n    },\n    // Western Gotland dispersed\n    {\n      minLat: 57.0,\n      maxLat: 58.5,\n      minLng: 20.0,\n      maxLng: 22.0,\n      weight: 3\n    },\n    // Eastern Gotland dispersed\n    {\n      minLat: 57.0,\n      maxLat: 58.5,\n      minLng: 22.0,\n      maxLng: 24.0,\n      weight: 3\n    } // Gulf of Riga dispersed\n    ];\n\n    // Calculate total weight\n    const totalWeight = shippingLanes.reduce((sum, lane) => sum + lane.weight, 0);\n\n    // Pick a random lane with weighting\n    let randomPoint = Math.random() * totalWeight;\n    let selectedLane = shippingLanes[0];\n    let cumulativeWeight = 0;\n    for (const lane of shippingLanes) {\n      cumulativeWeight += lane.weight;\n      if (randomPoint <= cumulativeWeight) {\n        selectedLane = lane;\n        break;\n      }\n    }\n\n    // Generate random point\n    const lng = selectedLane.minLng + Math.random() * (selectedLane.maxLng - selectedLane.minLng);\n    const lat = selectedLane.minLat + Math.random() * (selectedLane.maxLat - selectedLane.minLat);\n\n    // Check if the generated point is in an area to avoid\n    for (const area of avoidAreas) {\n      if (lat >= area.minLat && lat <= area.maxLat && lng >= area.minLng && lng <= area.maxLng) {\n        // If in an avoid area, recursively try again (with a maximum call stack check)\n        // This ensures we don't get stuck in an infinite loop\n        if (randomCoordinate.callCount === undefined) {\n          randomCoordinate.callCount = 0;\n        }\n        if (randomCoordinate.callCount < 10) {\n          randomCoordinate.callCount++;\n          const result = randomCoordinate();\n          randomCoordinate.callCount--;\n          return result;\n        } else {\n          // If we've tried too many times, just use a safe zone in the central Baltic\n          randomCoordinate.callCount = 0;\n          return [18.5 + Math.random() * 2, 56.5 + Math.random() * 2]; // Safe zone in central Baltic\n        }\n      }\n    }\n\n    // Reset call count\n    if (randomCoordinate.callCount !== undefined) {\n      randomCoordinate.callCount = 0;\n    }\n\n    // Return the coordinates\n    return [lng, lat];\n  };\n\n  // Generate 300 simulated vessels with realistic properties (reduced from 1000)\n  const generateVessels = useCallback(() => {\n    const vesselTypes = ['commercial', 'military', 'fishing', 'passenger', 'tanker', 'drone'];\n    const flags = ['Finland', 'Sweden', 'Estonia', 'Latvia', 'Lithuania', 'Poland', 'Germany', 'Denmark', 'Russia'];\n    const russianOperators = ['Sovcomflot', 'Gazprom Fleet', 'Rosmorport', 'Russian Navy', 'Rosneft'];\n    const commercialOperators = ['Maersk', 'MSC', 'CMA CGM', 'Hapag-Lloyd', 'ONE', 'Evergreen', 'COSCO', 'Yang Ming', 'HMM', 'Grimaldi', 'DFDS', 'Stena Line', 'Tallink', 'Viking Line'];\n\n    // Generate vessels with better dispersal throughout the Baltic Sea\n    const generatedVessels = [];\n    const occupiedPositions = []; // Track positions to ensure better dispersal\n    const MIN_DISTANCE = 0.2; // Minimum distance between vessels in degrees (approx 10-20km)\n\n    // Start with fewer vessels and then disperse them more effectively\n    const maxAttempts = 600; // Increase attempts to find valid positions\n    let placedVesselCount = 0;\n\n    // Try to place vessels with appropriate spacing\n    for (let i = 1; placedVesselCount < 300 && i <= maxAttempts; i++) {\n      const initialType = vesselTypes[Math.floor(Math.random() * vesselTypes.length)];\n      // Skip drone type in regular vessel generation (we'll add them separately)\n      if (initialType === 'drone') continue;\n      const flag = flags[Math.floor(Math.random() * flags.length)];\n      let isRussian = flag === 'Russia'; // Only mark as Russian if it has a Russian flag\n\n      // If vessel has Russian flag, it's always Russian\n      // If not Russian flag but has a small chance to be operated by Russians,\n      // make it military type instead of marking as Russian\n      let vesselType = initialType;\n\n      // All Russian flag vessels should be marked as \"Russian Ships\"\n      if (isRussian && (vesselType === 'commercial' || vesselType === 'military')) {\n        vesselType = 'russian'; // Set type to 'russian' for all Russian commercial and military vessels\n      } else if (!isRussian && Math.random() < 0.05) {\n        // 5% chance of non-Russian flag but Russian operated\n        // These will be military vessels with Russian operators but not marked as Russian ships\n        vesselType = 'military';\n      }\n\n      // Get a potential position for the vessel\n      const position = randomCoordinate();\n\n      // Skip positions that are not in Baltic Sea water\n      if (!isInBalticSeaWaters(position[1], position[0])) {\n        continue;\n      }\n\n      // Check if this position is too close to existing vessels\n      let isTooClose = false;\n      for (const existingPos of occupiedPositions) {\n        const distance = Math.sqrt(Math.pow(position[0] - existingPos[0], 2) + Math.pow(position[1] - existingPos[1], 2));\n        if (distance < MIN_DISTANCE) {\n          isTooClose = true;\n          break;\n        }\n      }\n\n      // If the position is too close to other vessels, skip this attempt\n      if (isTooClose) {\n        continue;\n      }\n\n      // If we got here, the position is good, so add it to occupied positions\n      occupiedPositions.push(position);\n      placedVesselCount++;\n\n      // Calculate a more realistic heading based on position\n      // Ships in the Baltic generally move east-west in southern parts, and north-south in gulfs\n      let heading;\n      const vesselLat = position[1];\n      const vesselLng = position[0];\n\n      // Baltic shipping lane direction tendencies\n      if (vesselLng < 14.0) {\n        // Danish straits and western Baltic - generally east/west traffic\n        heading = Math.random() < 0.7 ? 70 + Math.random() * 40 : 250 + Math.random() * 40;\n      } else if (vesselLng > 23.0 && vesselLat > 59.0) {\n        // Gulf of Finland - generally east/west traffic\n        heading = Math.random() < 0.5 ? 80 + Math.random() * 30 : 260 + Math.random() * 30;\n      } else if (vesselLng > 19.0 && vesselLat > 60.0) {\n        // Gulf of Bothnia - generally north/south traffic\n        heading = Math.random() < 0.5 ? 0 + Math.random() * 30 : 180 + Math.random() * 30;\n      } else if (vesselLng > 22.0 && vesselLat < 58.0 && vesselLat > 56.5) {\n        // Gulf of Riga - generally north/south traffic\n        heading = Math.random() < 0.5 ? 0 + Math.random() * 40 : 180 + Math.random() * 40;\n      } else if (vesselLat < 56.0 && vesselLng > 18.0) {\n        // Southern Baltic to Polish/Lithuanian ports\n        heading = Math.random() < 0.6 ? 140 + Math.random() * 40 : 320 + Math.random() * 40;\n      } else {\n        // Central Baltic - mixed traffic patterns\n        heading = Math.floor(Math.random() * 360);\n      }\n\n      // Realistic speed based on vessel type and weather (assumed normal conditions)\n      let speed;\n      if (vesselType === 'commercial' || vesselType === 'tanker') {\n        speed = 10 + Math.floor(Math.random() * 8); // 10-18 knots\n      } else if (vesselType === 'passenger') {\n        speed = 15 + Math.floor(Math.random() * 10); // 15-25 knots\n      } else if (vesselType === 'military') {\n        speed = 5 + Math.floor(Math.random() * 25); // 5-30 knots (more variable)\n      } else if (vesselType === 'fishing') {\n        // Fishing vessels move slower or may be stationary when fishing\n        speed = Math.random() < 0.3 ? 0 : 5 + Math.floor(Math.random() * 7); // 0 or 5-12 knots\n      } else {\n        speed = Math.floor(Math.random() * 15) + 5; // 5-20 knots default\n      }\n\n      // Determine vessel size\n      const length = vesselType === 'tanker' || vesselType === 'commercial' ? 100 + Math.floor(Math.random() * 300) : vesselType === 'military' ? 50 + Math.floor(Math.random() * 200) : 20 + Math.floor(Math.random() * 50);\n\n      // Calculate gross tonnage (GT) based on vessel length and type\n      // Using simplified formula based on vessel dimensions\n      let grossTonnage;\n      if (vesselType === 'commercial' || vesselType === 'tanker') {\n        // Commercial and tanker vessels have higher GT/length ratios\n        grossTonnage = Math.round(length * length * 0.18); // Approximation\n      } else if (vesselType === 'military') {\n        // Military vessels are typically more dense but smaller\n        grossTonnage = Math.round(length * length * 0.16);\n      } else if (vesselType === 'passenger') {\n        // Passenger vessels have high volume and less dense cargo\n        grossTonnage = Math.round(length * length * 0.2);\n      } else {\n        // Fishing and other vessels\n        grossTonnage = Math.round(length * length * 0.12);\n      }\n\n      // Determine operator - Russian military vessels might have Russian operators even with non-Russian flags\n      let operator;\n      if (isRussian || vesselType === 'military' && !isRussian && Math.random() < 0.2) {\n        operator = russianOperators[Math.floor(Math.random() * russianOperators.length)];\n      } else {\n        operator = commercialOperators[Math.floor(Math.random() * commercialOperators.length)];\n      }\n\n      // Generate a realistic vessel name\n      const prefixes = isRussian ? ['Admiral', 'Kapitan', 'Vostok', 'Sibir', 'Moskva', 'Sankt-Peterburg', 'Akademik'] : ['Northern', 'Baltic', 'Sea', 'Atlantic', 'Pacific', 'Star', 'Pioneer'];\n      const suffixes = isRussian ? ['Kuznetsov', 'Nakhimov', 'Gorshkov', 'Lazarev', 'Kasatonov', 'Ustinov'] : ['Adventurer', 'Explorer', 'Navigator', 'Voyager', 'Mariner', 'Trader', 'Express'];\n      const shipNumbers = ['I', 'II', 'III', 'IV', 'V', '1', '2', '3', '4', '5'];\n      let name;\n      if (Math.random() < 0.3) {\n        // 30% chance of having a prefix-suffix name\n        name = `${prefixes[Math.floor(Math.random() * prefixes.length)]} ${suffixes[Math.floor(Math.random() * suffixes.length)]}`;\n      } else if (Math.random() < 0.5) {\n        // 20% chance of having a name with a number\n        name = `${prefixes[Math.floor(Math.random() * prefixes.length)]} ${shipNumbers[Math.floor(Math.random() * shipNumbers.length)]}`;\n      } else {\n        // 50% chance of having a simple prefix or suffix name\n        name = Math.random() < 0.5 ? prefixes[Math.floor(Math.random() * prefixes.length)] : suffixes[Math.floor(Math.random() * suffixes.length)];\n      }\n      if (vesselType === 'military' && isRussian) {\n        name = `RFS ${name}`; // Russian Federation Ship\n      }\n\n      // Calculate a detection probability\n      const detectionProbability = {\n        radar: Math.random(),\n        // 0-1, higher means more visible on radar\n        sonar: Math.random(),\n        // 0-1, higher means more detectable by sonar\n        fused: (Math.random() + Math.random()) / 2 // average of two values for a more normal distribution\n      };\n\n      // Generate a vessel object with all properties\n      generatedVessels.push({\n        id: placedVesselCount,\n        name,\n        type: vesselType,\n        flag,\n        isRussian,\n        position,\n        heading,\n        speed,\n        length,\n        operator,\n        detectionProbability,\n        grossTonnage\n      });\n    }\n\n    // More evenly disperse submarines too\n    // Generate Russian submarines with special characteristics\n    const submarineNames = ['Krasnodar', 'Novorossiysk', 'Rostov-on-Don', 'Stary Oskol', 'Velikiy Novgorod', 'Kolpino', 'Sankt Peterburg'];\n    const submarineClasses = ['Kilo-class', 'Kilo-class', 'Kilo-class', 'Kilo-class', 'Improved Kilo-class', 'Improved Kilo-class', 'Lada-class'];\n    const submarineDesignations = ['B-265', 'B-261', 'B-237', 'B-262', 'B-268', 'B-271', 'B-585'];\n\n    // Use more strategic submarine positions\n    const submarineAreas = [\n    // Gulf of Finland approach - monitoring traffic to St. Petersburg\n    [26.2, 59.7],\n    // Near NATO naval exercise areas in central Baltic\n    [19.3, 56.8],\n    // Monitoring approach to Stockholm archipelago\n    [18.9, 58.9],\n    // Deep water between Gotland and Latvia (strategic position)\n    [20.1, 57.3],\n    // Patrolling near Kaliningrad naval base\n    [19.6, 55.2],\n    // Monitoring naval traffic near Gdańsk\n    [18.8, 54.8],\n    // Danish straits approaches - key strategic chokepoint\n    [12.8, 55.4]];\n\n    // Add some randomness to submarine positions to avoid perfect predictability\n    const randomizedSubmarineAreas = submarineAreas.map(pos => [pos[0] + (Math.random() - 0.5) * 0.5,\n    // Add up to ±0.25 degrees longitude\n    pos[1] + (Math.random() - 0.5) * 0.3 // Add up to ±0.15 degrees latitude\n    ]);\n\n    // Add submarines to generated vessels\n    for (let i = 0; i < 7; i++) {\n      const position = randomizedSubmarineAreas[i];\n\n      // Skip submarine positions that aren't in Baltic Sea water\n      if (!isInBalticSeaWaters(position[1], position[0])) {\n        // Try to find a better position by adjusting slightly\n        for (let attempt = 0; attempt < 5; attempt++) {\n          // Try adjusting position slightly to find water\n          const adjustedPosition = [position[0] + (Math.random() - 0.5) * 0.5, position[1] + (Math.random() - 0.5) * 0.5];\n          if (isInBalticSeaWaters(adjustedPosition[1], adjustedPosition[0])) {\n            // Found a valid position\n            position[0] = adjustedPosition[0];\n            position[1] = adjustedPosition[1];\n            break;\n          }\n        }\n\n        // If still not in water after adjustments, skip this submarine\n        if (!isInBalticSeaWaters(position[1], position[0])) {\n          continue;\n        }\n      }\n      const heading = Math.floor(Math.random() * 360);\n      const speed = 5 + Math.floor(Math.random() * 10); // Submarines move slower on average\n      const depth = 20 + Math.floor(Math.random() * 180); // Depth in meters\n\n      // Submarine detection characteristics\n      // Low radar detection when submerged, high sonar signature\n      const isSubmerged = Math.random() > 0.3; // 70% chance of being submerged\n\n      const detectionProbability = {\n        radar: isSubmerged ? 0.05 + Math.random() * 0.1 : 0.3 + Math.random() * 0.2,\n        // Low radar when submerged\n        sonar: 0.6 + Math.random() * 0.4,\n        // High sonar signature\n        fused: isSubmerged ? (0.05 + Math.random() * 0.1 + 0.6 + Math.random() * 0.4) / 2 :\n        // Average when submerged\n        (0.3 + Math.random() * 0.2 + 0.6 + Math.random() * 0.4) / 2 // Average when surfaced\n      };\n      generatedVessels.push({\n        id: 1001 + i,\n        // IDs starting from 1001 for submarines\n        name: `RFS ${submarineNames[i]}`,\n        type: 'submarine',\n        class: submarineClasses[i],\n        designation: submarineDesignations[i],\n        flag: 'Russia',\n        isRussian: true,\n        position,\n        heading,\n        speed,\n        depth,\n        length: 70 + Math.floor(Math.random() * 20),\n        // Kilo-class submarines are around 70-74m\n        isSubmerged,\n        operator: 'Russian Navy',\n        detectionProbability\n      });\n    }\n\n    // Add Russian drones from Kaliningrad and St. Petersburg\n    const droneStartingLocations = [[20.5, 54.7],\n    // Kaliningrad\n    [30.3, 59.9] // St. Petersburg\n    ];\n    const droneNames = ['Orion-E', 'Orlan-10', 'Forpost-R', 'Altius-RU', 'Okhotnik', 'Grom', 'Kronshtadt', 'Sirius'];\n\n    // Generate 8 Russian drones (4 from each location)\n    for (let i = 0; i < 8; i++) {\n      const startLocation = droneStartingLocations[i % 2]; // Alternate between Kaliningrad and St. Petersburg\n\n      // Create a drone path over the Baltic Sea\n      let position;\n      if (i % 2 === 0) {\n        // Kaliningrad drones\n        // Move toward central/northern Baltic\n        const offsetLng = Math.random() * 4 - 3; // -3 to 1 longitude shift\n        const offsetLat = Math.random() * 4 + 1; // 1 to 5 latitude shift (north)\n        position = [startLocation[0] + offsetLng, startLocation[1] + offsetLat];\n      } else {\n        // St. Petersburg drones\n        // Move toward central/western Baltic\n        const offsetLng = Math.random() * 6 - 8; // -8 to -2 longitude shift (west)\n        const offsetLat = Math.random() * 3 - 1.5; // -1.5 to 1.5 latitude shift\n        position = [startLocation[0] + offsetLng, startLocation[1] + offsetLat];\n      }\n\n      // Calculate heading based on destination (simplified)\n      const dx = position[0] - startLocation[0];\n      const dy = position[1] - startLocation[1];\n      const heading = Math.atan2(dy, dx) * (180 / Math.PI);\n\n      // Generate the drone object\n      generatedVessels.push({\n        id: 1000 + i,\n        // Use ID range that won't conflict with regular vessels\n        name: droneNames[i],\n        type: 'drone',\n        flag: 'Russia',\n        isRussian: true,\n        position,\n        // Position over Baltic Sea\n        heading: heading < 0 ? heading + 360 : heading,\n        speed: 110,\n        // 110 knots as requested\n        length: 10 + Math.floor(Math.random() * 15),\n        // Small size (10-25 meters)\n        operator: 'Russian Military',\n        detectionProbability: {\n          radar: 0.3 + Math.random() * 0.4,\n          // Lower radar signature (0.3-0.7)\n          sonar: 0,\n          // No sonar signature for drones\n          fused: 0.3 + Math.random() * 0.3 // Lower fused signature (0.3-0.6)\n        },\n        grossTonnage: 2 + Math.floor(Math.random() * 8) // Very small GT (2-10)\n      });\n    }\n    return generatedVessels;\n  }, []);\n\n  // Generate vessel data when component mounts\n  useEffect(() => {\n    const simulatedVessels = generateVessels();\n\n    // Process vessels - convert non-Russian flag but marked as Russian to military type\n    // Also ensure any vessel with a Russian flag is properly marked as Russian\n    const processedVessels = simulatedVessels.map(vessel => {\n      // First case: Non-Russian flag but marked as Russian - convert to military\n      if (vessel.isRussian && vessel.flag !== 'Russia' && vessel.type !== 'submarine' && vessel.type !== 'drone') {\n        return {\n          ...vessel,\n          isRussian: false,\n          // Remove Russian designation\n          type: 'military',\n          // Change to military type\n          operator: vessel.operator // Keep the operator (which might be Russian)\n        };\n      }\n\n      // Second case: Russian flag but not marked as Russian - ensure it's marked as Russian\n      // This applies to all vessels with Russian flag, especially commercial and military\n      if (vessel.flag === 'Russia' && !vessel.isRussian) {\n        return {\n          ...vessel,\n          isRussian: true // Ensure it's properly marked as Russian\n        };\n      }\n      return vessel;\n    });\n    setVessels(processedVessels);\n  }, [generateVessels]);\n\n  // Update vessel positions based on speed and heading\n  const updateVesselPositions = useCallback(() => {\n    if (!simulationEnabled) return;\n    const currentTime = Date.now();\n    const deltaTime = (currentTime - lastUpdateTimeRef.current) / 1000; // Convert ms to seconds\n    lastUpdateTimeRef.current = currentTime;\n\n    // Apply speed multiplier to deltaTime\n    const adjustedDeltaTime = deltaTime * simulationSpeed;\n\n    // Skip if delta time is too large (e.g., browser tab was inactive)\n    if (adjustedDeltaTime > 5) return;\n    setVessels(prevVessels => {\n      return prevVessels.map(vessel => {\n        // Skip stationary vessels\n        if (vessel.speed === 0) return vessel;\n\n        // Special handling for drones - higher altitude allows more direct movement\n        if (vessel.type === 'drone') {\n          // Ensure drones always have at least a minimum speed\n          const droneSpeed = Math.max(5, vessel.speed);\n\n          // Convert knots to degrees per second - drones can move faster over land\n          const droneLatAdjustment = Math.cos(vessel.position[1] * Math.PI / 180);\n          const droneLngChange = droneSpeed * 0.0003 * adjustedDeltaTime / droneLatAdjustment;\n          const droneLatChange = droneSpeed * 0.0003 * adjustedDeltaTime;\n\n          // Calculate new position based on heading\n          const droneHeadingRad = vessel.heading * Math.PI / 180;\n          const droneNewLng = vessel.position[0] + droneLngChange * Math.sin(droneHeadingRad);\n          const droneNewLat = vessel.position[1] + droneLatChange * Math.cos(droneHeadingRad);\n\n          // Drones have different movement patterns - they patrol or move with purpose\n          let newHeading = vessel.heading;\n\n          // Drones should change heading more frequently to avoid getting stuck\n          if (Math.random() < 0.08 * adjustedDeltaTime) {\n            // Drones make sharper turns (up to +/- 45 degrees)\n            newHeading = (vessel.heading + (Math.random() * 90 - 45)) % 360;\n            if (newHeading < 0) newHeading += 360;\n          }\n\n          // Check if drone is going too far from Baltic Sea - if so, turn back\n          const isTooFarNorth = droneNewLat > 65.0;\n          const isTooFarSouth = droneNewLat < 54.0;\n          const isTooFarEast = droneNewLng > 30.0;\n          const isTooFarWest = droneNewLng < 10.0;\n\n          // Define areas to avoid (major land masses)\n          const avoidAreas = [\n          // Sweden mainland\n          {\n            minLat: 55.3,\n            maxLat: 63.0,\n            minLng: 11.5,\n            maxLng: 17.0\n          },\n          // Finland mainland\n          {\n            minLat: 60.0,\n            maxLat: 65.5,\n            minLng: 21.0,\n            maxLng: 30.0\n          },\n          // Estonia/Latvia/Lithuania mainland\n          {\n            minLat: 56.0,\n            maxLat: 59.5,\n            minLng: 23.0,\n            maxLng: 28.0\n          },\n          // Poland mainland\n          {\n            minLat: 53.5,\n            maxLat: 54.8,\n            minLng: 14.5,\n            maxLng: 19.5\n          },\n          // Denmark mainland\n          {\n            minLat: 54.5,\n            maxLat: 57.8,\n            minLng: 8.0,\n            maxLng: 12.5\n          }];\n\n          // Check if drone is over major land area\n          let isOverLand = false;\n          for (const area of avoidAreas) {\n            if (droneNewLat >= area.minLat && droneNewLat <= area.maxLat && droneNewLng >= area.minLng && droneNewLng <= area.maxLng) {\n              isOverLand = true;\n              break;\n            }\n          }\n          if (isTooFarNorth || isTooFarSouth || isTooFarEast || isTooFarWest || isOverLand) {\n            // Calculate heading toward Baltic Sea center\n            const centerLat = 58.0;\n            const centerLng = 19.0;\n            newHeading = Math.atan2(centerLng - vessel.position[0], centerLat - vessel.position[1]) * 180 / Math.PI;\n            if (newHeading < 0) newHeading += 360;\n\n            // Add randomness to avoid getting stuck in a pattern\n            newHeading = (newHeading + (Math.random() * 40 - 20)) % 360;\n            if (newHeading < 0) newHeading += 360;\n\n            // Make a more significant course correction if over land or outside boundaries\n            return {\n              ...vessel,\n              heading: newHeading,\n              speed: Math.max(10, vessel.speed) // Ensure drones have good speed to escape land\n            };\n          }\n\n          // Ensure drones stay roughly within Baltic Sea region\n          return {\n            ...vessel,\n            position: [droneNewLng, droneNewLat],\n            heading: newHeading,\n            speed: droneSpeed // Maintain the minimum speed requirement\n          };\n        }\n\n        // Regular vessel movement (non-drone) - original code\n        // Convert knots to degrees per second\n        // 1 knot ≈ 0.0003 degrees of longitude at the equator per second\n        // Adjust for latitude (narrower longitude degrees at higher latitudes)\n        const latitudeAdjustment = Math.cos(vessel.position[1] * Math.PI / 180);\n        const longitudeChange = vessel.speed * 0.0003 * adjustedDeltaTime / latitudeAdjustment;\n        const latitudeChange = vessel.speed * 0.0003 * adjustedDeltaTime;\n\n        // Calculate new position based on heading\n        const headingRad = vessel.heading * Math.PI / 180;\n        const newLng = vessel.position[0] + longitudeChange * Math.sin(headingRad);\n        const newLat = vessel.position[1] + latitudeChange * Math.cos(headingRad);\n\n        // Enhanced boundary checking to keep vessels within the actual Baltic Sea water\n        if (!isInBalticSeaWaters(newLat, newLng)) {\n          // If would move onto land or out of bounds, adjust heading to turn back toward deeper water\n          // Use a more detailed approach to find the right direction\n\n          // Try finding a better direction by checking multiple angles\n          let bestHeading = vessel.heading;\n          let foundBetterDirection = false;\n\n          // Check 8 directions around to find waters\n          for (let angleOffset = 0; angleOffset < 360; angleOffset += 45) {\n            const testHeading = (vessel.heading + angleOffset) % 360;\n            const testRad = testHeading * Math.PI / 180;\n\n            // Check a position further out in this direction\n            const testLng = vessel.position[0] + longitudeChange * 5 * Math.sin(testRad);\n            const testLat = vessel.position[1] + latitudeChange * 5 * Math.cos(testRad);\n            if (isInBalticSeaWaters(testLat, testLng)) {\n              bestHeading = testHeading;\n              foundBetterDirection = true;\n              break;\n            }\n          }\n\n          // If no good direction found, head toward the Baltic center\n          if (!foundBetterDirection) {\n            const centerLat = 58.5; // More centered in the main Baltic basin\n            const centerLng = 20; // Adjusted to be in deeper waters\n            const angleToCenter = Math.atan2(centerLng - vessel.position[0], centerLat - vessel.position[1]) * 180 / Math.PI;\n\n            // Turn gradually toward the center\n            const headingDiff = (angleToCenter - vessel.heading + 540) % 360 - 180;\n            bestHeading = (vessel.heading + Math.sign(headingDiff) * 45) % 360;\n            if (bestHeading < 0) bestHeading += 360;\n          }\n\n          // Slow down near boundaries\n          const reducedSpeed = Math.max(1, vessel.speed * 0.5);\n          return {\n            ...vessel,\n            heading: bestHeading,\n            speed: reducedSpeed // Temporarily reduce speed when changing course\n          };\n        }\n\n        // For military and submarine vessels, randomly change heading occasionally\n        let newHeading = vessel.heading;\n        const originalSpeed = vessel.speed;\n        let newSpeed = originalSpeed;\n        if ((vessel.type === 'military' || vessel.type === 'submarine') && Math.random() < 0.01 * adjustedDeltaTime) {\n          // Change heading by up to +/- 30 degrees\n          newHeading = (vessel.heading + (Math.random() * 60 - 30)) % 360;\n          if (newHeading < 0) newHeading += 360;\n\n          // Military vessels might change speed during maneuvers\n          if (Math.random() < 0.3) {\n            const speedFactor = 0.7 + Math.random() * 0.6; // 70-130% of current speed\n            newSpeed = Math.max(1, Math.min(30, originalSpeed * speedFactor));\n          }\n        }\n        // Smaller random heading changes for other vessels to simulate realistic movement\n        else if (Math.random() < 0.005 * adjustedDeltaTime) {\n          // Change heading by up to +/- 10 degrees\n          newHeading = (vessel.heading + (Math.random() * 20 - 10)) % 360;\n          if (newHeading < 0) newHeading += 360;\n        }\n\n        // Final position check - ensure vessel doesn't go on land even after all other checks\n        const finalLng = newLng;\n        const finalLat = newLat;\n\n        // If vessel would end up on land, don't update position but keep the heading change\n        if (!isInBalticSeaWaters(finalLat, finalLng)) {\n          return {\n            ...vessel,\n            heading: newHeading,\n            speed: newSpeed\n          };\n        }\n\n        // Special check for Swedish coastline (which seems particularly problematic)\n        // These bounds roughly define the Swedish coastline area\n        const isNearSwedishCoast = finalLat >= 55.0 && finalLat <= 60.0 && finalLng >= 12.0 && finalLng <= 19.0 && (\n        // Distance to coast is small\n        finalLng >= 12.0 && finalLng <= 14.0 ||\n        // Western coast\n        finalLat >= 58.0 && finalLat <= 60.0 && finalLng >= 16.5 && finalLng <= 19.0 ||\n        // Stockholm area\n        finalLat >= 56.0 && finalLat <= 58.0 && finalLng >= 15.5 && finalLng <= 17.0) // Eastern coast\n        ;\n\n        // For vessels near Swedish coast, make extra check by testing multiple points\n        if (isNearSwedishCoast && Math.random() < 0.7) {\n          // 70% extra caution near Swedish coast\n          const currentPos = vessel.position;\n          const distance = Math.sqrt(Math.pow(finalLng - currentPos[0], 2) + Math.pow(finalLat - currentPos[1], 2));\n\n          // If making a significant move near Swedish coast, stay put instead of risking land\n          if (distance > 0.02) {\n            return {\n              ...vessel,\n              heading: newHeading,\n              speed: Math.max(1, newSpeed * 0.5) // Reduce speed near coast\n            };\n          }\n        }\n        return {\n          ...vessel,\n          position: [finalLng, finalLat],\n          heading: newHeading,\n          speed: newSpeed\n        };\n      });\n    });\n\n    // Request next animation frame\n    animationFrameRef.current = requestAnimationFrame(updateVesselPositions);\n  }, [simulationEnabled, simulationSpeed]);\n\n  // Function to check if a point is in Baltic Sea waters\n  // This is a more precise check than just the bounding box\n  const isInBalticSeaWaters = useCallback((lat, lng) => {\n    // First check overall bounds\n    if (lat < 54.0 || lat > 66.0 || lng < 9.0 || lng > 30.0) {\n      return false;\n    }\n\n    // Define areas that are land (to be avoided)\n    // Format: [south, north, west, east]\n    const landAreas = [\n    // Southern Sweden - expanded and more precise with additional coverage\n    [55.0, 59.5, 12.5, 16.0],\n    // Southern Sweden - additional western coast coverage\n    [56.0, 58.8, 11.5, 13.0],\n    // Stockholm archipelago area - more precise\n    [59.0, 60.0, 17.0, 19.2],\n    // Sweden central eastern coast - additional coverage\n    [58.0, 59.5, 16.0, 17.8],\n    // Northern Sweden - Gulf of Bothnia coastline\n    [60.0, 63.0, 17.0, 19.5],\n    // Northern Sweden - upper Gulf of Bothnia\n    [63.0, 65.5, 17.0, 22.0],\n    // Northern Sweden - northwestern area\n    [64.0, 66.0, 15.0, 17.0],\n    // Finland - expanded\n    [59.7, 65.5, 21.0, 30.0],\n    // Estonia - expanded\n    [57.5, 59.7, 22.8, 28.5],\n    // Latvia/Lithuania coast - expanded\n    [55.5, 57.5, 20.8, 28.0],\n    // Poland inland - expanded\n    [54.0, 55.5, 14.8, 19.8],\n    // Germany/Denmark inland - expanded\n    [54.0, 56.5, 9.0, 12.0],\n    // Gotland - more precise\n    [56.8, 58.0, 18.0, 19.2],\n    // Åland Islands - expanded\n    [59.7, 60.5, 19.3, 21.3],\n    // Bornholm - more precise\n    [54.9, 55.3, 14.7, 15.2],\n    // Öland\n    [56.1, 57.5, 16.3, 17.1],\n    // Rügen\n    [54.2, 54.7, 13.0, 13.6],\n    // Saaremaa\n    [57.8, 58.7, 21.7, 23.0],\n    // Hiiumaa\n    [58.7, 59.1, 22.0, 23.0],\n    // Inland lakes in Finland\n    [61.0, 63.0, 25.0, 30.0],\n    // Kaliningrad and surrounding area\n    [54.3, 55.3, 19.6, 22.5]];\n\n    // Define key shipping channels and deep waters (preferred areas)\n    // Format: [south, north, west, east, weight]\n    const shippingChannels = [\n    // Main Baltic basin\n    [55.5, 59.0, 16.5, 22.0, 10],\n    // Gulf of Finland shipping lane\n    [59.3, 60.2, 22.5, 28.0, 8],\n    // Approach to Stockholm\n    [58.7, 59.5, 17.5, 19.5, 6],\n    // Approach to Riga\n    [56.8, 58.0, 22.5, 24.5, 6],\n    // Approach to Helsinki/Tallinn\n    [59.2, 59.9, 24.0, 25.5, 8],\n    // Western Baltic shipping lane\n    [54.5, 56.0, 12.0, 15.0, 8],\n    // Kattegat\n    [56.0, 57.5, 10.5, 12.0, 6],\n    // Gulf of Bothnia\n    [60.5, 63.5, 18.5, 21.5, 5],\n    // Central Baltic - expanded to cover more water\n    [56.0, 59.0, 17.5, 21.0, 10],\n    // Southern Baltic - expanded\n    [54.5, 56.5, 15.0, 19.0, 8]];\n\n    // Check if point is in a land area - more strict checking\n    for (const [south, north, west, east] of landAreas) {\n      if (lat >= south && lat <= north && lng >= west && lng <= east) {\n        // Further check for complex coastlines\n        // This is a very simplified approach - we add some randomness \n        // to prevent vessels from getting stuck at sharp boundary transitions\n\n        // If near the edge of a land area, there's a small chance to still consider it water\n        // This helps vessels navigate around complex coastlines without getting stuck\n        const distanceFromEdge = Math.min(Math.abs(lat - south), Math.abs(lat - north), Math.abs(lng - west), Math.abs(lng - east));\n\n        // Very close to edge - might be a complex coastline\n        if (distanceFromEdge < 0.1) {\n          // 15% chance to consider it water if very close to edge (reduced from 20%)\n          // This randomness helps prevent getting stuck at boundaries\n          return Math.random() < 0.15;\n        }\n        return false; // It's in a land area\n      }\n    }\n\n    // Check if in a preferred shipping channel\n    for (const [south, north, west, east] of shippingChannels) {\n      if (lat >= south && lat <= north && lng >= west && lng <= east) {\n        return true; // In a shipping channel - definitely good\n      }\n    }\n\n    // For areas not explicitly defined, use the following general rules\n\n    // Avoid shallow coastal waters (simplified approach)\n    // These are general buffer zones around landmasses\n    const coastalBuffers = [\n    // Swedish coast buffer - expanded\n    [55.0, 59.5, 14.8, 16.5],\n    // Swedish west coast buffer\n    [56.0, 58.8, 11.0, 12.2],\n    // Swedish eastern coastline\n    [58.0, 59.5, 16.0, 17.0],\n    // Northern Sweden - Gulf of Bothnia western coast\n    [60.0, 63.0, 19.0, 20.0],\n    // Northern Sweden - upper coast\n    [63.0, 65.5, 19.5, 22.5],\n    // Finnish coast buffer\n    [59.7, 65.5, 20.0, 21.5],\n    // Estonian coast buffer\n    [57.5, 59.7, 22.0, 23.0],\n    // Latvian/Lithuanian coast buffer\n    [55.5, 57.5, 19.5, 21.5],\n    // Polish coast buffer\n    [54.0, 55.5, 14.0, 15.5],\n    // German/Danish coast buffer\n    [54.0, 56.0, 12.0, 13.0]];\n\n    // Check coastal buffers with higher probability of rejection\n    for (const [south, north, west, east] of coastalBuffers) {\n      if (lat >= south && lat <= north && lng >= west && lng <= east) {\n        // 80% chance to consider coastal buffers as land (increased from 70%)\n        return Math.random() > 0.8;\n      }\n    }\n\n    // Special check for Swedish coastal waters - these are problematic\n    const swedishProblemAreas = [\n    // Stockholm archipelago approaches\n    [58.8, 59.5, 17.5, 19.0],\n    // Swedish eastern coastline near Öland\n    [56.5, 57.5, 16.0, 16.8],\n    // Swedish western approaches\n    [57.0, 58.5, 11.2, 12.5],\n    // Northern Sweden Gulf of Bothnia western coast\n    [60.0, 63.0, 18.5, 20.0],\n    // Northern Sweden - northeastern area\n    [63.0, 65.0, 19.0, 22.0]];\n\n    // Higher rejection rate specifically for Swedish coastal waters\n    for (const [south, north, west, east] of swedishProblemAreas) {\n      if (lat >= south && lat <= north && lng >= west && lng <= east) {\n        // 90% chance to reject - very strict for Swedish waters\n        return Math.random() > 0.9;\n      }\n    }\n\n    // Additional check for enclosed bays and lakes\n    // Define problematic enclosed areas (small bays, inlets, etc.)\n    const problematicAreas = [\n    // Finnish inland lake areas \n    [60.7, 62.5, 23.0, 29.0],\n    // Swedish lake areas\n    [58.5, 59.5, 14.0, 16.0],\n    // Various small bays and inlets\n    [57.2, 57.6, 16.8, 17.2],\n    // Near Öland\n    [60.0, 60.2, 24.8, 25.2],\n    // Helsinki area\n    [58.8, 59.0, 17.5, 18.0],\n    // Stockholm archipelago\n    [58.1, 58.5, 11.5, 12.0] // Skagerrak entrance\n    ];\n\n    // Higher chance to reject problematic areas\n    for (const [south, north, west, east] of problematicAreas) {\n      if (lat >= south && lat <= north && lng >= west && lng <= east) {\n        // 60% chance to reject\n        return Math.random() > 0.6;\n      }\n    }\n\n    // Explicitly define major lakes to avoid them completely\n    const majorLakes = [\n    // Swedish lakes\n    [58.0, 59.3, 12.3, 14.0],\n    // Vänern\n    [57.7, 58.7, 14.0, 14.8],\n    // Vättern\n    [59.1, 59.7, 15.8, 18.0],\n    // Mälaren\n    [56.9, 57.5, 13.4, 14.8],\n    // Southern Swedish lakes\n    [56.8, 57.2, 14.4, 15.2],\n    // Åsnen and nearby lakes\n\n    // Finnish lakes\n    [61.0, 62.3, 24.5, 26.4],\n    // Päijänne and nearby\n    [61.3, 63.1, 26.5, 29.0],\n    // Saimaa system\n    [62.0, 63.7, 23.0, 24.5],\n    // Western Finnish lakes\n    [61.5, 62.2, 28.5, 29.8],\n    // Eastern Finnish lakes\n    [60.3, 60.8, 23.5, 25.0],\n    // Southern Finnish lakes\n\n    // Russian lakes\n    [60.0, 61.8, 29.2, 32.0],\n    // Ladoga\n    [60.0, 60.8, 27.4, 29.0],\n    // Eastern Gulf of Finland lakes\n    [57.8, 59.0, 26.5, 28.5],\n    // Peipus\n\n    // Other inland waters\n    [54.1, 54.7, 17.8, 18.7],\n    // Polish lakes\n    [53.5, 54.3, 12.0, 14.0],\n    // German lakes\n    [53.8, 55.0, 10.2, 11.0],\n    // Danish inland waters\n    [55.5, 56.5, 9.5, 10.2] // Limfjord area\n    ];\n\n    // Strict rejection of major lakes - almost never allow vessels here\n    for (const [south, north, west, east] of majorLakes) {\n      if (lat >= south && lat <= north && lng >= west && lng <= east) {\n        // 99.5% chance to consider these as land - essentially never allow vessels in lakes\n        return Math.random() > 0.995;\n      }\n    }\n\n    // Known safe water zones - replaced with enhanced version\n    const safeWaterZones = [\n    // Central Baltic open water\n    [56.5, 58.5, 18.0, 21.0],\n    // Eastern Baltic open water\n    [57.0, 59.0, 20.0, 22.0],\n    // Western Baltic open water\n    [55.0, 56.5, 13.0, 15.0],\n    // Southern Baltic deep water\n    [54.5, 55.5, 16.0, 18.5],\n    // Gulf of Finland central channel\n    [59.4, 60.0, 23.0, 27.0],\n    // Gulf of Bothnia southern part - central channel\n    [60.5, 62.5, 20.0, 21.0],\n    // Gulf of Bothnia central part - central channel\n    [62.5, 64.0, 20.2, 21.2],\n    // Gulf of Bothnia northern part - central channel\n    [64.0, 65.0, 21.5, 22.5]];\n\n    // If in a known safe water zone, it's definitely water\n    for (const [south, north, west, east] of safeWaterZones) {\n      if (lat >= south && lat <= north && lng >= west && lng <= east) {\n        return true;\n      }\n    }\n\n    // Special check for northern Gulf of Bothnia - narrower channel\n    if (lat >= 63.0 && lat <= 65.5 && lng >= 20.0 && lng <= 22.0) {\n      // In the narrower northern part of Gulf of Bothnia, be more restrictive\n      // Only consider central waters as safe (within 0.3° from center line)\n      const centerLng = 21.0;\n      const distanceFromCenter = Math.abs(lng - centerLng);\n      if (distanceFromCenter < 0.3) {\n        return true; // Central channel\n      } else if (distanceFromCenter < 0.5) {\n        // In the transition zone, random chance to allow\n        return Math.random() > 0.7;\n      } else {\n        // Too close to shore\n        return Math.random() > 0.95; // Very small chance to consider as water\n      }\n    }\n\n    // If we got here, it's probably in open water\n    return true;\n  }, []);\n\n  // Start/stop vessel position updates when simulation state changes\n  useEffect(() => {\n    if (simulationEnabled) {\n      lastUpdateTimeRef.current = Date.now();\n      animationFrameRef.current = requestAnimationFrame(updateVesselPositions);\n    } else if (animationFrameRef.current) {\n      cancelAnimationFrame(animationFrameRef.current);\n    }\n\n    // Cleanup when component unmounts\n    return () => {\n      if (animationFrameRef.current) {\n        cancelAnimationFrame(animationFrameRef.current);\n      }\n    };\n  }, [simulationEnabled, updateVesselPositions]);\n\n  // Function to check if an item is in the current map bounds\n  const isInMapBounds = useCallback((lat, lng) => {\n    if (!mapBounds) return true; // If no bounds yet, show everything\n\n    // Add buffer to avoid popping at edges\n    const buffer = 0.5; // Buffer in degrees\n\n    return lat >= mapBounds.south - buffer && lat <= mapBounds.north + buffer && lng >= mapBounds.west - buffer && lng <= mapBounds.east + buffer;\n  }, [mapBounds]);\n\n  // Function to render vessels based on the display mode and zoom level\n  const renderVessels = useCallback(() => {\n    // Use zoom level to determine detail level\n    const isHighDetail = currentZoom >= 8;\n    const isMediumDetail = currentZoom >= 6 && currentZoom < 8;\n    const isLowDetail = currentZoom < 6;\n\n    // Filter vessels based on current filters and map bounds\n    const filteredVessels = vessels.filter(v => {\n      // Apply user filters - if 'all' is selected or any specific filter matches\n      let matchesFilter = filters.all;\n      if (!matchesFilter) {\n        if (filters.commercial && v.type === 'commercial') matchesFilter = true;\n        if (filters.military && v.type === 'military') matchesFilter = true;\n        if (filters.submarine && v.type === 'submarine') matchesFilter = true;\n        if (filters.drone && v.type === 'drone') matchesFilter = true;\n        // Show Russian ships except submarines and drones when \"Russian Ships\" is toggled\n        if (filters.russian && v.isRussian && v.type !== 'submarine' && v.type !== 'drone') matchesFilter = true;\n      }\n\n      // Then check if in current map bounds\n      const inBounds = isInMapBounds(v.position[1], v.position[0]);\n      return matchesFilter && inBounds;\n    });\n\n    // Create vessel markers\n    return filteredVessels.map(vessel => {\n      // Convert vessel position to LatLng\n      const position = {\n        lat: vessel.position[1],\n        lng: vessel.position[0]\n      };\n      const isSelected = (selectedVessel === null || selectedVessel === void 0 ? void 0 : selectedVessel.id) === vessel.id;\n\n      // Define icon and visualization based on display mode and zoom level\n      let iconProps = {};\n      let circleProps = {\n        radius: 0\n      };\n      switch (displayMode) {\n        case 'radar':\n          // Radar mode - shows vessels as dots with direction indicators\n          const radarOpacity = vessel.type === 'submarine' && vessel.isSubmerged ? 0.1 + vessel.detectionProbability.radar * 0.2 : 0.3 + vessel.detectionProbability.radar * 0.7;\n          const radarScale = vessel.type === 'submarine' ? vessel.isSubmerged ? 0.5 : 0.8 : Math.max(0.6, Math.min(1.2, 0.6 + vessel.length / 300));\n\n          // Special color for drones - bright red\n          const radarColor = vessel.type === 'drone' ? 'rgb(255, 50, 50)' : vessel.type === 'submarine' ? 'rgb(255, 0, 0)' : vessel.isRussian ? 'rgb(231, 76, 60)' : 'rgb(52, 152, 219)';\n\n          // Special handling for Russian submarines with oval shape and double size\n          if (vessel.type === 'submarine' && vessel.isRussian) {\n            // Reduce the size to a third of the previous size\n            iconProps = {\n              path: \"M -5,0 a 5,2.5 0 1,0 10,0 a 5,2.5 0 1,0 -10,0\",\n              // Oval shape (reduced to 1/3 size)\n              fillColor: 'rgb(255, 0, 0)',\n              fillOpacity: 0.8,\n              strokeColor: '#FFFFFF',\n              strokeWeight: 1,\n              rotation: vessel.speed > 1 ? vessel.heading : 0,\n              // Only rotate if speed > 1 knot\n              scale: 1,\n              anchor: new window.google.maps.Point(0, 0)\n            };\n          } else if (isLowDetail) {\n            // Simple dots for low detail level\n            if (vessel.type === 'drone') {\n              // Special drone icon at low zoom - rhombus shape\n              iconProps = {\n                path: 'M 0,-4 8,0 0,10 -8,0 z',\n                // Rhombus shape (stretched diamond)\n                fillColor: radarColor,\n                fillOpacity: 0.9,\n                // More visible\n                strokeColor: '#FFFFFF',\n                strokeWeight: 1,\n                scale: 0.8,\n                rotation: vessel.heading,\n                anchor: new window.google.maps.Point(0, 0)\n              };\n            } else {\n              // Determine scale - increase Russian ships and submarines by 50%\n              let baseScale = vessel.type === 'submarine' ? 3 : 2;\n              // Apply 50% size increase for Russian ships and submarines\n              if (vessel.isRussian || vessel.type === 'submarine') {\n                baseScale *= 1.5;\n              }\n              iconProps = {\n                path: window.google.maps.SymbolPath.CIRCLE,\n                fillColor: radarColor,\n                fillOpacity: radarOpacity,\n                strokeColor: '#FFFFFF',\n                strokeWeight: 1,\n                scale: baseScale,\n                anchor: new window.google.maps.Point(0, 0)\n              };\n            }\n          } else if (isMediumDetail) {\n            // Simplified arrow for medium detail\n            if (vessel.type === 'drone') {\n              // Custom drone icon for medium zoom\n              iconProps = {\n                path: 'M 0,-5 10,0 0,12 -10,0 z',\n                // Rhombus shape (stretched diamond)\n                fillColor: radarColor,\n                fillOpacity: 0.9,\n                strokeColor: '#FFFFFF',\n                strokeWeight: 1,\n                rotation: vessel.heading,\n                scale: 0.9,\n                anchor: new window.google.maps.Point(0, 0)\n              };\n            } else {\n              // Increase arrow size for Russian ships and submarines by 50%\n              let sizeMultiplier = vessel.isRussian || vessel.type === 'submarine' ? 1.5 : 1.0;\n              const arrowSize = radarScale * 4 * sizeMultiplier;\n              iconProps = {\n                path: `M 0,-${arrowSize} L ${arrowSize / 2},${arrowSize} L -${arrowSize / 2},${arrowSize} Z`,\n                // Simpler arrow shape\n                fillColor: radarColor,\n                fillOpacity: radarOpacity,\n                strokeColor: '#FFFFFF',\n                strokeWeight: 1,\n                rotation: vessel.speed > 1 ? vessel.heading : 0,\n                // Only rotate if speed > 1 knot\n                scale: 1,\n                anchor: new window.google.maps.Point(0, 0)\n              };\n            }\n          } else {\n            // Full detail for high zoom levels\n            if (vessel.type === 'drone') {\n              // Detailed drone icon for high zoom\n              iconProps = {\n                path: 'M 0,-6 12,0 0,15 -12,0 z',\n                // Rhombus shape (stretched diamond)\n                fillColor: radarColor,\n                fillOpacity: 0.9,\n                strokeColor: '#FFFFFF',\n                strokeWeight: 1.5,\n                rotation: vessel.heading,\n                scale: 1,\n                anchor: new window.google.maps.Point(0, 0)\n              };\n\n              // Add a small \"drone trail\" circle for high detail\n              const trailRadius = 300; // 300m trail\n              circleProps = {\n                radius: trailRadius,\n                options: {\n                  fillColor: radarColor,\n                  fillOpacity: 0.1,\n                  strokeColor: radarColor,\n                  strokeOpacity: 0.3,\n                  strokeWeight: 1\n                }\n              };\n            } else {\n              // Increase arrow size for Russian ships and submarines by 50%\n              let sizeMultiplier = vessel.isRussian || vessel.type === 'submarine' ? 1.5 : 1.0;\n              const arrowSize = radarScale * 5 * sizeMultiplier;\n              iconProps = {\n                path: `M 0,-${arrowSize} L ${arrowSize / 2},${arrowSize} L 0,${arrowSize / 2} L -${arrowSize / 2},${arrowSize} Z`,\n                // Arrow shape\n                fillColor: radarColor,\n                fillOpacity: radarOpacity,\n                strokeColor: '#FFFFFF',\n                strokeWeight: 1,\n                rotation: vessel.speed > 1 ? vessel.heading : 0,\n                // Only rotate if speed > 1 knot\n                scale: 1,\n                anchor: new window.google.maps.Point(0, 0)\n              };\n            }\n          }\n          break;\n        default:\n          // Default to radar mode with arrow icon\n          const defaultSize = vessel.type === 'submarine' || vessel.isRussian ? 7.5 : 5; // 50% increase for Russian ships and submarines\n          iconProps = {\n            path: `M 0,-${defaultSize} L ${defaultSize / 2},${defaultSize} L 0,${defaultSize / 2} L -${defaultSize / 2},${defaultSize} Z`,\n            // Arrow shape\n            fillColor: '#FFFFFF',\n            fillOpacity: 0.8,\n            strokeColor: '#000000',\n            strokeWeight: 1,\n            rotation: vessel.speed > 1 ? vessel.heading : 0,\n            // Only rotate if speed > 1 knot\n            scale: 1,\n            anchor: new window.google.maps.Point(0, 0)\n          };\n          break;\n      }\n      return /*#__PURE__*/_jsxDEV(React.Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(MemoizedMarker, {\n          position: position,\n          icon: iconProps,\n          onClick: e => {\n            // Prevent event propagation to the map\n            if (e && e.domEvent) {\n              e.domEvent.stopPropagation();\n            }\n\n            // Don't immediately close the tooltip if we're clicking on a vessel\n            e && e.stop && e.stop();\n\n            // Log complete vessel data for debugging\n            console.log(\"Vessel clicked - Raw data:\", JSON.stringify(vessel));\n\n            // Create a complete copy of the vessel to ensure React detects the state change\n            const vesselCopy = JSON.parse(JSON.stringify(vessel));\n\n            // Immediately set selected vessel without delay\n            setSelectedVessel(vesselCopy);\n          },\n          zIndex: isSelected ? 1000 : vessel.type === 'submarine' ? 500 : 100\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1397,\n          columnNumber: 11\n        }, this), circleProps.radius > 0 && /*#__PURE__*/_jsxDEV(MemoizedCircle, {\n          center: position,\n          radius: circleProps.radius,\n          options: circleProps.options\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1423,\n          columnNumber: 13\n        }, this), vessel.type === 'submarine' && vessel.isSubmerged && isHighDetail && /*#__PURE__*/_jsxDEV(MemoizedMarker, {\n          position: {\n            lat: position.lat + 0.03,\n            lng: position.lng + 0.03\n          },\n          label: {\n            text: `${vessel.depth}m`,\n            color: '#FFFFFF',\n            fontSize: '8px',\n            fontWeight: 'bold'\n          },\n          icon: {\n            path: 0,\n            // CIRCLE\n            scale: 0,\n            fillOpacity: 0,\n            strokeOpacity: 0\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1431,\n          columnNumber: 13\n        }, this)]\n      }, vessel.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1396,\n        columnNumber: 9\n      }, this);\n    });\n  }, [vessels, filters, isInMapBounds, displayMode, currentZoom, selectedVessel]);\n\n  // Baltic Sea wind farm data - expanded with EMODnet data\n  const windFarmsData = [\n  // Denmark\n  {\n    name: \"Kriegers Flak\",\n    country: \"Denmark\",\n    capacity: 604,\n    lat: 54.9833,\n    lng: 13.0333,\n    status: \"operational\",\n    turbines: 72,\n    area: 132,\n    // km²\n    areaPoints: [{\n      lat: 54.9633,\n      lng: 13.0133\n    }, {\n      lat: 54.9733,\n      lng: 13.0533\n    }, {\n      lat: 55.0033,\n      lng: 13.0533\n    }, {\n      lat: 55.0033,\n      lng: 13.0133\n    }, {\n      lat: 54.9833,\n      lng: 12.9933\n    }, {\n      lat: 54.9633,\n      lng: 13.0133\n    }]\n  }, {\n    name: \"Middelgrunden\",\n    country: \"Denmark\",\n    capacity: 40,\n    lat: 55.6853,\n    lng: 12.6913,\n    status: \"operational\",\n    turbines: 20,\n    area: 4,\n    // km²\n    areaPoints: [{\n      lat: 55.6903,\n      lng: 12.6813\n    }, {\n      lat: 55.6903,\n      lng: 12.7013\n    }, {\n      lat: 55.6803,\n      lng: 12.7013\n    }, {\n      lat: 55.6803,\n      lng: 12.6813\n    }, {\n      lat: 55.6903,\n      lng: 12.6813\n    }]\n  }, {\n    name: \"Rødsand I\",\n    country: \"Denmark\",\n    capacity: 166,\n    lat: 54.5508,\n    lng: 11.7083,\n    status: \"operational\",\n    turbines: 72,\n    area: 35,\n    // km²\n    areaPoints: [{\n      lat: 54.5408,\n      lng: 11.6883\n    }, {\n      lat: 54.5408,\n      lng: 11.7283\n    }, {\n      lat: 54.5608,\n      lng: 11.7283\n    }, {\n      lat: 54.5608,\n      lng: 11.6883\n    }, {\n      lat: 54.5408,\n      lng: 11.6883\n    }]\n  }, {\n    name: \"Rødsand II\",\n    country: \"Denmark\",\n    capacity: 207,\n    lat: 54.5580,\n    lng: 11.6170,\n    status: \"operational\",\n    turbines: 90,\n    area: 40\n  }, {\n    name: \"Anholt\",\n    country: \"Denmark\",\n    capacity: 400,\n    lat: 56.6000,\n    lng: 11.2097,\n    status: \"operational\",\n    turbines: 111,\n    area: 88\n  }, {\n    name: \"Sprogø\",\n    country: \"Denmark\",\n    capacity: 21,\n    lat: 55.3414,\n    lng: 10.9767,\n    status: \"operational\",\n    turbines: 7,\n    area: 6\n  }, {\n    name: \"Samsø\",\n    country: \"Denmark\",\n    capacity: 23,\n    lat: 55.7194,\n    lng: 10.5639,\n    status: \"operational\",\n    turbines: 10,\n    area: 5\n  },\n  // Sweden\n  {\n    name: \"Karehamn\",\n    country: \"Sweden\",\n    capacity: 48,\n    lat: 56.9750,\n    lng: 17.0000,\n    status: \"operational\",\n    turbines: 16,\n    area: 8\n  }, {\n    name: \"Lillgrund\",\n    country: \"Sweden\",\n    capacity: 110,\n    lat: 55.5000,\n    lng: 12.7667,\n    status: \"operational\",\n    turbines: 48,\n    area: 6\n  }, {\n    name: \"Södra Midsjöbanken\",\n    country: \"Sweden\",\n    capacity: 1500,\n    lat: 55.7500,\n    lng: 17.4000,\n    status: \"planned\",\n    turbines: 170,\n    area: 265\n  }, {\n    name: \"Storgrundet\",\n    country: \"Sweden\",\n    capacity: 265,\n    lat: 61.1532,\n    lng: 17.4376,\n    status: \"planned\",\n    turbines: 70,\n    area: 57\n  }, {\n    name: \"Utgrunden\",\n    country: \"Sweden\",\n    capacity: 10.5,\n    lat: 56.3350,\n    lng: 16.2860,\n    status: \"operational\",\n    turbines: 7,\n    area: 2\n  }, {\n    name: \"Bockstigen\",\n    country: \"Sweden\",\n    capacity: 2.5,\n    lat: 57.0389,\n    lng: 18.1378,\n    status: \"operational\",\n    turbines: 5,\n    area: 1\n  },\n  // Germany\n  {\n    name: \"EnBW Baltic 1\",\n    country: \"Germany\",\n    capacity: 48,\n    lat: 54.6080,\n    lng: 12.6520,\n    status: \"operational\",\n    turbines: 21,\n    area: 7\n  }, {\n    name: \"EnBW Baltic 2\",\n    country: \"Germany\",\n    capacity: 288,\n    lat: 54.9900,\n    lng: 13.1666,\n    status: \"operational\",\n    turbines: 80,\n    area: 27\n  }, {\n    name: \"Arkona\",\n    country: \"Germany\",\n    capacity: 385,\n    lat: 54.7833,\n    lng: 14.1000,\n    status: \"operational\",\n    turbines: 60,\n    area: 39\n  }, {\n    name: \"Wikinger\",\n    country: \"Germany\",\n    capacity: 350,\n    lat: 54.8333,\n    lng: 14.0750,\n    status: \"operational\",\n    turbines: 70,\n    area: 34\n  }, {\n    name: \"Arcadis Ost 1\",\n    country: \"Germany\",\n    capacity: 257,\n    lat: 54.8333,\n    lng: 13.7500,\n    status: \"under construction\",\n    turbines: 27,\n    area: 30\n  }, {\n    name: \"Gennaker\",\n    country: \"Germany\",\n    capacity: 927,\n    lat: 54.5500,\n    lng: 12.2500,\n    status: \"planned\",\n    turbines: 103,\n    area: 176\n  }, {\n    name: \"Nordlicher Grund\",\n    country: \"Germany\",\n    capacity: 630,\n    lat: 54.9831,\n    lng: 6.3582,\n    status: \"planned\",\n    turbines: 64,\n    area: 57\n  }, {\n    name: \"Ostseeschatz\",\n    country: \"Germany\",\n    capacity: 372,\n    lat: 54.3660,\n    lng: 11.9165,\n    status: \"planned\",\n    turbines: 62,\n    area: 40\n  }, {\n    name: \"Baltic Eagle\",\n    country: \"Germany\",\n    capacity: 476,\n    lat: 54.7778,\n    lng: 13.9239,\n    status: \"under construction\",\n    turbines: 50,\n    area: 40\n  },\n  // Finland\n  {\n    name: \"Tahkoluoto\",\n    country: \"Finland\",\n    capacity: 42,\n    lat: 61.6330,\n    lng: 21.3830,\n    status: \"operational\",\n    turbines: 10,\n    area: 15\n  }, {\n    name: \"Ajos\",\n    country: \"Finland\",\n    capacity: 42,\n    lat: 65.7166,\n    lng: 24.5166,\n    status: \"operational\",\n    turbines: 13,\n    area: 10\n  }, {\n    name: \"Kemi Ajos I\",\n    country: \"Finland\",\n    capacity: 15,\n    lat: 65.6405,\n    lng: 24.5267,\n    status: \"operational\",\n    turbines: 5,\n    area: 6\n  }, {\n    name: \"Kemi Ajos II\",\n    country: \"Finland\",\n    capacity: 16,\n    lat: 65.6563,\n    lng: 24.5402,\n    status: \"operational\",\n    turbines: 3,\n    area: 4\n  }, {\n    name: \"Raahe\",\n    country: \"Finland\",\n    capacity: 44,\n    lat: 64.6500,\n    lng: 24.3500,\n    status: \"planned\",\n    turbines: 8,\n    area: 15\n  }, {\n    name: \"Korsnäs\",\n    country: \"Finland\",\n    capacity: 1300,\n    lat: 62.7500,\n    lng: 21.0500,\n    status: \"planned\",\n    turbines: 70,\n    area: 175\n  }, {\n    name: \"Siikajoki\",\n    country: \"Finland\",\n    capacity: 100,\n    lat: 64.8167,\n    lng: 24.6167,\n    status: \"planned\",\n    turbines: 20,\n    area: 25\n  },\n  // Poland\n  {\n    name: \"Baltic Power\",\n    country: \"Poland\",\n    capacity: 1200,\n    lat: 55.0000,\n    lng: 18.3330,\n    status: \"under construction\",\n    turbines: 76,\n    area: 131\n  }, {\n    name: \"FEW Baltic II\",\n    country: \"Poland\",\n    capacity: 350,\n    lat: 54.8000,\n    lng: 16.5000,\n    status: \"planned\",\n    turbines: 37,\n    area: 41\n  }, {\n    name: \"Baltica 1\",\n    country: \"Poland\",\n    capacity: 896,\n    lat: 55.2060,\n    lng: 17.1633,\n    status: \"planned\",\n    turbines: 64,\n    area: 108\n  }, {\n    name: \"Baltica 2\",\n    country: \"Poland\",\n    capacity: 1498,\n    lat: 55.3340,\n    lng: 16.8630,\n    status: \"planned\",\n    turbines: 107,\n    area: 190\n  }, {\n    name: \"Baltica 3\",\n    country: \"Poland\",\n    capacity: 1045,\n    lat: 55.3340,\n    lng: 16.7000,\n    status: \"planned\",\n    turbines: 95,\n    area: 131\n  }, {\n    name: \"MFW Bałtyk I\",\n    country: \"Poland\",\n    capacity: 1560,\n    lat: 55.2383,\n    lng: 17.4633,\n    status: \"planned\",\n    turbines: 100,\n    area: 128\n  }, {\n    name: \"MFW Bałtyk II\",\n    country: \"Poland\",\n    capacity: 720,\n    lat: 55.1233,\n    lng: 17.2467,\n    status: \"planned\",\n    turbines: 60,\n    area: 65\n  }, {\n    name: \"MFW Bałtyk III\",\n    country: \"Poland\",\n    capacity: 720,\n    lat: 55.0817,\n    lng: 17.0667,\n    status: \"planned\",\n    turbines: 60,\n    area: 80\n  },\n  // Estonia\n  {\n    name: \"Estonia Offshore 1\",\n    country: \"Estonia\",\n    capacity: 1000,\n    lat: 58.8000,\n    lng: 22.0000,\n    status: \"planned\",\n    turbines: 115,\n    area: 230,\n    // km²\n    areaPoints: [{\n      lat: 58.7800,\n      lng: 21.9600\n    }, {\n      lat: 58.7800,\n      lng: 22.0400\n    }, {\n      lat: 58.8200,\n      lng: 22.0400\n    }, {\n      lat: 58.8200,\n      lng: 21.9600\n    }, {\n      lat: 58.7800,\n      lng: 21.9600\n    }]\n  }, {\n    name: \"Liivi\",\n    country: \"Estonia\",\n    capacity: 1000,\n    lat: 57.8333,\n    lng: 23.5000,\n    status: \"planned\",\n    turbines: 100,\n    area: 160\n  }, {\n    name: \"Hiiumaa\",\n    country: \"Estonia\",\n    capacity: 700,\n    lat: 59.0833,\n    lng: 22.3833,\n    status: \"planned\",\n    turbines: 70,\n    area: 100\n  }, {\n    name: \"Saare-Liivi\",\n    country: \"Estonia\",\n    capacity: 600,\n    lat: 57.9500,\n    lng: 22.6833,\n    status: \"planned\",\n    turbines: 60,\n    area: 90\n  },\n  // Latvia\n  {\n    name: \"ELWIND\",\n    country: \"Latvia\",\n    capacity: 1000,\n    lat: 57.0830,\n    lng: 20.7500,\n    status: \"planned\",\n    turbines: 100,\n    area: 200\n  },\n  // Lithuania\n  {\n    name: \"Lithuanian OWF I\",\n    country: \"Lithuania\",\n    capacity: 700,\n    lat: 55.8330,\n    lng: 20.5000,\n    status: \"planned\",\n    turbines: 70,\n    area: 120\n  },\n  // Special projects\n  {\n    name: \"Bornholm Energy Island\",\n    country: \"Denmark\",\n    capacity: 3000,\n    lat: 55.1000,\n    lng: 14.9000,\n    status: \"planned\",\n    turbines: 200,\n    area: 400,\n    // km²\n    areaPoints: [{\n      lat: 55.0500,\n      lng: 14.8500\n    }, {\n      lat: 55.0500,\n      lng: 14.9500\n    }, {\n      lat: 55.1500,\n      lng: 14.9500\n    }, {\n      lat: 55.1500,\n      lng: 14.8500\n    }, {\n      lat: 55.0500,\n      lng: 14.8500\n    }]\n  }, {\n    name: \"Hywind Tampen\",\n    country: \"Norway\",\n    capacity: 88,\n    lat: 61.2500,\n    lng: 20.4000,\n    status: \"operational\",\n    turbines: 11,\n    area: 22\n  }];\n\n  // Function to render wind farms on the map - enhanced with polygon areas and zoom-based detail\n  const renderWindFarms = useCallback(() => {\n    if (!showWindFarms) return null;\n\n    // Filter wind farms to only show those in current map bounds\n    const visibleWindFarms = windFarmsData.filter(farm => isInMapBounds(farm.lat, farm.lng));\n    const isHighDetail = currentZoom >= 8;\n    const isMediumDetail = currentZoom >= 6 && currentZoom < 8;\n    return visibleWindFarms.map(windFarm => {\n      const position = {\n        lat: windFarm.lat,\n        lng: windFarm.lng\n      };\n\n      // Use different colors based on wind farm status\n      const fillColor = windFarm.status === \"operational\" ? '#FFC107' // amber color for operational wind farms\n      : '#4CAF50'; // green color for planned and under construction\n\n      // Icon for wind farms\n      const windFarmIcon = {\n        path: \"M -2,-2 L 2,-2 L 2,2 L -2,2 Z\",\n        // Square shape\n        scale: 1.5,\n        fillColor: fillColor,\n        fillOpacity: 0.8,\n        strokeColor: '#FFFFFF',\n        strokeWeight: 1,\n        rotation: 45 // Diamond shape\n      };\n\n      // Determine how to visualize the area based on zoom level\n      let areaVisualization;\n      if (isHighDetail) {\n        // Full detail at high zoom\n        if (windFarm.areaPoints) {\n          // Use specific polygon points if available\n          areaVisualization = /*#__PURE__*/_jsxDEV(MemoizedPolygon, {\n            paths: windFarm.areaPoints,\n            options: {\n              fillColor: fillColor,\n              fillOpacity: 0.1,\n              strokeColor: fillColor,\n              strokeOpacity: 0.4,\n              strokeWeight: 1\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1642,\n            columnNumber: 15\n          }, this);\n        } else if (windFarm.area) {\n          // If we only have the area in km², create a sized circle\n          // Convert km² to meters radius using area = π*r²\n          const areaInSquareMeters = windFarm.area * 1000000;\n          const radiusInMeters = Math.sqrt(areaInSquareMeters / Math.PI);\n          areaVisualization = /*#__PURE__*/_jsxDEV(MemoizedCircle, {\n            center: position,\n            radius: radiusInMeters,\n            options: {\n              fillColor: fillColor,\n              fillOpacity: 0.1,\n              strokeColor: fillColor,\n              strokeOpacity: 0.4,\n              strokeWeight: 1\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1660,\n            columnNumber: 15\n          }, this);\n        } else {\n          // Calculate estimated area based on capacity and turbines\n          let estimatedArea;\n          if (windFarm.turbines) {\n            estimatedArea = windFarm.turbines * 1.0;\n          } else {\n            estimatedArea = windFarm.capacity / 6.5;\n          }\n          const areaInSquareMeters = estimatedArea * 1000000;\n          const radiusInMeters = Math.sqrt(areaInSquareMeters / Math.PI);\n          areaVisualization = /*#__PURE__*/_jsxDEV(MemoizedCircle, {\n            center: position,\n            radius: radiusInMeters,\n            options: {\n              fillColor: fillColor,\n              fillOpacity: 0.1,\n              strokeColor: fillColor,\n              strokeOpacity: 0.4,\n              strokeWeight: 1\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1685,\n            columnNumber: 15\n          }, this);\n        }\n      } else if (isMediumDetail) {\n        // Simplified visualization for medium zoom levels\n        // Just use a circle with a simplified radius calculation\n        let radius;\n        if (windFarm.area) {\n          // Use the known area but with simplified calculation\n          radius = Math.sqrt(windFarm.area) * 1000; // Simplified conversion to meters\n        } else if (windFarm.capacity > 500) {\n          radius = 15000; // Large wind farm\n        } else if (windFarm.capacity > 100) {\n          radius = 10000; // Medium wind farm\n        } else {\n          radius = 5000; // Small wind farm\n        }\n        areaVisualization = /*#__PURE__*/_jsxDEV(MemoizedCircle, {\n          center: position,\n          radius: radius,\n          options: {\n            fillColor: fillColor,\n            fillOpacity: 0.08,\n            strokeColor: fillColor,\n            strokeOpacity: 0.3,\n            strokeWeight: 1\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1715,\n          columnNumber: 13\n        }, this);\n      } else {\n        // No area visualization at low zoom levels - just markers\n        areaVisualization = null;\n      }\n      return /*#__PURE__*/_jsxDEV(React.Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(MemoizedMarker, {\n          position: position,\n          icon: windFarmIcon,\n          onClick: e => {\n            // Prevent event propagation to the map\n            if (e && e.domEvent) {\n              e.domEvent.stopPropagation();\n            }\n\n            // Don't immediately close the tooltip if we're clicking on a wind farm\n            e && e.stop && e.stop();\n\n            // Calculate estimated area if not provided\n            let displayArea = windFarm.area;\n            if (!displayArea) {\n              if (windFarm.turbines) {\n                displayArea = Math.round(windFarm.turbines * 1.0);\n              } else {\n                displayArea = Math.round(windFarm.capacity / 6.5);\n              }\n            }\n            console.log(\"Wind farm clicked:\", windFarm.name);\n\n            // Create a wind farm object with all necessary properties\n            const windFarmObj = {\n              id: `wind-farm-${windFarm.name}`,\n              name: windFarm.name,\n              type: 'wind-farm',\n              flag: windFarm.country,\n              operator: windFarm.country,\n              capacity: windFarm.capacity,\n              status: windFarm.status,\n              area: displayArea,\n              turbines: windFarm.turbines,\n              estimatedArea: !windFarm.area,\n              isWindFarm: true\n            };\n\n            // Set immediately without delay\n            setSelectedVessel(windFarmObj);\n          },\n          zIndex: 50\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1734,\n          columnNumber: 13\n        }, this), areaVisualization]\n      }, `wind-farm-${windFarm.name}`, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1733,\n        columnNumber: 11\n      }, this);\n    });\n  }, [showWindFarms, isInMapBounds, currentZoom, windFarmsData]);\n\n  // Separate function to render ONLY radar coverage with zoom-based detail\n  const renderRadarCoverage = useCallback(() => {\n    if (!showWindFarms || !showRadarCoverage) return null;\n\n    // Skip rendering radar coverage at low zoom levels for performance\n    if (currentZoom < 6) return null;\n\n    // Filter to only show radar coverage for wind farms in the current bounds\n    const visibleWindFarms = windFarmsData.filter(farm => isInMapBounds(farm.lat, farm.lng));\n    const isHighDetail = currentZoom >= 8;\n    return visibleWindFarms.map(windFarm => {\n      const position = {\n        lat: windFarm.lat,\n        lng: windFarm.lng\n      };\n      const radarCoverageRadius = 77784; // 42 nautical miles in meters\n\n      return /*#__PURE__*/_jsxDEV(MemoizedCircle, {\n        center: position,\n        radius: radarCoverageRadius,\n        options: {\n          fillColor: '#FF0000',\n          fillOpacity: isHighDetail ? 0.05 : 0.03,\n          strokeColor: '#FF0000',\n          strokeOpacity: isHighDetail ? 0.7 : 0.5,\n          strokeWeight: isHighDetail ? 1 : 0.5,\n          strokeDashArray: [5, 5] // Dashed line pattern\n        }\n      }, `radar-${windFarm.name}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1804,\n        columnNumber: 9\n      }, this);\n    });\n  }, [showWindFarms, showRadarCoverage, isInMapBounds, currentZoom, windFarmsData]);\n\n  // Function to render vessel radar coverage based on gross tonnage with zoom-based detail\n  const renderVesselRadarCoverage = useCallback(() => {\n    // Skip rendering vessel radar at low zoom levels for performance\n    if (currentZoom < 6) return null;\n    const result = [];\n\n    // Render medium vessels (GT 300-2999) with 20 NM radar\n    if (showVesselRadar) {\n      // Filter vessels to show radar only for commercial vessels with GT 300-2999\n      const mediumVessels = vessels.filter(v => (v.type === 'commercial' || v.type === 'tanker' || v.type === 'passenger') && v.grossTonnage >= 300 && v.grossTonnage < 3000 && isInMapBounds(v.position[1], v.position[0]));\n      const isHighDetail = currentZoom >= 8;\n      mediumVessels.forEach(vessel => {\n        const position = {\n          lat: vessel.position[1],\n          lng: vessel.position[0]\n        };\n\n        // Medium vessels have 20 NM radar range\n        const radarRangeNM = 20;\n        // Convert NM to meters (1 NM = 1852 meters)\n        const radarRangeMeters = radarRangeNM * 1852;\n        result.push(/*#__PURE__*/_jsxDEV(MemoizedCircle, {\n          center: position,\n          radius: radarRangeMeters,\n          options: {\n            fillColor: '#4285F4',\n            fillOpacity: isHighDetail ? 0.03 : 0.02,\n            strokeColor: '#4285F4',\n            strokeOpacity: isHighDetail ? 0.6 : 0.4,\n            strokeWeight: isHighDetail ? 1 : 0.5,\n            strokeDashArray: [5, 5] // Dashed line pattern\n          }\n        }, `vessel-radar-${vessel.id}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1848,\n          columnNumber: 11\n        }, this));\n      });\n    }\n\n    // Render large vessels (GT >= 3000) with 40 NM radar\n    if (showLargeVesselRadar) {\n      // Filter vessels to show radar only for commercial vessels with GT >= 3000\n      const largeVessels = vessels.filter(v => (v.type === 'commercial' || v.type === 'tanker' || v.type === 'passenger') && v.grossTonnage >= 3000 && isInMapBounds(v.position[1], v.position[0]));\n      const isHighDetail = currentZoom >= 8;\n      largeVessels.forEach(vessel => {\n        const position = {\n          lat: vessel.position[1],\n          lng: vessel.position[0]\n        };\n\n        // Large vessels have 40 NM radar range\n        const radarRangeNM = 40;\n        // Convert NM to meters (1 NM = 1852 meters)\n        const radarRangeMeters = radarRangeNM * 1852;\n        result.push(/*#__PURE__*/_jsxDEV(MemoizedCircle, {\n          center: position,\n          radius: radarRangeMeters,\n          options: {\n            fillColor: '#4285F4',\n            fillOpacity: isHighDetail ? 0.03 : 0.02,\n            strokeColor: '#4285F4',\n            strokeOpacity: isHighDetail ? 0.6 : 0.4,\n            strokeWeight: isHighDetail ? 1 : 0.5,\n            strokeDashArray: [5, 5] // Dashed line pattern\n          }\n        }, `large-vessel-radar-${vessel.id}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1885,\n          columnNumber: 11\n        }, this));\n      });\n    }\n    return result;\n  }, [showVesselRadar, showLargeVesselRadar, vessels, isInMapBounds, currentZoom]);\n\n  // Function to render SeaMesh interception lines between vessel radars and Russian vessels\n  const renderSeaMeshInterception = useCallback(() => {\n    if (!showSeaMesh || currentZoom < 6) return null;\n    const result = [];\n\n    // Get medium vessels with radar capability (GT 300-2999)\n    const mediumRadarVessels = showVesselRadar ? vessels.filter(v => (v.type === 'commercial' || v.type === 'tanker' || v.type === 'passenger') && v.grossTonnage >= 300 && v.grossTonnage < 3000 && isInMapBounds(v.position[1], v.position[0])) : [];\n\n    // Get large vessels with radar capability (GT >= 3000)\n    const largeRadarVessels = showLargeVesselRadar ? vessels.filter(v => (v.type === 'commercial' || v.type === 'tanker' || v.type === 'passenger') && v.grossTonnage >= 3000 && isInMapBounds(v.position[1], v.position[0])) : [];\n\n    // Get all Russian vessels in bounds\n    const russianVessels = vessels.filter(v => v.isRussian && isInMapBounds(v.position[1], v.position[0]));\n    const hasRadarVessels = mediumRadarVessels.length > 0 || largeRadarVessels.length > 0;\n    if (!hasRadarVessels || russianVessels.length === 0) return result;\n\n    // Calculate all possible interceptions (Russian vessel + distance + radar vessel)\n    const interceptions = [];\n    russianVessels.forEach(russianVessel => {\n      // Add medium vessel interceptions\n      mediumRadarVessels.forEach(radarVessel => {\n        const dx = radarVessel.position[0] - russianVessel.position[0];\n        const dy = radarVessel.position[1] - russianVessel.position[1];\n        const distance = Math.sqrt(dx * dx + dy * dy);\n        interceptions.push({\n          russianVessel,\n          radarVessel,\n          distance,\n          isLargeVessel: false\n        });\n      });\n\n      // Add large vessel interceptions\n      largeRadarVessels.forEach(radarVessel => {\n        const dx = radarVessel.position[0] - russianVessel.position[0];\n        const dy = radarVessel.position[1] - russianVessel.position[1];\n        const distance = Math.sqrt(dx * dx + dy * dy);\n        interceptions.push({\n          russianVessel,\n          radarVessel,\n          distance,\n          isLargeVessel: true\n        });\n      });\n    });\n\n    // Sort interceptions by distance and take only the 5 closest\n    interceptions.sort((a, b) => a.distance - b.distance);\n    const topInterceptions = interceptions.slice(0, 5);\n\n    // Draw lines for the closest interceptions\n    topInterceptions.forEach(({\n      russianVessel,\n      radarVessel,\n      isLargeVessel\n    }) => {\n      result.push(/*#__PURE__*/_jsxDEV(Polyline, {\n        path: [{\n          lat: russianVessel.position[1],\n          lng: russianVessel.position[0]\n        }, {\n          lat: radarVessel.position[1],\n          lng: radarVessel.position[0]\n        }],\n        options: {\n          strokeColor: isLargeVessel ? '#FF7F00' : '#FF4500',\n          // Different color for large vessels\n          strokeOpacity: 0.7,\n          strokeWeight: isLargeVessel ? 2 : 1.5,\n          // Thicker line for large vessels\n          geodesic: true,\n          icons: [{\n            icon: {\n              path: 'M 0,-1 0,1',\n              strokeOpacity: 1,\n              scale: isLargeVessel ? 4 : 3 // Larger icons for large vessels\n            },\n            offset: '0',\n            repeat: isLargeVessel ? '20px' : '15px' // Different pattern for large vessels\n          }]\n        }\n      }, `seamesh-${russianVessel.id}-${radarVessel.id}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1973,\n        columnNumber: 9\n      }, this));\n    });\n    return result;\n  }, [showSeaMesh, showVesselRadar, showLargeVesselRadar, vessels, isInMapBounds, currentZoom]);\n\n  // Function to render AirMesh interception lines between wind farm radars and Russian drones\n  const renderAirMeshInterception = useCallback(() => {\n    if (!showAirMesh || currentZoom < 6) return null;\n    const result = [];\n\n    // Only proceed if we have wind farms with radar and wind farms are shown\n    if (!showWindFarms || !showRadarCoverage) return result;\n\n    // Filter to only show wind farms in the current bounds\n    const radarWindFarms = windFarmsData.filter(farm => isInMapBounds(farm.lat, farm.lng));\n\n    // Get all Russian drones in bounds\n    const russianDrones = vessels.filter(v => v.isRussian && v.type === 'drone' && isInMapBounds(v.position[1], v.position[0]));\n    if (radarWindFarms.length === 0 || russianDrones.length === 0) return result;\n\n    // Process each drone separately for intercepts\n    russianDrones.forEach(drone => {\n      // Calculate all possible interceptions for this drone\n      const droneInterceptions = [];\n      radarWindFarms.forEach(windFarm => {\n        const dx = windFarm.lng - drone.position[0];\n        const dy = windFarm.lat - drone.position[1];\n        const distance = Math.sqrt(dx * dx + dy * dy);\n        droneInterceptions.push({\n          drone,\n          windFarm,\n          distance\n        });\n      });\n\n      // Sort interceptions by distance and take only the 5 closest for each drone\n      droneInterceptions.sort((a, b) => a.distance - b.distance);\n      const topDroneInterceptions = droneInterceptions.slice(0, 5);\n\n      // Draw lines for the closest interceptions for this drone\n      topDroneInterceptions.forEach(({\n        drone,\n        windFarm\n      }) => {\n        result.push(/*#__PURE__*/_jsxDEV(Polyline, {\n          path: [{\n            lat: drone.position[1],\n            lng: drone.position[0]\n          }, {\n            lat: windFarm.lat,\n            lng: windFarm.lng\n          }],\n          options: {\n            strokeColor: '#4B0082',\n            // Indigo color for Air Mesh\n            strokeOpacity: 0.8,\n            strokeWeight: 2,\n            geodesic: true,\n            icons: [{\n              icon: {\n                path: 'M 0,-1 0,1',\n                strokeOpacity: 1,\n                scale: 4\n              },\n              offset: '0',\n              repeat: '20px'\n            }]\n          }\n        }, `airmesh-${drone.id}-${windFarm.name}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2046,\n          columnNumber: 11\n        }, this));\n      });\n    });\n    return result;\n  }, [showAirMesh, showWindFarms, showRadarCoverage, windFarmsData, vessels, isInMapBounds, currentZoom]);\n\n  // Update the map when display mode changes\n  useEffect(() => {\n    // This effect updates the Google Maps styling when display mode changes\n    mapOptions.styles = getMapStyle(displayMode);\n\n    // If map is loaded, we can update its options\n    if (mapRef.current) {\n      mapRef.current.setOptions(mapOptions);\n    }\n  }, [displayMode, mapOptions]);\n\n  // onMapLoad with error handling \n  const onMapLoad = useCallback(map => {\n    console.log(\"Map loaded successfully\");\n    mapRef.current = map;\n\n    // Make sure dragging is enabled\n    map.setOptions({\n      draggable: true,\n      zoomControl: false,\n      scrollwheel: true,\n      disableDoubleClickZoom: false\n    });\n\n    // We can store the map's zoom control functionality\n    zoomRef.current = {\n      zoomIn: () => {\n        const newZoom = map.getZoom() + 1;\n        map.setZoom(newZoom);\n        setCurrentZoom(newZoom);\n      },\n      zoomOut: () => {\n        const newZoom = map.getZoom() - 1;\n        map.setZoom(newZoom);\n        setCurrentZoom(newZoom);\n      }\n    };\n\n    // Get initial bounds\n    if (map.getBounds()) {\n      const bounds = map.getBounds();\n      setMapBounds({\n        north: bounds.getNorthEast().lat(),\n        east: bounds.getNorthEast().lng(),\n        south: bounds.getSouthWest().lat(),\n        west: bounds.getSouthWest().lng()\n      });\n\n      // Initialize current center from the map\n      const center = map.getCenter();\n      setCurrentMapCenter({\n        lat: center.lat(),\n        lng: center.lng()\n      });\n    }\n\n    // Set initial zoom\n    setCurrentZoom(map.getZoom());\n  }, []);\n\n  // Add a click handler to the map background to deselect the current vessel\n  const handleMapClick = () => {\n    // Simply close the vessel display when map is clicked\n    // Using the simplest possible approach to avoid any errors\n    setSelectedVessel(null);\n  };\n\n  // Get visible vessel count - memoized for sidebar display\n  const visibleVesselCount = useMemo(() => vessels.filter(v => {\n    const matchesFilter = filters.all || filters.commercial && v.type === 'commercial' || filters.military && v.type === 'military' || filters.submarine && v.type === 'submarine' || filters.drone && v.type === 'drone' || filters.russian && v.isRussian && v.type !== 'submarine' && v.type !== 'drone';\n    return matchesFilter;\n  }).length, [vessels, filters]);\n\n  // Get only vessels visible in current sidebar (both filtered and in bounds) - memoized\n  const displayedVessels = useMemo(() => vessels.filter(v => {\n    const matchesFilter = filters.all || filters.commercial && v.type === 'commercial' || filters.military && v.type === 'military' || filters.submarine && v.type === 'submarine' || filters.drone && v.type === 'drone' || filters.russian && v.isRussian && v.type !== 'submarine' && v.type !== 'drone';\n    const inBounds = isInMapBounds(v.position[1], v.position[0]);\n    return matchesFilter && inBounds;\n  }).slice(0, 50) // Still limit to 50 for performance\n  , [vessels, filters, isInMapBounds]);\n\n  // Memoize UI elements that don't need frequent updates\n  const controlPanels = useMemo(() => /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"control-panel\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-sm font-semibold mb-3 palantir-heading\",\n        children: \"Display Mode\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2175,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col gap-3\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"active\",\n          onClick: () => setDisplayMode('radar'),\n          children: [/*#__PURE__*/_jsxDEV(Radio, {\n            size: 16,\n            className: \"mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2181,\n            columnNumber: 13\n          }, this), \"Radar\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2177,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2176,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2174,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"control-panel\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-sm font-semibold mb-2 palantir-heading\",\n        children: \"Vessel Filter\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2188,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-row flex-wrap\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: filters.all ? 'active' : '',\n          onClick: () => {\n            // If all is being turned on, turn off other filters\n            if (!filters.all) {\n              setFilters({\n                all: true,\n                commercial: false,\n                military: false,\n                submarine: false,\n                drone: false,\n                russian: false\n              });\n            } else {\n              // If all is being turned off, leave other filters unchanged\n              setFilters({\n                ...filters,\n                all: false\n              });\n            }\n          },\n          children: \"All\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2190,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: filters.commercial ? 'active' : '',\n          onClick: () => {\n            // Toggle the commercial filter\n            const newCommercialState = !filters.commercial;\n            setFilters({\n              ...filters,\n              all: false,\n              commercial: newCommercialState\n            });\n          },\n          children: \"Commercial\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2214,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: filters.military ? 'active' : '',\n          onClick: () => {\n            // Toggle the military filter\n            const newMilitaryState = !filters.military;\n            setFilters({\n              ...filters,\n              all: false,\n              military: newMilitaryState\n            });\n          },\n          children: \"Military\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2228,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: filters.submarine ? 'active' : '',\n          onClick: () => {\n            // Toggle the submarine filter\n            const newSubmarineState = !filters.submarine;\n            setFilters({\n              ...filters,\n              all: false,\n              submarine: newSubmarineState\n            });\n          },\n          children: \"Russian Submarines\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2242,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: filters.drone ? 'active' : '',\n          onClick: () => {\n            // Toggle the drone filter\n            const newDroneState = !filters.drone;\n            setFilters({\n              ...filters,\n              all: false,\n              drone: newDroneState\n            });\n          },\n          children: \"Russian Drones\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2256,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: filters.russian ? 'active' : '',\n          onClick: () => {\n            // Toggle the russian filter\n            const newRussianState = !filters.russian;\n            setFilters({\n              ...filters,\n              all: false,\n              russian: newRussianState\n            });\n          },\n          children: \"Russian Ships\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2270,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2189,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2187,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"control-panel\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-sm font-semibold mb-3 palantir-heading\",\n        children: \"Wind Infrastructure\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2288,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: showWindFarms ? 'active' : '',\n          onClick: () => {\n            const newShowWindFarms = !showWindFarms;\n            setShowWindFarms(newShowWindFarms);\n            // If turning off wind farms, ensure radar coverage is also off\n            if (!newShowWindFarms) {\n              setShowRadarCoverage(false);\n            }\n          },\n          children: [/*#__PURE__*/_jsxDEV(Wind, {\n            size: 16,\n            className: \"mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2301,\n            columnNumber: 13\n          }, this), \"Wind Farms \", showWindFarms ? '(Shown)' : '(Hidden)']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2290,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: showRadarCoverage ? 'active' : '',\n          onClick: () => {\n            setShowRadarCoverage(!showRadarCoverage);\n          },\n          disabled: !showWindFarms,\n          style: {\n            opacity: !showWindFarms ? 0.5 : 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(Radar, {\n            size: 16,\n            className: \"mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2312,\n            columnNumber: 13\n          }, this), \"Radar Coverage (42 NM)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2304,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: showAirMesh ? 'active' : '',\n          onClick: () => {\n            setShowAirMesh(!showAirMesh);\n          },\n          disabled: !showWindFarms || !showRadarCoverage,\n          style: {\n            opacity: !showWindFarms || !showRadarCoverage ? 0.5 : 1,\n            backgroundColor: showAirMesh ? '#4B0082' : 'transparent',\n            color: showAirMesh ? '#FFFFFF' : 'inherit',\n            padding: '8px 16px',\n            borderRadius: '4px',\n            border: '1px solid #4B0082',\n            cursor: 'pointer'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Radar, {\n            size: 16,\n            className: \"mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2331,\n            columnNumber: 13\n          }, this), \"Air Mesh\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2315,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2289,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2287,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"control-panel\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-sm font-semibold mb-3 palantir-heading\",\n        children: \"Commercial Vessel Infrastructure\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2338,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: showVesselRadar ? 'active' : '',\n          onClick: () => setShowVesselRadar(!showVesselRadar),\n          children: [/*#__PURE__*/_jsxDEV(Radar, {\n            size: 16,\n            className: \"mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2344,\n            columnNumber: 13\n          }, this), \"Vessel Radar (GT 300-2999)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2340,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: showLargeVesselRadar ? 'active' : '',\n          onClick: () => setShowLargeVesselRadar(!showLargeVesselRadar),\n          children: [/*#__PURE__*/_jsxDEV(Radar, {\n            size: 16,\n            className: \"mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2351,\n            columnNumber: 13\n          }, this), \"Vessel Radar (GT > 3000)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2347,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: showSeaMesh ? 'active' : '',\n          onClick: () => setShowSeaMesh(!showSeaMesh),\n          disabled: !showVesselRadar && !showLargeVesselRadar,\n          style: {\n            opacity: !showVesselRadar && !showLargeVesselRadar ? 0.5 : 1,\n            backgroundColor: showSeaMesh ? '#8B0000' : 'transparent',\n            color: showSeaMesh ? '#FFFFFF' : 'inherit',\n            padding: '8px 16px',\n            borderRadius: '4px',\n            border: '1px solid #8B0000',\n            cursor: 'pointer'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Radar, {\n            size: 16,\n            className: \"mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2368,\n            columnNumber: 13\n          }, this), \"SeaMesh\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2354,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2339,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2337,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"control-panel\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-sm font-semibold mb-3 palantir-heading\",\n        children: \"Vessel Simulation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2376,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: simulationEnabled ? 'active' : '',\n          onClick: () => setSimulationEnabled(!simulationEnabled),\n          children: [/*#__PURE__*/_jsxDEV(Ship, {\n            size: 16,\n            className: \"mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2382,\n            columnNumber: 13\n          }, this), simulationEnabled ? 'Pause Movement' : 'Start Movement']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2378,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-xs mb-1\",\n            children: [\"Speed: \", simulationSpeed, \"x\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2386,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"range\",\n            min: \"1\",\n            max: \"50\",\n            value: simulationSpeed,\n            onChange: e => setSimulationSpeed(parseInt(e.target.value)),\n            className: \"w-2/5 max-w-[80px] accent-blue-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2387,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2385,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2377,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2375,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true), [displayMode, filters, showWindFarms, showRadarCoverage, showVesselRadar, showLargeVesselRadar, showSeaMesh, showAirMesh, simulationEnabled, simulationSpeed]);\n\n  // Add debugging for selectedVessel state changes\n  useEffect(() => {\n    console.log(\"selectedVessel updated:\", selectedVessel);\n\n    // Add debugging to check if selectedVessel is correctly set\n    if (selectedVessel) {\n      console.log(\"Selected vessel details:\", {\n        id: selectedVessel.id,\n        name: selectedVessel.name,\n        type: selectedVessel.type,\n        isWindFarm: selectedVessel.isWindFarm\n      });\n\n      // Force a small UI update to trigger re-renders\n      const refreshTimer = setTimeout(() => {\n        // This just forces a small UI update\n        const dummyEvent = new Event('resize');\n        window.dispatchEvent(dummyEvent);\n      }, 100);\n      return () => clearTimeout(refreshTimer);\n    }\n  }, [selectedVessel]);\n\n  // Simplified reset function that resets to initial state\n  const handleReset = () => {\n    // Attempt to reset the map view if available\n    if (mapRef.current) {\n      mapRef.current.setCenter(defaultCenter);\n      mapRef.current.setZoom(6);\n    }\n\n    // Reset state\n    setDisplayMode('radar');\n    setFilters({\n      all: true,\n      commercial: false,\n      military: false,\n      submarine: false,\n      drone: false,\n      russian: false\n    });\n    setShowWindFarms(false);\n    setShowRadarCoverage(false);\n    setShowVesselRadar(false);\n    setShowLargeVesselRadar(false);\n    setShowSeaMesh(false);\n    setShowAirMesh(false);\n    setSelectedVessel(null);\n    setSimulationEnabled(false);\n    setSimulationSpeed(10);\n\n    // Force map components to remount\n    setMapKey(Date.now());\n  };\n\n  // Update UI to include display mode toggle\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"baltic-tracker-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex h-screen\",\n      children: [showSidebar && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar w-80\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-xl font-semibold palantir-heading\",\n            style: {\n              color: '#8B0000'\n            },\n            children: \"Baltic Sea Tracker\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2464,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowSidebar(false),\n            className: \"text-gray-400 hover:text-white\",\n            children: /*#__PURE__*/_jsxDEV(Menu, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2466,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2465,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2463,\n          columnNumber: 13\n        }, this), controlPanels]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2462,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 relative\",\n        children: [!showSidebar && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"absolute top-4 left-4 z-10 bg-gray-800 p-2 rounded-md hover:bg-gray-700\",\n          onClick: () => setShowSidebar(true),\n          children: /*#__PURE__*/_jsxDEV(Menu, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2480,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2476,\n          columnNumber: 13\n        }, this), loadError && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full h-full flex flex-col items-center justify-center bg-gray-900 text-white p-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xl mb-4\",\n            children: [\"Error loading Google Maps: \", loadError.message]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2487,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2486,\n          columnNumber: 13\n        }, this), !loadError && isLoaded ? /*#__PURE__*/_jsxDEV(GoogleMap, {\n          mapContainerStyle: mapContainerStyle,\n          center: mapCenter,\n          zoom: mapZoom,\n          onClick: handleMapClick,\n          onLoad: onMapLoad,\n          options: mapOptions,\n          onZoomChanged: () => {\n            if (mapRef.current) {\n              setCurrentZoom(mapRef.current.getZoom());\n            }\n          },\n          onBoundsChanged: () => {\n            if (mapRef.current && mapRef.current.getBounds()) {\n              const bounds = mapRef.current.getBounds();\n              setMapBounds({\n                north: bounds.getNorthEast().lat(),\n                east: bounds.getNorthEast().lng(),\n                south: bounds.getSouthWest().lat(),\n                west: bounds.getSouthWest().lng()\n              });\n              const center = mapRef.current.getCenter();\n              setCurrentMapCenter({\n                lat: center.lat(),\n                lng: center.lng()\n              });\n            }\n          },\n          children: [vessels.length > 0 && renderVessels(), showWindFarms && renderWindFarms(), showRadarCoverage && renderRadarCoverage(), (showVesselRadar || showLargeVesselRadar) && renderVesselRadarCoverage(), showSeaMesh && renderSeaMeshInterception(), showAirMesh && renderAirMeshInterception(), selectedVessel && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"vessel-tooltip\",\n            onClick: e => {\n              // Stop propagation to prevent map click from closing the tooltip\n              e.stopPropagation();\n            },\n            style: {\n              position: 'absolute',\n              right: '20px',\n              top: '20px',\n              backgroundColor: 'rgba(17, 24, 39, 0.95)',\n              borderRadius: '4px',\n              padding: '12px',\n              boxShadow: '0 4px 12px rgba(0, 0, 0, 0.7)',\n              zIndex: 9999,\n              maxWidth: '280px',\n              border: '1px solid #3d85c6',\n              color: 'white',\n              fontFamily: \"'Inter', 'Roboto', sans-serif\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                justifyContent: 'space-between',\n                alignItems: 'center',\n                marginBottom: '10px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                style: {\n                  fontSize: '14px',\n                  fontWeight: '600',\n                  margin: 0,\n                  color: '#3d85c6'\n                },\n                className: \"palantir-heading\",\n                children: selectedVessel.name || 'Unknown Vessel'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2554,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: e => {\n                  // Prevent any event bubbling and close the tooltip\n                  e.preventDefault();\n                  e.stopPropagation();\n                  setSelectedVessel(null);\n                },\n                style: {\n                  background: 'none',\n                  border: 'none',\n                  color: '#6b7280',\n                  fontSize: '16px',\n                  cursor: 'pointer',\n                  padding: '0 5px'\n                },\n                children: \"\\xD7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2557,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2553,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '12px',\n                color: '#d1d5db'\n              },\n              children: selectedVessel.isWindFarm ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    margin: '4px 0',\n                    display: 'flex',\n                    justifyContent: 'space-between'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: '#9ca3af'\n                    },\n                    children: \"Type:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2581,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Wind Farm\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2582,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2580,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    margin: '4px 0',\n                    display: 'flex',\n                    justifyContent: 'space-between'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: '#9ca3af'\n                    },\n                    children: \"Country:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2585,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: selectedVessel.flag\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2586,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2584,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    margin: '4px 0',\n                    display: 'flex',\n                    justifyContent: 'space-between'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: '#9ca3af'\n                    },\n                    children: \"Capacity:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2589,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [selectedVessel.capacity, \" MW\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2590,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2588,\n                  columnNumber: 25\n                }, this), selectedVessel.turbines && /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    margin: '4px 0',\n                    display: 'flex',\n                    justifyContent: 'space-between'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: '#9ca3af'\n                    },\n                    children: \"Turbines:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2594,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: selectedVessel.turbines\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2595,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2593,\n                  columnNumber: 27\n                }, this), selectedVessel.area && /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    margin: '4px 0',\n                    display: 'flex',\n                    justifyContent: 'space-between'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: '#9ca3af'\n                    },\n                    children: \"Area:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2600,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [selectedVessel.area, \" km\\xB2\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2601,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2599,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    margin: '4px 0',\n                    display: 'flex',\n                    justifyContent: 'space-between'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: '#9ca3af'\n                    },\n                    children: \"Status:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2605,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: selectedVessel.status\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2606,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2604,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    margin: '4px 0',\n                    display: 'flex',\n                    justifyContent: 'space-between'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: '#9ca3af'\n                    },\n                    children: \"Flag:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2612,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: selectedVessel.flag\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2613,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2611,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    margin: '4px 0',\n                    display: 'flex',\n                    justifyContent: 'space-between'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: '#9ca3af'\n                    },\n                    children: \"Type:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2616,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: selectedVessel.type\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2617,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2615,\n                  columnNumber: 25\n                }, this), selectedVessel.operator && /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    margin: '4px 0',\n                    display: 'flex',\n                    justifyContent: 'space-between'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: '#9ca3af'\n                    },\n                    children: \"Operator:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2621,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: selectedVessel.operator\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2622,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2620,\n                  columnNumber: 27\n                }, this), selectedVessel.length && /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    margin: '4px 0',\n                    display: 'flex',\n                    justifyContent: 'space-between'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: '#9ca3af'\n                    },\n                    children: \"Length:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2627,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [selectedVessel.length, \"m\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2628,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2626,\n                  columnNumber: 27\n                }, this), selectedVessel.speed && /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    margin: '4px 0',\n                    display: 'flex',\n                    justifyContent: 'space-between'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: '#9ca3af'\n                    },\n                    children: \"Speed:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2633,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [selectedVessel.speed, \" knots\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2634,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2632,\n                  columnNumber: 27\n                }, this), selectedVessel.heading && /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    margin: '4px 0',\n                    display: 'flex',\n                    justifyContent: 'space-between'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: '#9ca3af'\n                    },\n                    children: \"Heading:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2639,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [selectedVessel.heading, \"\\xB0\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2640,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2638,\n                  columnNumber: 27\n                }, this), selectedVessel.grossTonnage && /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    margin: '4px 0',\n                    display: 'flex',\n                    justifyContent: 'space-between'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: '#9ca3af'\n                    },\n                    children: \"Gross Tonnage:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2645,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [selectedVessel.grossTonnage, \" GT\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2646,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2644,\n                  columnNumber: 27\n                }, this), selectedVessel.type === 'submarine' && /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    margin: '4px 0',\n                    display: 'flex',\n                    justifyContent: 'space-between'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: '#9ca3af'\n                    },\n                    children: \"Depth:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2651,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [selectedVessel.depth, \"m (\", selectedVessel.isSubmerged ? 'Submerged' : 'Surfaced', \")\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2652,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2650,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2577,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2532,\n            columnNumber: 17\n          }, this)]\n        }, mapKey, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2492,\n          columnNumber: 13\n        }, this) : !loadError ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full h-full flex items-center justify-center bg-gray-900 text-white\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xl\",\n            children: \"Loading map...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2663,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2662,\n          columnNumber: 13\n        }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute bottom-4 right-4 flex gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => zoomRef.current && zoomRef.current.zoomIn(),\n            className: \"bg-gray-800 hover:bg-gray-700 p-2 rounded-md shadow-lg\",\n            children: /*#__PURE__*/_jsxDEV(ZoomIn, {\n              size: 20,\n              className: \"text-blue-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2672,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2668,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => zoomRef.current && zoomRef.current.zoomOut(),\n            className: \"bg-gray-800 hover:bg-gray-700 p-2 rounded-md shadow-lg\",\n            children: /*#__PURE__*/_jsxDEV(ZoomOut, {\n              size: 20,\n              className: \"text-blue-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2678,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2674,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2667,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleReset,\n          style: {\n            position: 'absolute',\n            bottom: '20px',\n            right: '20px',\n            backgroundColor: '#8B0000',\n            color: '#FFFFFF',\n            padding: '8px 16px',\n            borderRadius: '4px',\n            border: 'none',\n            fontWeight: 'normal',\n            cursor: 'pointer',\n            boxShadow: '0 2px 4px rgba(0, 0, 0, 0.5)',\n            zIndex: 9999,\n            fontSize: '14px'\n          },\n          children: \"Reset filters\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2683,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2474,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2460,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-800 p-2 text-center text-sm text-gray-400\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center items-center\",\n        children: [/*#__PURE__*/_jsxDEV(Info, {\n          size: 16,\n          className: \"mr-1 text-blue-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2708,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: '#8B0000'\n          },\n          children: [\"Baltic Sea Tracker - \", filters.all ? vessels.length : vessels.filter(v => filters.commercial && v.type === 'commercial' || filters.military && v.type === 'military' || filters.submarine && v.type === 'submarine' || filters.drone && v.type === 'drone' || filters.russian && v.isRussian && v.type !== 'submarine' && v.type !== 'drone').length, \" vessels in \", displayMode, \" mode | Zoom: \", currentZoom]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2709,\n          columnNumber: 11\n        }, this), showWindFarms && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"mx-1 text-amber-400\",\n          children: \"| Wind Farms Shown\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2720,\n          columnNumber: 29\n        }, this), showRadarCoverage && showWindFarms && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"mx-1 text-red-400\",\n          children: \"| Radar Coverage (42 NM)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2721,\n          columnNumber: 50\n        }, this), showVesselRadar && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"mx-1 text-blue-400\",\n          children: \"| Vessel Radar (20/40 NM)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2722,\n          columnNumber: 31\n        }, this), showSeaMesh && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"mx-1 text-orange-400\",\n          children: \"| SeaMesh Active\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2723,\n          columnNumber: 27\n        }, this), showAirMesh && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"mx-1 text-purple-400\",\n          children: \"| AirMesh Active\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2724,\n          columnNumber: 27\n        }, this), simulationEnabled && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"mx-1 text-green-400\",\n          children: [\"| Vessel Movement (\", simulationSpeed, \"x)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2725,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2707,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2706,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2459,\n    columnNumber: 5\n  }, this);\n};\n_s(BalticSeaTracker, \"SoIY1GdY2drV7IuzSRLzVy7X0Dg=\", false, function () {\n  return [useJsApiLoader];\n});\n_c4 = BalticSeaTracker;\nexport default BalticSeaTracker;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"MemoizedMarker\");\n$RefreshReg$(_c2, \"MemoizedCircle\");\n$RefreshReg$(_c3, \"MemoizedPolygon\");\n$RefreshReg$(_c4, \"BalticSeaTracker\");","map":{"version":3,"names":["React","useEffect","useState","useRef","useCallback","useMemo","memo","Info","Ship","Menu","ZoomIn","ZoomOut","Radar","Waves","Layers","Wind","Radio","GoogleMap","useJsApiLoader","Marker","Circle","Polyline","Polygon","jsxDEV","_jsxDEV","Fragment","_Fragment","MemoizedMarker","_c","MemoizedCircle","_c2","MemoizedPolygon","_c3","mapContainerStyle","width","height","defaultCenter","lat","lng","BalticSeaTracker","_s","isLoaded","loadError","id","googleMapsApiKey","libraries","console","log","vessels","setVessels","selectedVessel","setSelectedVessel","filters","setFilters","all","commercial","military","submarine","drone","russian","showSidebar","setShowSidebar","displayMode","setDisplayMode","showWindFarms","setShowWindFarms","showRadarCoverage","setShowRadarCoverage","showVesselRadar","setShowVesselRadar","showLargeVesselRadar","setShowLargeVesselRadar","showSeaMesh","setShowSeaMesh","showAirMesh","setShowAirMesh","mapBounds","setMapBounds","currentZoom","setCurrentZoom","mapKey","setMapKey","Date","now","simulationEnabled","setSimulationEnabled","simulationSpeed","setSimulationSpeed","animationFrameRef","lastUpdateTimeRef","zoomRef","mapRef","mapCenter","mapZoom","currentMapCenter","setCurrentMapCenter","mapStyle","getMapStyle","mapOptions","disableDefaultUI","zoomControl","styles","draggable","restrictions","latLngBounds","north","south","east","west","mapsLoadedRef","error","current","mode","elementType","stylers","color","featureType","visibility","filter","randomCoordinate","avoidAreas","minLat","maxLat","minLng","maxLng","shippingLanes","weight","totalWeight","reduce","sum","lane","randomPoint","Math","random","selectedLane","cumulativeWeight","area","callCount","undefined","result","generateVessels","vesselTypes","flags","russianOperators","commercialOperators","generatedVessels","occupiedPositions","MIN_DISTANCE","maxAttempts","placedVesselCount","i","initialType","floor","length","flag","isRussian","vesselType","position","isInBalticSeaWaters","isTooClose","existingPos","distance","sqrt","pow","push","heading","vesselLat","vesselLng","speed","grossTonnage","round","operator","prefixes","suffixes","shipNumbers","name","detectionProbability","radar","sonar","fused","type","submarineNames","submarineClasses","submarineDesignations","submarineAreas","randomizedSubmarineAreas","map","pos","attempt","adjustedPosition","depth","isSubmerged","class","designation","droneStartingLocations","droneNames","startLocation","offsetLng","offsetLat","dx","dy","atan2","PI","simulatedVessels","processedVessels","vessel","updateVesselPositions","currentTime","deltaTime","adjustedDeltaTime","prevVessels","droneSpeed","max","droneLatAdjustment","cos","droneLngChange","droneLatChange","droneHeadingRad","droneNewLng","sin","droneNewLat","newHeading","isTooFarNorth","isTooFarSouth","isTooFarEast","isTooFarWest","isOverLand","centerLat","centerLng","latitudeAdjustment","longitudeChange","latitudeChange","headingRad","newLng","newLat","bestHeading","foundBetterDirection","angleOffset","testHeading","testRad","testLng","testLat","angleToCenter","headingDiff","sign","reducedSpeed","originalSpeed","newSpeed","speedFactor","min","finalLng","finalLat","isNearSwedishCoast","currentPos","requestAnimationFrame","landAreas","shippingChannels","distanceFromEdge","abs","coastalBuffers","swedishProblemAreas","problematicAreas","majorLakes","safeWaterZones","distanceFromCenter","cancelAnimationFrame","isInMapBounds","buffer","renderVessels","isHighDetail","isMediumDetail","isLowDetail","filteredVessels","v","matchesFilter","inBounds","isSelected","iconProps","circleProps","radius","radarOpacity","radarScale","radarColor","path","fillColor","fillOpacity","strokeColor","strokeWeight","rotation","scale","anchor","window","google","maps","Point","baseScale","SymbolPath","CIRCLE","sizeMultiplier","arrowSize","trailRadius","options","strokeOpacity","defaultSize","children","icon","onClick","e","domEvent","stopPropagation","stop","JSON","stringify","vesselCopy","parse","zIndex","fileName","_jsxFileName","lineNumber","columnNumber","center","label","text","fontSize","fontWeight","windFarmsData","country","capacity","status","turbines","areaPoints","renderWindFarms","visibleWindFarms","farm","windFarm","windFarmIcon","areaVisualization","paths","areaInSquareMeters","radiusInMeters","estimatedArea","displayArea","windFarmObj","isWindFarm","renderRadarCoverage","radarCoverageRadius","strokeDashArray","renderVesselRadarCoverage","mediumVessels","forEach","radarRangeNM","radarRangeMeters","largeVessels","renderSeaMeshInterception","mediumRadarVessels","largeRadarVessels","russianVessels","hasRadarVessels","interceptions","russianVessel","radarVessel","isLargeVessel","sort","a","b","topInterceptions","slice","geodesic","icons","offset","repeat","renderAirMeshInterception","radarWindFarms","russianDrones","droneInterceptions","topDroneInterceptions","setOptions","onMapLoad","scrollwheel","disableDoubleClickZoom","zoomIn","newZoom","getZoom","setZoom","zoomOut","getBounds","bounds","getNorthEast","getSouthWest","getCenter","handleMapClick","visibleVesselCount","displayedVessels","controlPanels","className","size","newCommercialState","newMilitaryState","newSubmarineState","newDroneState","newRussianState","newShowWindFarms","disabled","style","opacity","backgroundColor","padding","borderRadius","border","cursor","value","onChange","parseInt","target","refreshTimer","setTimeout","dummyEvent","Event","dispatchEvent","clearTimeout","handleReset","setCenter","message","zoom","onLoad","onZoomChanged","onBoundsChanged","right","top","boxShadow","maxWidth","fontFamily","display","justifyContent","alignItems","marginBottom","margin","preventDefault","background","bottom","_c4","$RefreshReg$"],"sources":["/Users/esbenvahr/Desktop/NEW FINAL/app/src/components/BalticSeaTracker.jsx"],"sourcesContent":["import React, { useEffect, useState, useRef, useCallback, useMemo, memo } from 'react';\nimport { Info, Ship, Menu, ZoomIn, ZoomOut, Radar, Waves, Layers, Wind, Radio } from 'lucide-react';\nimport '../styles/palantir-theme.css';\nimport { GoogleMap, useJsApiLoader, Marker, Circle, Polyline, Polygon } from '@react-google-maps/api';\n\n// Memoized components for better performance\nconst MemoizedMarker = memo(Marker);\nconst MemoizedCircle = memo(Circle);\nconst MemoizedPolygon = memo(Polygon);\n\n// Define container style\nconst mapContainerStyle = {\n  width: '100%',\n  height: '100vh'\n};\n\n// Define center for the Baltic Sea\nconst defaultCenter = {\n  lat: 59,\n  lng: 19\n};\n\nconst BalticSeaTracker = () => {\n  // Use the same API key and configuration that worked in SimpleMap\n  const { isLoaded, loadError } = useJsApiLoader({\n    id: 'google-map-script',\n    googleMapsApiKey: 'AIzaSyAl-iGmFThUduVpLpE7sQTmniBSUPtzJjA',\n    libraries: ['geometry', 'drawing']\n  });\n  \n  console.log(\"Map loading status:\", { isLoaded, loadError });\n\n  const [vessels, setVessels] = useState([]);\n  const [selectedVessel, setSelectedVessel] = useState(null);\n  const [filters, setFilters] = useState({\n    all: true,\n    commercial: false,\n    military: false,\n    submarine: false,\n    drone: false,\n    russian: false\n  });\n  const [showSidebar, setShowSidebar] = useState(true);\n  const [displayMode, setDisplayMode] = useState('radar'); // Only 'radar' mode is available now\n  const [showWindFarms, setShowWindFarms] = useState(false);\n  const [showRadarCoverage, setShowRadarCoverage] = useState(false); // New state for radar coverage\n  const [showVesselRadar, setShowVesselRadar] = useState(false); // State for vessel radar coverage (300-2999 GT)\n  const [showLargeVesselRadar, setShowLargeVesselRadar] = useState(false); // New state for large vessel radar (>3000 GT)\n  const [showSeaMesh, setShowSeaMesh] = useState(false); // State for SeaMesh interception visualization\n  const [showAirMesh, setShowAirMesh] = useState(false); // State for AirMesh drone interception visualization\n  const [mapBounds, setMapBounds] = useState(null); // Track current map bounds\n  const [currentZoom, setCurrentZoom] = useState(6); // Track current zoom level\n  const [mapKey, setMapKey] = useState(Date.now()); // Add key to force remount of map components\n  const [simulationEnabled, setSimulationEnabled] = useState(false); // Track if vessel movement simulation is enabled\n  const [simulationSpeed, setSimulationSpeed] = useState(10); // Simulation speed multiplier (default 10x)\n  const animationFrameRef = useRef(null); // Reference to store animation frame ID\n  const lastUpdateTimeRef = useRef(Date.now()); // Reference to store last update time\n  \n  const zoomRef = useRef(null);\n  const mapRef = useRef(null);\n  \n  // Google Maps settings\n  const mapCenter = defaultCenter; // Use the default center\n  const mapZoom = 6;\n  \n  // Add state to track current map center\n  const [currentMapCenter, setCurrentMapCenter] = useState(defaultCenter);\n  \n  // Memoize map style to prevent recalculations\n  const mapStyle = useMemo(() => getMapStyle(displayMode), [displayMode]);\n  \n  const mapOptions = useMemo(() => ({\n    disableDefaultUI: true,\n    zoomControl: false,\n    styles: mapStyle,\n    draggable: true, // Ensure map is draggable\n    // Hide cities with population under 5000\n    restrictions: {\n      latLngBounds: {\n        north: 66.0,\n        south: 54.0,\n        east: 30.0,\n        west: 9.0,\n      }\n    }\n  }), [mapStyle]);\n  \n  // Create a ref to track if Google Maps loaded\n  const mapsLoadedRef = useRef(false);\n  \n  // Log any errors with Google Maps loading\n  useEffect(() => {\n    if (loadError) {\n      console.error('Error loading Google Maps:', loadError);\n    }\n    if (isLoaded && !mapsLoadedRef.current) {\n      console.log('Google Maps API loaded successfully');\n      mapsLoadedRef.current = true;\n    }\n  }, [isLoaded, loadError]);\n  \n  // Function to get map style based on display mode\n  function getMapStyle(mode) {\n    switch (mode) {\n      case 'radar':\n        return [\n          { elementType: \"geometry\", stylers: [{ color: \"#212121\" }] },\n          { elementType: \"labels.text.stroke\", stylers: [{ color: \"#212121\" }] },\n          { elementType: \"labels.text.fill\", stylers: [{ color: \"#746855\" }] },\n          { featureType: \"water\", elementType: \"geometry\", stylers: [{ color: \"#181818\" }] },\n          { featureType: \"water\", elementType: \"labels.text.fill\", stylers: [{ color: \"#3d3d3d\" }] },\n          { featureType: \"poi\", stylers: [{ visibility: \"off\" }] },\n          { featureType: \"transit\", stylers: [{ visibility: \"off\" }] },\n          { featureType: \"road\", stylers: [{ visibility: \"off\" }] },\n          // Hide smaller cities/towns\n          { featureType: \"administrative.locality\", elementType: \"labels\", \n            stylers: [{ visibility: \"off\" }] },\n          // Only show major cities\n          { featureType: \"administrative.locality\", elementType: \"labels\", \n            filter: [\">=\", [\"get\", \"population\"], 10000],\n            stylers: [{ visibility: \"on\" }] }\n        ];\n      \n      // Remove sonar and fused cases\n      default:\n        return [\n          { elementType: \"geometry\", stylers: [{ color: \"#212121\" }] },\n          { elementType: \"labels.text.stroke\", stylers: [{ color: \"#212121\" }] },\n          { elementType: \"labels.text.fill\", stylers: [{ color: \"#746855\" }] },\n          { featureType: \"water\", elementType: \"geometry\", stylers: [{ color: \"#181818\" }] },\n          { featureType: \"water\", elementType: \"labels.text.fill\", stylers: [{ color: \"#3d3d3d\" }] },\n          { featureType: \"poi\", stylers: [{ visibility: \"off\" }] },\n          { featureType: \"transit\", stylers: [{ visibility: \"off\" }] },\n          { featureType: \"road\", stylers: [{ visibility: \"off\" }] },\n          // Hide smaller cities/towns\n          { featureType: \"administrative.locality\", elementType: \"labels\", \n            stylers: [{ visibility: \"off\" }] },\n          // Only show major cities\n          { featureType: \"administrative.locality\", elementType: \"labels\", \n            filter: [\">=\", [\"get\", \"population\"], 10000],\n            stylers: [{ visibility: \"on\" }] }\n        ];\n    }\n  }\n    \n  // Function to generate a random coordinate within Baltic Sea\n  const randomCoordinate = () => {\n    // Areas to avoid - major inland lakes and problematic areas\n    const avoidAreas = [\n      // Swedish lakes\n      {minLat: 58.0, maxLat: 59.3, minLng: 12.3, maxLng: 14.0}, // Vänern\n      {minLat: 57.7, maxLat: 58.7, minLng: 14.0, maxLng: 14.8}, // Vättern\n      {minLat: 59.1, maxLat: 59.7, minLng: 15.8, maxLng: 18.0}, // Mälaren\n      \n      // Finnish lakes\n      {minLat: 61.0, maxLat: 62.3, minLng: 24.5, maxLng: 26.4}, // Päijänne\n      {minLat: 61.3, maxLat: 63.1, minLng: 26.5, maxLng: 29.0}, // Saimaa\n      \n      // Other inland waters to avoid\n      {minLat: 60.0, maxLat: 61.8, minLng: 29.2, maxLng: 32.0}, // Ladoga\n      {minLat: 57.8, maxLat: 59.0, minLng: 26.5, maxLng: 28.5},  // Peipus\n      \n      // Problematic shore areas - Northern Sweden west coast\n      {minLat: 60.0, maxLat: 65.0, minLng: 17.0, maxLng: 19.5},\n      \n      // Problematic shore areas - Northern Finland west coast\n      {minLat: 63.0, maxLat: 65.5, minLng: 22.5, maxLng: 25.0}\n    ];\n    \n    // Combine shipping lanes with wider dispersal areas\n    const shippingLanes = [\n      // Main shipping lanes (lower weight than before to reduce clustering)\n      // Danish Straits to St. Petersburg\n      {minLat: 54.5, maxLat: 55.2, minLng: 10.8, maxLng: 13.0, weight: 5}, // Danish Straits entrance\n      {minLat: 55.0, maxLat: 55.8, minLng: 12.8, maxLng: 14.5, weight: 4}, // Route east of Denmark\n      {minLat: 55.3, maxLat: 56.2, minLng: 14.5, maxLng: 16.5, weight: 4}, // Southern Sweden coast\n      {minLat: 55.0, maxLat: 56.0, minLng: 16.5, maxLng: 18.5, weight: 3}, // Midway to Gotland\n      {minLat: 57.0, maxLat: 58.2, minLng: 18.5, maxLng: 20.0, weight: 4}, // North of Gotland\n      {minLat: 58.5, maxLat: 59.5, minLng: 20.0, maxLng: 22.0, weight: 3}, // Approach to Gulf of Finland\n      {minLat: 59.2, maxLat: 59.8, minLng: 22.0, maxLng: 24.5, weight: 5}, // Gulf of Finland western part\n      {minLat: 59.7, maxLat: 60.2, minLng: 24.5, maxLng: 28.0, weight: 4}, // Gulf of Finland eastern part\n      \n      // Port approaches - reduced weights to prevent clustering\n      {minLat: 60.0, maxLat: 60.5, minLng: 24.5, maxLng: 25.0, weight: 3}, // Helsinki\n      {minLat: 60.2, maxLat: 60.5, minLng: 22.0, maxLng: 22.5, weight: 3}, // Turku\n      {minLat: 55.3, maxLat: 56.3, minLng: 12.5, maxLng: 13.0, weight: 3}, // Malmö\n      {minLat: 58.5, maxLat: 59.5, minLng: 16.5, maxLng: 18.5, weight: 3}, // Stockholm\n      {minLat: 54.3, maxLat: 54.8, minLng: 18.3, maxLng: 19.0, weight: 3}, // Gdańsk\n      {minLat: 54.0, maxLat: 54.5, minLng: 13.0, maxLng: 14.5, weight: 3}, // Rostock\n      \n      // Wider dispersal areas - these ensure ships are spread throughout the entire sea\n      // Central Baltic - large dispersal areas\n      {minLat: 56.0, maxLat: 58.0, minLng: 17.0, maxLng: 20.0, weight: 5}, // Central Baltic wider area\n      {minLat: 57.5, maxLat: 59.5, minLng: 19.0, maxLng: 22.0, weight: 5}, // Eastern Baltic wider area\n      \n      // Gulf of Bothnia - more dispersed\n      {minLat: 60.0, maxLat: 62.0, minLng: 18.0, maxLng: 21.0, weight: 4}, // Southern Bothnia dispersed\n      {minLat: 62.0, maxLat: 65.0, minLng: 18.0, maxLng: 23.0, weight: 3}, // Northern Bothnia dispersed\n      \n      // Western Baltic - more dispersed\n      {minLat: 54.0, maxLat: 56.0, minLng: 12.0, maxLng: 15.0, weight: 4}, // Western Baltic dispersed\n      {minLat: 54.0, maxLat: 57.0, minLng: 15.0, maxLng: 18.0, weight: 5}, // South-central Baltic dispersed\n      \n      // Other dispersed areas to ensure wider coverage\n      {minLat: 54.0, maxLat: 55.5, minLng: 18.0, maxLng: 20.0, weight: 3}, // Southern Baltic dispersed\n      {minLat: 56.5, maxLat: 58.0, minLng: 15.0, maxLng: 17.0, weight: 3}, // Western Gotland dispersed\n      {minLat: 57.0, maxLat: 58.5, minLng: 20.0, maxLng: 22.0, weight: 3}, // Eastern Gotland dispersed\n      {minLat: 57.0, maxLat: 58.5, minLng: 22.0, maxLng: 24.0, weight: 3}, // Gulf of Riga dispersed\n    ];\n    \n    // Calculate total weight\n    const totalWeight = shippingLanes.reduce((sum, lane) => sum + lane.weight, 0);\n    \n    // Pick a random lane with weighting\n    let randomPoint = Math.random() * totalWeight;\n    let selectedLane = shippingLanes[0];\n    let cumulativeWeight = 0;\n    \n    for (const lane of shippingLanes) {\n      cumulativeWeight += lane.weight;\n      if (randomPoint <= cumulativeWeight) {\n        selectedLane = lane;\n        break;\n      }\n    }\n    \n    // Generate random point\n    const lng = selectedLane.minLng + Math.random() * (selectedLane.maxLng - selectedLane.minLng);\n    const lat = selectedLane.minLat + Math.random() * (selectedLane.maxLat - selectedLane.minLat);\n    \n    // Check if the generated point is in an area to avoid\n    for (const area of avoidAreas) {\n      if (lat >= area.minLat && lat <= area.maxLat && lng >= area.minLng && lng <= area.maxLng) {\n        // If in an avoid area, recursively try again (with a maximum call stack check)\n        // This ensures we don't get stuck in an infinite loop\n        if (randomCoordinate.callCount === undefined) {\n          randomCoordinate.callCount = 0;\n        }\n        \n        if (randomCoordinate.callCount < 10) {\n          randomCoordinate.callCount++;\n          const result = randomCoordinate();\n          randomCoordinate.callCount--;\n          return result;\n        } else {\n          // If we've tried too many times, just use a safe zone in the central Baltic\n          randomCoordinate.callCount = 0;\n          return [18.5 + Math.random() * 2, 56.5 + Math.random() * 2]; // Safe zone in central Baltic\n        }\n      }\n    }\n    \n    // Reset call count\n    if (randomCoordinate.callCount !== undefined) {\n      randomCoordinate.callCount = 0;\n    }\n    \n    // Return the coordinates\n    return [lng, lat];\n  };\n  \n  // Generate 300 simulated vessels with realistic properties (reduced from 1000)\n  const generateVessels = useCallback(() => {\n    const vesselTypes = ['commercial', 'military', 'fishing', 'passenger', 'tanker', 'drone'];\n    const flags = ['Finland', 'Sweden', 'Estonia', 'Latvia', 'Lithuania', 'Poland', 'Germany', 'Denmark', 'Russia'];\n    const russianOperators = ['Sovcomflot', 'Gazprom Fleet', 'Rosmorport', 'Russian Navy', 'Rosneft'];\n    const commercialOperators = ['Maersk', 'MSC', 'CMA CGM', 'Hapag-Lloyd', 'ONE', 'Evergreen', 'COSCO', \n                                'Yang Ming', 'HMM', 'Grimaldi', 'DFDS', 'Stena Line', 'Tallink', 'Viking Line'];\n    \n    // Generate vessels with better dispersal throughout the Baltic Sea\n    const generatedVessels = [];\n    const occupiedPositions = []; // Track positions to ensure better dispersal\n    const MIN_DISTANCE = 0.2; // Minimum distance between vessels in degrees (approx 10-20km)\n    \n    // Start with fewer vessels and then disperse them more effectively\n    const maxAttempts = 600; // Increase attempts to find valid positions\n    let placedVesselCount = 0;\n    \n    // Try to place vessels with appropriate spacing\n    for (let i = 1; placedVesselCount < 300 && i <= maxAttempts; i++) {\n      const initialType = vesselTypes[Math.floor(Math.random() * vesselTypes.length)];\n      // Skip drone type in regular vessel generation (we'll add them separately)\n      if (initialType === 'drone') continue;\n      \n      const flag = flags[Math.floor(Math.random() * flags.length)];\n      let isRussian = flag === 'Russia'; // Only mark as Russian if it has a Russian flag\n      \n      // If vessel has Russian flag, it's always Russian\n      // If not Russian flag but has a small chance to be operated by Russians,\n      // make it military type instead of marking as Russian\n      let vesselType = initialType;\n      \n      // All Russian flag vessels should be marked as \"Russian Ships\"\n      if (isRussian && (vesselType === 'commercial' || vesselType === 'military')) {\n        vesselType = 'russian'; // Set type to 'russian' for all Russian commercial and military vessels\n      } else if (!isRussian && Math.random() < 0.05) { // 5% chance of non-Russian flag but Russian operated\n        // These will be military vessels with Russian operators but not marked as Russian ships\n        vesselType = 'military'; \n      }\n      \n      // Get a potential position for the vessel\n      const position = randomCoordinate();\n      \n      // Skip positions that are not in Baltic Sea water\n      if (!isInBalticSeaWaters(position[1], position[0])) {\n        continue;\n      }\n      \n      // Check if this position is too close to existing vessels\n      let isTooClose = false;\n      for (const existingPos of occupiedPositions) {\n        const distance = Math.sqrt(\n          Math.pow(position[0] - existingPos[0], 2) + \n          Math.pow(position[1] - existingPos[1], 2)\n        );\n        \n        if (distance < MIN_DISTANCE) {\n          isTooClose = true;\n          break;\n        }\n      }\n      \n      // If the position is too close to other vessels, skip this attempt\n      if (isTooClose) {\n        continue;\n      }\n      \n      // If we got here, the position is good, so add it to occupied positions\n      occupiedPositions.push(position);\n      placedVesselCount++;\n      \n      // Calculate a more realistic heading based on position\n      // Ships in the Baltic generally move east-west in southern parts, and north-south in gulfs\n      let heading;\n      const vesselLat = position[1];\n      const vesselLng = position[0];\n      \n      // Baltic shipping lane direction tendencies\n      if (vesselLng < 14.0) {\n        // Danish straits and western Baltic - generally east/west traffic\n        heading = Math.random() < 0.7 ? 70 + Math.random() * 40 : 250 + Math.random() * 40;\n      } else if (vesselLng > 23.0 && vesselLat > 59.0) {\n        // Gulf of Finland - generally east/west traffic\n        heading = Math.random() < 0.5 ? 80 + Math.random() * 30 : 260 + Math.random() * 30;\n      } else if (vesselLng > 19.0 && vesselLat > 60.0) {\n        // Gulf of Bothnia - generally north/south traffic\n        heading = Math.random() < 0.5 ? 0 + Math.random() * 30 : 180 + Math.random() * 30;\n      } else if (vesselLng > 22.0 && vesselLat < 58.0 && vesselLat > 56.5) {\n        // Gulf of Riga - generally north/south traffic\n        heading = Math.random() < 0.5 ? 0 + Math.random() * 40 : 180 + Math.random() * 40;\n      } else if (vesselLat < 56.0 && vesselLng > 18.0) {\n        // Southern Baltic to Polish/Lithuanian ports\n        heading = Math.random() < 0.6 ? 140 + Math.random() * 40 : 320 + Math.random() * 40;\n      } else {\n        // Central Baltic - mixed traffic patterns\n        heading = Math.floor(Math.random() * 360);\n      }\n      \n      // Realistic speed based on vessel type and weather (assumed normal conditions)\n      let speed;\n      if (vesselType === 'commercial' || vesselType === 'tanker') {\n        speed = 10 + Math.floor(Math.random() * 8); // 10-18 knots\n      } else if (vesselType === 'passenger') {\n        speed = 15 + Math.floor(Math.random() * 10); // 15-25 knots\n      } else if (vesselType === 'military') {\n        speed = 5 + Math.floor(Math.random() * 25); // 5-30 knots (more variable)\n      } else if (vesselType === 'fishing') {\n        // Fishing vessels move slower or may be stationary when fishing\n        speed = Math.random() < 0.3 ? 0 : 5 + Math.floor(Math.random() * 7); // 0 or 5-12 knots\n      } else {\n        speed = Math.floor(Math.random() * 15) + 5; // 5-20 knots default\n      }\n      \n      // Determine vessel size\n      const length = vesselType === 'tanker' || vesselType === 'commercial' \n        ? 100 + Math.floor(Math.random() * 300) \n        : vesselType === 'military' \n          ? 50 + Math.floor(Math.random() * 200)\n          : 20 + Math.floor(Math.random() * 50);\n      \n      // Calculate gross tonnage (GT) based on vessel length and type\n      // Using simplified formula based on vessel dimensions\n      let grossTonnage;\n      if (vesselType === 'commercial' || vesselType === 'tanker') {\n        // Commercial and tanker vessels have higher GT/length ratios\n        grossTonnage = Math.round(length * length * 0.18); // Approximation\n      } else if (vesselType === 'military') {\n        // Military vessels are typically more dense but smaller\n        grossTonnage = Math.round(length * length * 0.16);\n      } else if (vesselType === 'passenger') {\n        // Passenger vessels have high volume and less dense cargo\n        grossTonnage = Math.round(length * length * 0.2);\n      } else {\n        // Fishing and other vessels\n        grossTonnage = Math.round(length * length * 0.12);\n      }\n      \n      // Determine operator - Russian military vessels might have Russian operators even with non-Russian flags\n      let operator;\n      if (isRussian || (vesselType === 'military' && !isRussian && Math.random() < 0.2)) {\n        operator = russianOperators[Math.floor(Math.random() * russianOperators.length)];\n      } else {\n        operator = commercialOperators[Math.floor(Math.random() * commercialOperators.length)];\n      }\n      \n      // Generate a realistic vessel name\n      const prefixes = isRussian ? \n        ['Admiral', 'Kapitan', 'Vostok', 'Sibir', 'Moskva', 'Sankt-Peterburg', 'Akademik'] : \n        ['Northern', 'Baltic', 'Sea', 'Atlantic', 'Pacific', 'Star', 'Pioneer'];\n      \n      const suffixes = isRussian ?\n        ['Kuznetsov', 'Nakhimov', 'Gorshkov', 'Lazarev', 'Kasatonov', 'Ustinov'] :\n        ['Adventurer', 'Explorer', 'Navigator', 'Voyager', 'Mariner', 'Trader', 'Express'];\n        \n      const shipNumbers = ['I', 'II', 'III', 'IV', 'V', '1', '2', '3', '4', '5'];\n      \n      let name;\n      if (Math.random() < 0.3) {\n        // 30% chance of having a prefix-suffix name\n        name = `${prefixes[Math.floor(Math.random() * prefixes.length)]} ${suffixes[Math.floor(Math.random() * suffixes.length)]}`;\n      } else if (Math.random() < 0.5) {\n        // 20% chance of having a name with a number\n        name = `${prefixes[Math.floor(Math.random() * prefixes.length)]} ${shipNumbers[Math.floor(Math.random() * shipNumbers.length)]}`;\n      } else {\n        // 50% chance of having a simple prefix or suffix name\n        name = Math.random() < 0.5 ? \n          prefixes[Math.floor(Math.random() * prefixes.length)] : \n          suffixes[Math.floor(Math.random() * suffixes.length)];\n      }\n      \n      if (vesselType === 'military' && isRussian) {\n        name = `RFS ${name}`; // Russian Federation Ship\n      }\n      \n      // Calculate a detection probability\n      const detectionProbability = {\n        radar: Math.random(), // 0-1, higher means more visible on radar\n        sonar: Math.random(), // 0-1, higher means more detectable by sonar\n        fused: (Math.random() + Math.random()) / 2 // average of two values for a more normal distribution\n      };\n      \n      // Generate a vessel object with all properties\n      generatedVessels.push({\n        id: placedVesselCount,\n        name,\n        type: vesselType,\n        flag,\n        isRussian,\n        position,\n        heading,\n        speed,\n        length,\n        operator,\n        detectionProbability,\n        grossTonnage\n      });\n    }\n    \n    // More evenly disperse submarines too\n    // Generate Russian submarines with special characteristics\n    const submarineNames = [\n      'Krasnodar', 'Novorossiysk', 'Rostov-on-Don', 'Stary Oskol', \n      'Velikiy Novgorod', 'Kolpino', 'Sankt Peterburg'\n    ];\n    \n    const submarineClasses = [\n      'Kilo-class', 'Kilo-class', 'Kilo-class', 'Kilo-class',\n      'Improved Kilo-class', 'Improved Kilo-class', 'Lada-class'\n    ];\n    \n    const submarineDesignations = [\n      'B-265', 'B-261', 'B-237', 'B-262', \n      'B-268', 'B-271', 'B-585'\n    ];\n    \n    // Use more strategic submarine positions\n    const submarineAreas = [\n      // Gulf of Finland approach - monitoring traffic to St. Petersburg\n      [26.2, 59.7],\n      // Near NATO naval exercise areas in central Baltic\n      [19.3, 56.8],\n      // Monitoring approach to Stockholm archipelago\n      [18.9, 58.9],\n      // Deep water between Gotland and Latvia (strategic position)\n      [20.1, 57.3],\n      // Patrolling near Kaliningrad naval base\n      [19.6, 55.2],\n      // Monitoring naval traffic near Gdańsk\n      [18.8, 54.8],\n      // Danish straits approaches - key strategic chokepoint\n      [12.8, 55.4]\n    ];\n    \n    // Add some randomness to submarine positions to avoid perfect predictability\n    const randomizedSubmarineAreas = submarineAreas.map(pos => [\n      pos[0] + (Math.random() - 0.5) * 0.5,  // Add up to ±0.25 degrees longitude\n      pos[1] + (Math.random() - 0.5) * 0.3   // Add up to ±0.15 degrees latitude\n    ]);\n    \n    // Add submarines to generated vessels\n    for (let i = 0; i < 7; i++) {\n      const position = randomizedSubmarineAreas[i];\n      \n      // Skip submarine positions that aren't in Baltic Sea water\n      if (!isInBalticSeaWaters(position[1], position[0])) {\n        // Try to find a better position by adjusting slightly\n        for (let attempt = 0; attempt < 5; attempt++) {\n          // Try adjusting position slightly to find water\n          const adjustedPosition = [\n            position[0] + (Math.random() - 0.5) * 0.5,\n            position[1] + (Math.random() - 0.5) * 0.5\n          ];\n          \n          if (isInBalticSeaWaters(adjustedPosition[1], adjustedPosition[0])) {\n            // Found a valid position\n            position[0] = adjustedPosition[0];\n            position[1] = adjustedPosition[1];\n            break;\n          }\n        }\n        \n        // If still not in water after adjustments, skip this submarine\n        if (!isInBalticSeaWaters(position[1], position[0])) {\n          continue;\n        }\n      }\n      \n      const heading = Math.floor(Math.random() * 360);\n      const speed = 5 + Math.floor(Math.random() * 10); // Submarines move slower on average\n      const depth = 20 + Math.floor(Math.random() * 180); // Depth in meters\n      \n      // Submarine detection characteristics\n      // Low radar detection when submerged, high sonar signature\n      const isSubmerged = Math.random() > 0.3; // 70% chance of being submerged\n      \n      const detectionProbability = {\n        radar: isSubmerged ? 0.05 + Math.random() * 0.1 : 0.3 + Math.random() * 0.2, // Low radar when submerged\n        sonar: 0.6 + Math.random() * 0.4, // High sonar signature\n        fused: isSubmerged ? \n          (0.05 + Math.random() * 0.1 + 0.6 + Math.random() * 0.4) / 2 : // Average when submerged\n          (0.3 + Math.random() * 0.2 + 0.6 + Math.random() * 0.4) / 2    // Average when surfaced\n      };\n      \n      generatedVessels.push({\n        id: 1001 + i, // IDs starting from 1001 for submarines\n        name: `RFS ${submarineNames[i]}`,\n        type: 'submarine',\n        class: submarineClasses[i],\n        designation: submarineDesignations[i],\n        flag: 'Russia',\n        isRussian: true,\n        position,\n        heading,\n        speed,\n        depth,\n        length: 70 + Math.floor(Math.random() * 20), // Kilo-class submarines are around 70-74m\n        isSubmerged,\n        operator: 'Russian Navy',\n        detectionProbability\n      });\n    }\n    \n    // Add Russian drones from Kaliningrad and St. Petersburg\n    const droneStartingLocations = [\n      [20.5, 54.7], // Kaliningrad\n      [30.3, 59.9]  // St. Petersburg\n    ];\n    \n    const droneNames = [\n      'Orion-E', 'Orlan-10', 'Forpost-R', 'Altius-RU', \n      'Okhotnik', 'Grom', 'Kronshtadt', 'Sirius'\n    ];\n    \n    // Generate 8 Russian drones (4 from each location)\n    for (let i = 0; i < 8; i++) {\n      const startLocation = droneStartingLocations[i % 2]; // Alternate between Kaliningrad and St. Petersburg\n      \n      // Create a drone path over the Baltic Sea\n      let position;\n      if (i % 2 === 0) { // Kaliningrad drones\n        // Move toward central/northern Baltic\n        const offsetLng = (Math.random() * 4) - 3; // -3 to 1 longitude shift\n        const offsetLat = (Math.random() * 4) + 1;  // 1 to 5 latitude shift (north)\n        position = [startLocation[0] + offsetLng, startLocation[1] + offsetLat];\n      } else { // St. Petersburg drones\n        // Move toward central/western Baltic\n        const offsetLng = (Math.random() * 6) - 8; // -8 to -2 longitude shift (west)\n        const offsetLat = (Math.random() * 3) - 1.5; // -1.5 to 1.5 latitude shift\n        position = [startLocation[0] + offsetLng, startLocation[1] + offsetLat];\n      }\n      \n      // Calculate heading based on destination (simplified)\n      const dx = position[0] - startLocation[0];\n      const dy = position[1] - startLocation[1];\n      const heading = Math.atan2(dy, dx) * (180 / Math.PI);\n      \n      // Generate the drone object\n      generatedVessels.push({\n        id: 1000 + i, // Use ID range that won't conflict with regular vessels\n        name: droneNames[i],\n        type: 'drone',\n        flag: 'Russia',\n        isRussian: true,\n        position, // Position over Baltic Sea\n        heading: heading < 0 ? heading + 360 : heading,\n        speed: 110, // 110 knots as requested\n        length: 10 + Math.floor(Math.random() * 15), // Small size (10-25 meters)\n        operator: 'Russian Military',\n        detectionProbability: {\n          radar: 0.3 + (Math.random() * 0.4), // Lower radar signature (0.3-0.7)\n          sonar: 0,  // No sonar signature for drones\n          fused: 0.3 + (Math.random() * 0.3) // Lower fused signature (0.3-0.6)\n        },\n        grossTonnage: 2 + Math.floor(Math.random() * 8) // Very small GT (2-10)\n      });\n    }\n    \n    return generatedVessels;\n  }, []);\n  \n  // Generate vessel data when component mounts\n  useEffect(() => {\n    const simulatedVessels = generateVessels();\n    \n    // Process vessels - convert non-Russian flag but marked as Russian to military type\n    // Also ensure any vessel with a Russian flag is properly marked as Russian\n    const processedVessels = simulatedVessels.map(vessel => {\n      // First case: Non-Russian flag but marked as Russian - convert to military\n      if (vessel.isRussian && vessel.flag !== 'Russia' && vessel.type !== 'submarine' && vessel.type !== 'drone') {\n        return {\n          ...vessel,\n          isRussian: false, // Remove Russian designation\n          type: 'military', // Change to military type\n          operator: vessel.operator // Keep the operator (which might be Russian)\n        };\n      }\n      \n      // Second case: Russian flag but not marked as Russian - ensure it's marked as Russian\n      // This applies to all vessels with Russian flag, especially commercial and military\n      if (vessel.flag === 'Russia' && !vessel.isRussian) {\n        return {\n          ...vessel,\n          isRussian: true // Ensure it's properly marked as Russian\n        };\n      }\n      \n      return vessel;\n    });\n    \n    setVessels(processedVessels);\n  }, [generateVessels]);\n  \n  // Update vessel positions based on speed and heading\n  const updateVesselPositions = useCallback(() => {\n    if (!simulationEnabled) return;\n    \n    const currentTime = Date.now();\n    const deltaTime = (currentTime - lastUpdateTimeRef.current) / 1000; // Convert ms to seconds\n    lastUpdateTimeRef.current = currentTime;\n    \n    // Apply speed multiplier to deltaTime\n    const adjustedDeltaTime = deltaTime * simulationSpeed;\n    \n    // Skip if delta time is too large (e.g., browser tab was inactive)\n    if (adjustedDeltaTime > 5) return;\n    \n    setVessels(prevVessels => {\n      return prevVessels.map(vessel => {\n        // Skip stationary vessels\n        if (vessel.speed === 0) return vessel;\n        \n        // Special handling for drones - higher altitude allows more direct movement\n        if (vessel.type === 'drone') {\n          // Ensure drones always have at least a minimum speed\n          const droneSpeed = Math.max(5, vessel.speed);\n          \n          // Convert knots to degrees per second - drones can move faster over land\n          const droneLatAdjustment = Math.cos(vessel.position[1] * Math.PI / 180);\n          const droneLngChange = droneSpeed * 0.0003 * adjustedDeltaTime / droneLatAdjustment;\n          const droneLatChange = droneSpeed * 0.0003 * adjustedDeltaTime;\n          \n          // Calculate new position based on heading\n          const droneHeadingRad = vessel.heading * Math.PI / 180;\n          const droneNewLng = vessel.position[0] + (droneLngChange * Math.sin(droneHeadingRad));\n          const droneNewLat = vessel.position[1] + (droneLatChange * Math.cos(droneHeadingRad));\n          \n          // Drones have different movement patterns - they patrol or move with purpose\n          let newHeading = vessel.heading;\n          \n          // Drones should change heading more frequently to avoid getting stuck\n          if (Math.random() < 0.08 * adjustedDeltaTime) {\n            // Drones make sharper turns (up to +/- 45 degrees)\n            newHeading = (vessel.heading + (Math.random() * 90 - 45)) % 360;\n            if (newHeading < 0) newHeading += 360;\n          }\n          \n          // Check if drone is going too far from Baltic Sea - if so, turn back\n          const isTooFarNorth = droneNewLat > 65.0;\n          const isTooFarSouth = droneNewLat < 54.0;\n          const isTooFarEast = droneNewLng > 30.0;\n          const isTooFarWest = droneNewLng < 10.0;\n          \n          // Define areas to avoid (major land masses)\n          const avoidAreas = [\n            // Sweden mainland\n            {minLat: 55.3, maxLat: 63.0, minLng: 11.5, maxLng: 17.0},\n            // Finland mainland\n            {minLat: 60.0, maxLat: 65.5, minLng: 21.0, maxLng: 30.0},\n            // Estonia/Latvia/Lithuania mainland\n            {minLat: 56.0, maxLat: 59.5, minLng: 23.0, maxLng: 28.0},\n            // Poland mainland\n            {minLat: 53.5, maxLat: 54.8, minLng: 14.5, maxLng: 19.5},\n            // Denmark mainland\n            {minLat: 54.5, maxLat: 57.8, minLng: 8.0, maxLng: 12.5}\n          ];\n          \n          // Check if drone is over major land area\n          let isOverLand = false;\n          for (const area of avoidAreas) {\n            if (droneNewLat >= area.minLat && droneNewLat <= area.maxLat && \n                droneNewLng >= area.minLng && droneNewLng <= area.maxLng) {\n              isOverLand = true;\n              break;\n            }\n          }\n          \n          if (isTooFarNorth || isTooFarSouth || isTooFarEast || isTooFarWest || isOverLand) {\n            // Calculate heading toward Baltic Sea center\n            const centerLat = 58.0;\n            const centerLng = 19.0;\n            newHeading = Math.atan2(centerLng - vessel.position[0], centerLat - vessel.position[1]) * 180 / Math.PI;\n            if (newHeading < 0) newHeading += 360;\n            \n            // Add randomness to avoid getting stuck in a pattern\n            newHeading = (newHeading + (Math.random() * 40 - 20)) % 360;\n            if (newHeading < 0) newHeading += 360;\n            \n            // Make a more significant course correction if over land or outside boundaries\n            return {\n              ...vessel,\n              heading: newHeading,\n              speed: Math.max(10, vessel.speed) // Ensure drones have good speed to escape land\n            };\n          }\n          \n          // Ensure drones stay roughly within Baltic Sea region\n          return {\n            ...vessel,\n            position: [droneNewLng, droneNewLat],\n            heading: newHeading,\n            speed: droneSpeed // Maintain the minimum speed requirement\n          };\n        }\n        \n        // Regular vessel movement (non-drone) - original code\n        // Convert knots to degrees per second\n        // 1 knot ≈ 0.0003 degrees of longitude at the equator per second\n        // Adjust for latitude (narrower longitude degrees at higher latitudes)\n        const latitudeAdjustment = Math.cos(vessel.position[1] * Math.PI / 180);\n        const longitudeChange = vessel.speed * 0.0003 * adjustedDeltaTime / latitudeAdjustment;\n        const latitudeChange = vessel.speed * 0.0003 * adjustedDeltaTime;\n        \n        // Calculate new position based on heading\n        const headingRad = vessel.heading * Math.PI / 180;\n        const newLng = vessel.position[0] + (longitudeChange * Math.sin(headingRad));\n        const newLat = vessel.position[1] + (latitudeChange * Math.cos(headingRad));\n        \n        // Enhanced boundary checking to keep vessels within the actual Baltic Sea water\n        if (!isInBalticSeaWaters(newLat, newLng)) {\n          // If would move onto land or out of bounds, adjust heading to turn back toward deeper water\n          // Use a more detailed approach to find the right direction\n          \n          // Try finding a better direction by checking multiple angles\n          let bestHeading = vessel.heading;\n          let foundBetterDirection = false;\n          \n          // Check 8 directions around to find waters\n          for (let angleOffset = 0; angleOffset < 360; angleOffset += 45) {\n            const testHeading = (vessel.heading + angleOffset) % 360;\n            const testRad = testHeading * Math.PI / 180;\n            \n            // Check a position further out in this direction\n            const testLng = vessel.position[0] + (longitudeChange * 5 * Math.sin(testRad));\n            const testLat = vessel.position[1] + (latitudeChange * 5 * Math.cos(testRad));\n            \n            if (isInBalticSeaWaters(testLat, testLng)) {\n              bestHeading = testHeading;\n              foundBetterDirection = true;\n              break;\n            }\n          }\n          \n          // If no good direction found, head toward the Baltic center\n          if (!foundBetterDirection) {\n            const centerLat = 58.5; // More centered in the main Baltic basin\n            const centerLng = 20;   // Adjusted to be in deeper waters\n            const angleToCenter = Math.atan2(centerLng - vessel.position[0], centerLat - vessel.position[1]) * 180 / Math.PI;\n            \n            // Turn gradually toward the center\n            const headingDiff = ((angleToCenter - vessel.heading + 540) % 360) - 180;\n            bestHeading = (vessel.heading + Math.sign(headingDiff) * 45) % 360;\n            if (bestHeading < 0) bestHeading += 360;\n          }\n          \n          // Slow down near boundaries\n          const reducedSpeed = Math.max(1, vessel.speed * 0.5);\n          \n          return {\n            ...vessel,\n            heading: bestHeading,\n            speed: reducedSpeed // Temporarily reduce speed when changing course\n          };\n        }\n        \n        // For military and submarine vessels, randomly change heading occasionally\n        let newHeading = vessel.heading;\n        const originalSpeed = vessel.speed;\n        let newSpeed = originalSpeed;\n        \n        if ((vessel.type === 'military' || vessel.type === 'submarine') && Math.random() < 0.01 * adjustedDeltaTime) {\n          // Change heading by up to +/- 30 degrees\n          newHeading = (vessel.heading + (Math.random() * 60 - 30)) % 360;\n          if (newHeading < 0) newHeading += 360;\n          \n          // Military vessels might change speed during maneuvers\n          if (Math.random() < 0.3) {\n            const speedFactor = 0.7 + Math.random() * 0.6; // 70-130% of current speed\n            newSpeed = Math.max(1, Math.min(30, originalSpeed * speedFactor));\n          }\n        }\n        // Smaller random heading changes for other vessels to simulate realistic movement\n        else if (Math.random() < 0.005 * adjustedDeltaTime) {\n          // Change heading by up to +/- 10 degrees\n          newHeading = (vessel.heading + (Math.random() * 20 - 10)) % 360;\n          if (newHeading < 0) newHeading += 360;\n        }\n        \n        // Final position check - ensure vessel doesn't go on land even after all other checks\n        const finalLng = newLng;\n        const finalLat = newLat;\n        \n        // If vessel would end up on land, don't update position but keep the heading change\n        if (!isInBalticSeaWaters(finalLat, finalLng)) {\n          return {\n            ...vessel,\n            heading: newHeading,\n            speed: newSpeed\n          };\n        }\n        \n        // Special check for Swedish coastline (which seems particularly problematic)\n        // These bounds roughly define the Swedish coastline area\n        const isNearSwedishCoast = (\n          (finalLat >= 55.0 && finalLat <= 60.0 && finalLng >= 12.0 && finalLng <= 19.0) &&\n          // Distance to coast is small\n          ((finalLng >= 12.0 && finalLng <= 14.0) || // Western coast\n           (finalLat >= 58.0 && finalLat <= 60.0 && finalLng >= 16.5 && finalLng <= 19.0) || // Stockholm area\n           (finalLat >= 56.0 && finalLat <= 58.0 && finalLng >= 15.5 && finalLng <= 17.0)) // Eastern coast\n        );\n        \n        // For vessels near Swedish coast, make extra check by testing multiple points\n        if (isNearSwedishCoast && Math.random() < 0.7) { // 70% extra caution near Swedish coast\n          const currentPos = vessel.position;\n          const distance = Math.sqrt(\n            Math.pow(finalLng - currentPos[0], 2) + \n            Math.pow(finalLat - currentPos[1], 2)\n          );\n          \n          // If making a significant move near Swedish coast, stay put instead of risking land\n          if (distance > 0.02) {\n            return {\n              ...vessel,\n              heading: newHeading,\n              speed: Math.max(1, newSpeed * 0.5) // Reduce speed near coast\n            };\n          }\n        }\n        \n        return {\n          ...vessel,\n          position: [finalLng, finalLat],\n          heading: newHeading,\n          speed: newSpeed\n        };\n      });\n    });\n    \n    // Request next animation frame\n    animationFrameRef.current = requestAnimationFrame(updateVesselPositions);\n  }, [simulationEnabled, simulationSpeed]);\n  \n  // Function to check if a point is in Baltic Sea waters\n  // This is a more precise check than just the bounding box\n  const isInBalticSeaWaters = useCallback((lat, lng) => {\n    // First check overall bounds\n    if (lat < 54.0 || lat > 66.0 || lng < 9.0 || lng > 30.0) {\n      return false;\n    }\n    \n    // Define areas that are land (to be avoided)\n    // Format: [south, north, west, east]\n    const landAreas = [\n      // Southern Sweden - expanded and more precise with additional coverage\n      [55.0, 59.5, 12.5, 16.0],\n      // Southern Sweden - additional western coast coverage\n      [56.0, 58.8, 11.5, 13.0],\n      // Stockholm archipelago area - more precise\n      [59.0, 60.0, 17.0, 19.2],\n      // Sweden central eastern coast - additional coverage\n      [58.0, 59.5, 16.0, 17.8],\n      // Northern Sweden - Gulf of Bothnia coastline\n      [60.0, 63.0, 17.0, 19.5],\n      // Northern Sweden - upper Gulf of Bothnia\n      [63.0, 65.5, 17.0, 22.0],\n      // Northern Sweden - northwestern area\n      [64.0, 66.0, 15.0, 17.0],\n      // Finland - expanded\n      [59.7, 65.5, 21.0, 30.0],\n      // Estonia - expanded\n      [57.5, 59.7, 22.8, 28.5],\n      // Latvia/Lithuania coast - expanded\n      [55.5, 57.5, 20.8, 28.0],\n      // Poland inland - expanded\n      [54.0, 55.5, 14.8, 19.8],\n      // Germany/Denmark inland - expanded\n      [54.0, 56.5, 9.0, 12.0],\n      // Gotland - more precise\n      [56.8, 58.0, 18.0, 19.2],\n      // Åland Islands - expanded\n      [59.7, 60.5, 19.3, 21.3],\n      // Bornholm - more precise\n      [54.9, 55.3, 14.7, 15.2],\n      // Öland\n      [56.1, 57.5, 16.3, 17.1],\n      // Rügen\n      [54.2, 54.7, 13.0, 13.6],\n      // Saaremaa\n      [57.8, 58.7, 21.7, 23.0],\n      // Hiiumaa\n      [58.7, 59.1, 22.0, 23.0],\n      // Inland lakes in Finland\n      [61.0, 63.0, 25.0, 30.0],\n      // Kaliningrad and surrounding area\n      [54.3, 55.3, 19.6, 22.5]\n    ];\n    \n    // Define key shipping channels and deep waters (preferred areas)\n    // Format: [south, north, west, east, weight]\n    const shippingChannels = [\n      // Main Baltic basin\n      [55.5, 59.0, 16.5, 22.0, 10],\n      // Gulf of Finland shipping lane\n      [59.3, 60.2, 22.5, 28.0, 8],\n      // Approach to Stockholm\n      [58.7, 59.5, 17.5, 19.5, 6],\n      // Approach to Riga\n      [56.8, 58.0, 22.5, 24.5, 6],\n      // Approach to Helsinki/Tallinn\n      [59.2, 59.9, 24.0, 25.5, 8],\n      // Western Baltic shipping lane\n      [54.5, 56.0, 12.0, 15.0, 8],\n      // Kattegat\n      [56.0, 57.5, 10.5, 12.0, 6],\n      // Gulf of Bothnia\n      [60.5, 63.5, 18.5, 21.5, 5],\n      // Central Baltic - expanded to cover more water\n      [56.0, 59.0, 17.5, 21.0, 10],\n      // Southern Baltic - expanded\n      [54.5, 56.5, 15.0, 19.0, 8]\n    ];\n    \n    // Check if point is in a land area - more strict checking\n    for (const [south, north, west, east] of landAreas) {\n      if (lat >= south && lat <= north && lng >= west && lng <= east) {\n        // Further check for complex coastlines\n        // This is a very simplified approach - we add some randomness \n        // to prevent vessels from getting stuck at sharp boundary transitions\n        \n        // If near the edge of a land area, there's a small chance to still consider it water\n        // This helps vessels navigate around complex coastlines without getting stuck\n        const distanceFromEdge = Math.min(\n          Math.abs(lat - south),\n          Math.abs(lat - north),\n          Math.abs(lng - west),\n          Math.abs(lng - east)\n        );\n        \n        // Very close to edge - might be a complex coastline\n        if (distanceFromEdge < 0.1) {\n          // 15% chance to consider it water if very close to edge (reduced from 20%)\n          // This randomness helps prevent getting stuck at boundaries\n          return Math.random() < 0.15;\n        }\n        \n        return false; // It's in a land area\n      }\n    }\n\n    // Check if in a preferred shipping channel\n    for (const [south, north, west, east] of shippingChannels) {\n      if (lat >= south && lat <= north && lng >= west && lng <= east) {\n        return true; // In a shipping channel - definitely good\n      }\n    }\n    \n    // For areas not explicitly defined, use the following general rules\n    \n    // Avoid shallow coastal waters (simplified approach)\n    // These are general buffer zones around landmasses\n    const coastalBuffers = [\n      // Swedish coast buffer - expanded\n      [55.0, 59.5, 14.8, 16.5],\n      // Swedish west coast buffer\n      [56.0, 58.8, 11.0, 12.2],\n      // Swedish eastern coastline\n      [58.0, 59.5, 16.0, 17.0],\n      // Northern Sweden - Gulf of Bothnia western coast\n      [60.0, 63.0, 19.0, 20.0],\n      // Northern Sweden - upper coast\n      [63.0, 65.5, 19.5, 22.5],\n      // Finnish coast buffer\n      [59.7, 65.5, 20.0, 21.5],\n      // Estonian coast buffer\n      [57.5, 59.7, 22.0, 23.0],\n      // Latvian/Lithuanian coast buffer\n      [55.5, 57.5, 19.5, 21.5],\n      // Polish coast buffer\n      [54.0, 55.5, 14.0, 15.5],\n      // German/Danish coast buffer\n      [54.0, 56.0, 12.0, 13.0]\n    ];\n    \n    // Check coastal buffers with higher probability of rejection\n    for (const [south, north, west, east] of coastalBuffers) {\n      if (lat >= south && lat <= north && lng >= west && lng <= east) {\n        // 80% chance to consider coastal buffers as land (increased from 70%)\n        return Math.random() > 0.8;\n      }\n    }\n    \n    // Special check for Swedish coastal waters - these are problematic\n    const swedishProblemAreas = [\n      // Stockholm archipelago approaches\n      [58.8, 59.5, 17.5, 19.0],\n      // Swedish eastern coastline near Öland\n      [56.5, 57.5, 16.0, 16.8],\n      // Swedish western approaches\n      [57.0, 58.5, 11.2, 12.5],\n      // Northern Sweden Gulf of Bothnia western coast\n      [60.0, 63.0, 18.5, 20.0],\n      // Northern Sweden - northeastern area\n      [63.0, 65.0, 19.0, 22.0]\n    ];\n    \n    // Higher rejection rate specifically for Swedish coastal waters\n    for (const [south, north, west, east] of swedishProblemAreas) {\n      if (lat >= south && lat <= north && lng >= west && lng <= east) {\n        // 90% chance to reject - very strict for Swedish waters\n        return Math.random() > 0.9;\n      }\n    }\n    \n    // Additional check for enclosed bays and lakes\n    // Define problematic enclosed areas (small bays, inlets, etc.)\n    const problematicAreas = [\n      // Finnish inland lake areas \n      [60.7, 62.5, 23.0, 29.0],\n      // Swedish lake areas\n      [58.5, 59.5, 14.0, 16.0],\n      // Various small bays and inlets\n      [57.2, 57.6, 16.8, 17.2], // Near Öland\n      [60.0, 60.2, 24.8, 25.2], // Helsinki area\n      [58.8, 59.0, 17.5, 18.0], // Stockholm archipelago\n      [58.1, 58.5, 11.5, 12.0]  // Skagerrak entrance\n    ];\n    \n    // Higher chance to reject problematic areas\n    for (const [south, north, west, east] of problematicAreas) {\n      if (lat >= south && lat <= north && lng >= west && lng <= east) {\n        // 60% chance to reject\n        return Math.random() > 0.6;\n      }\n    }\n    \n    // Explicitly define major lakes to avoid them completely\n    const majorLakes = [\n      // Swedish lakes\n      [58.0, 59.3, 12.3, 14.0], // Vänern\n      [57.7, 58.7, 14.0, 14.8], // Vättern\n      [59.1, 59.7, 15.8, 18.0], // Mälaren\n      [56.9, 57.5, 13.4, 14.8], // Southern Swedish lakes\n      [56.8, 57.2, 14.4, 15.2], // Åsnen and nearby lakes\n      \n      // Finnish lakes\n      [61.0, 62.3, 24.5, 26.4], // Päijänne and nearby\n      [61.3, 63.1, 26.5, 29.0], // Saimaa system\n      [62.0, 63.7, 23.0, 24.5], // Western Finnish lakes\n      [61.5, 62.2, 28.5, 29.8], // Eastern Finnish lakes\n      [60.3, 60.8, 23.5, 25.0], // Southern Finnish lakes\n      \n      // Russian lakes\n      [60.0, 61.8, 29.2, 32.0], // Ladoga\n      [60.0, 60.8, 27.4, 29.0], // Eastern Gulf of Finland lakes\n      [57.8, 59.0, 26.5, 28.5], // Peipus\n      \n      // Other inland waters\n      [54.1, 54.7, 17.8, 18.7], // Polish lakes\n      [53.5, 54.3, 12.0, 14.0], // German lakes\n      [53.8, 55.0, 10.2, 11.0], // Danish inland waters\n      [55.5, 56.5, 9.5, 10.2]   // Limfjord area\n    ];\n    \n    // Strict rejection of major lakes - almost never allow vessels here\n    for (const [south, north, west, east] of majorLakes) {\n      if (lat >= south && lat <= north && lng >= west && lng <= east) {\n        // 99.5% chance to consider these as land - essentially never allow vessels in lakes\n        return Math.random() > 0.995;\n      }\n    }\n    \n    // Known safe water zones - replaced with enhanced version\n    const safeWaterZones = [\n      // Central Baltic open water\n      [56.5, 58.5, 18.0, 21.0],\n      // Eastern Baltic open water\n      [57.0, 59.0, 20.0, 22.0],\n      // Western Baltic open water\n      [55.0, 56.5, 13.0, 15.0],\n      // Southern Baltic deep water\n      [54.5, 55.5, 16.0, 18.5],\n      // Gulf of Finland central channel\n      [59.4, 60.0, 23.0, 27.0],\n      // Gulf of Bothnia southern part - central channel\n      [60.5, 62.5, 20.0, 21.0],\n      // Gulf of Bothnia central part - central channel\n      [62.5, 64.0, 20.2, 21.2],\n      // Gulf of Bothnia northern part - central channel\n      [64.0, 65.0, 21.5, 22.5]\n    ];\n    \n    // If in a known safe water zone, it's definitely water\n    for (const [south, north, west, east] of safeWaterZones) {\n      if (lat >= south && lat <= north && lng >= west && lng <= east) {\n        return true;\n      }\n    }\n    \n    // Special check for northern Gulf of Bothnia - narrower channel\n    if (lat >= 63.0 && lat <= 65.5 && lng >= 20.0 && lng <= 22.0) {\n      // In the narrower northern part of Gulf of Bothnia, be more restrictive\n      // Only consider central waters as safe (within 0.3° from center line)\n      const centerLng = 21.0;\n      const distanceFromCenter = Math.abs(lng - centerLng);\n      \n      if (distanceFromCenter < 0.3) {\n        return true; // Central channel\n      } else if (distanceFromCenter < 0.5) {\n        // In the transition zone, random chance to allow\n        return Math.random() > 0.7;\n      } else {\n        // Too close to shore\n        return Math.random() > 0.95; // Very small chance to consider as water\n      }\n    }\n    \n    // If we got here, it's probably in open water\n    return true;\n  }, []);\n  \n  // Start/stop vessel position updates when simulation state changes\n  useEffect(() => {\n    if (simulationEnabled) {\n      lastUpdateTimeRef.current = Date.now();\n      animationFrameRef.current = requestAnimationFrame(updateVesselPositions);\n    } else if (animationFrameRef.current) {\n      cancelAnimationFrame(animationFrameRef.current);\n    }\n    \n    // Cleanup when component unmounts\n    return () => {\n      if (animationFrameRef.current) {\n        cancelAnimationFrame(animationFrameRef.current);\n      }\n    };\n  }, [simulationEnabled, updateVesselPositions]);\n  \n  // Function to check if an item is in the current map bounds\n  const isInMapBounds = useCallback((lat, lng) => {\n    if (!mapBounds) return true; // If no bounds yet, show everything\n    \n    // Add buffer to avoid popping at edges\n    const buffer = 0.5; // Buffer in degrees\n    \n    return (\n      lat >= mapBounds.south - buffer &&\n      lat <= mapBounds.north + buffer &&\n      lng >= mapBounds.west - buffer &&\n      lng <= mapBounds.east + buffer\n    );\n  }, [mapBounds]);\n  \n  // Function to render vessels based on the display mode and zoom level\n  const renderVessels = useCallback(() => {\n    // Use zoom level to determine detail level\n    const isHighDetail = currentZoom >= 8;\n    const isMediumDetail = currentZoom >= 6 && currentZoom < 8;\n    const isLowDetail = currentZoom < 6;\n    \n    // Filter vessels based on current filters and map bounds\n    const filteredVessels = vessels.filter(v => {\n      // Apply user filters - if 'all' is selected or any specific filter matches\n      let matchesFilter = filters.all;\n      \n      if (!matchesFilter) {\n        if (filters.commercial && v.type === 'commercial') matchesFilter = true;\n        if (filters.military && v.type === 'military') matchesFilter = true;\n        if (filters.submarine && v.type === 'submarine') matchesFilter = true;\n        if (filters.drone && v.type === 'drone') matchesFilter = true;\n        // Show Russian ships except submarines and drones when \"Russian Ships\" is toggled\n        if (filters.russian && v.isRussian && v.type !== 'submarine' && v.type !== 'drone') matchesFilter = true;\n      }\n      \n      // Then check if in current map bounds\n      const inBounds = isInMapBounds(v.position[1], v.position[0]);\n      \n      return matchesFilter && inBounds;\n    });\n    \n    // Create vessel markers\n    return filteredVessels.map(vessel => {\n      // Convert vessel position to LatLng\n      const position = { lat: vessel.position[1], lng: vessel.position[0] };\n      const isSelected = selectedVessel?.id === vessel.id;\n      \n      // Define icon and visualization based on display mode and zoom level\n      let iconProps = {};\n      let circleProps = { radius: 0 };\n    \n      switch(displayMode) {\n        case 'radar':\n          // Radar mode - shows vessels as dots with direction indicators\n          const radarOpacity = vessel.type === 'submarine' && vessel.isSubmerged ? \n            0.1 + vessel.detectionProbability.radar * 0.2 : \n            0.3 + vessel.detectionProbability.radar * 0.7;\n          \n          const radarScale = vessel.type === 'submarine' ? \n            vessel.isSubmerged ? 0.5 : 0.8 : \n            Math.max(0.6, Math.min(1.2, 0.6 + vessel.length / 300));\n          \n          // Special color for drones - bright red\n          const radarColor = vessel.type === 'drone' ? \n            'rgb(255, 50, 50)' : \n            vessel.type === 'submarine' ? \n              'rgb(255, 0, 0)' : \n              vessel.isRussian ? 'rgb(231, 76, 60)' : 'rgb(52, 152, 219)';\n          \n          // Special handling for Russian submarines with oval shape and double size\n          if (vessel.type === 'submarine' && vessel.isRussian) {\n            // Reduce the size to a third of the previous size\n            iconProps = {\n              path: \"M -5,0 a 5,2.5 0 1,0 10,0 a 5,2.5 0 1,0 -10,0\", // Oval shape (reduced to 1/3 size)\n              fillColor: 'rgb(255, 0, 0)',\n              fillOpacity: 0.8,\n              strokeColor: '#FFFFFF',\n              strokeWeight: 1,\n              rotation: vessel.speed > 1 ? vessel.heading : 0, // Only rotate if speed > 1 knot\n              scale: 1,\n              anchor: new window.google.maps.Point(0, 0),\n            };\n          } \n          else if (isLowDetail) {\n            // Simple dots for low detail level\n            if (vessel.type === 'drone') {\n              // Special drone icon at low zoom - rhombus shape\n              iconProps = {\n                path: 'M 0,-4 8,0 0,10 -8,0 z', // Rhombus shape (stretched diamond)\n                fillColor: radarColor,\n                fillOpacity: 0.9, // More visible\n                strokeColor: '#FFFFFF',\n                strokeWeight: 1,\n                scale: 0.8,\n                rotation: vessel.heading,\n                anchor: new window.google.maps.Point(0, 0),\n              };\n            } else {\n              // Determine scale - increase Russian ships and submarines by 50%\n              let baseScale = vessel.type === 'submarine' ? 3 : 2;\n              // Apply 50% size increase for Russian ships and submarines\n              if (vessel.isRussian || vessel.type === 'submarine') {\n                baseScale *= 1.5;\n              }\n              \n              iconProps = {\n                path: window.google.maps.SymbolPath.CIRCLE,\n                fillColor: radarColor,\n                fillOpacity: radarOpacity,\n                strokeColor: '#FFFFFF',\n                strokeWeight: 1,\n                scale: baseScale,\n                anchor: new window.google.maps.Point(0, 0),\n              };\n            }\n          } else if (isMediumDetail) {\n            // Simplified arrow for medium detail\n            if (vessel.type === 'drone') {\n              // Custom drone icon for medium zoom\n              iconProps = {\n                path: 'M 0,-5 10,0 0,12 -10,0 z', // Rhombus shape (stretched diamond)\n                fillColor: radarColor,\n                fillOpacity: 0.9,\n                strokeColor: '#FFFFFF',\n                strokeWeight: 1,\n                rotation: vessel.heading,\n                scale: 0.9,\n                anchor: new window.google.maps.Point(0, 0),\n              };\n            } else {\n              // Increase arrow size for Russian ships and submarines by 50%\n              let sizeMultiplier = (vessel.isRussian || vessel.type === 'submarine') ? 1.5 : 1.0;\n              const arrowSize = radarScale * 4 * sizeMultiplier;\n              \n              iconProps = {\n                path: `M 0,-${arrowSize} L ${arrowSize/2},${arrowSize} L -${arrowSize/2},${arrowSize} Z`, // Simpler arrow shape\n                fillColor: radarColor,\n                fillOpacity: radarOpacity,\n                strokeColor: '#FFFFFF',\n                strokeWeight: 1,\n                rotation: vessel.speed > 1 ? vessel.heading : 0, // Only rotate if speed > 1 knot\n                scale: 1,\n                anchor: new window.google.maps.Point(0, 0),\n              };\n            }\n          } else {\n            // Full detail for high zoom levels\n            if (vessel.type === 'drone') {\n              // Detailed drone icon for high zoom\n              iconProps = {\n                path: 'M 0,-6 12,0 0,15 -12,0 z', // Rhombus shape (stretched diamond)\n                fillColor: radarColor,\n                fillOpacity: 0.9,\n                strokeColor: '#FFFFFF',\n                strokeWeight: 1.5,\n                rotation: vessel.heading,\n                scale: 1,\n                anchor: new window.google.maps.Point(0, 0),\n              };\n              \n              // Add a small \"drone trail\" circle for high detail\n              const trailRadius = 300; // 300m trail\n              circleProps = {\n                radius: trailRadius,\n                options: {\n                  fillColor: radarColor,\n                  fillOpacity: 0.1,\n                  strokeColor: radarColor,\n                  strokeOpacity: 0.3,\n                  strokeWeight: 1,\n                }\n              };\n            } else {\n              // Increase arrow size for Russian ships and submarines by 50%\n              let sizeMultiplier = (vessel.isRussian || vessel.type === 'submarine') ? 1.5 : 1.0;\n              const arrowSize = radarScale * 5 * sizeMultiplier;\n              \n              iconProps = {\n                path: `M 0,-${arrowSize} L ${arrowSize/2},${arrowSize} L 0,${arrowSize/2} L -${arrowSize/2},${arrowSize} Z`, // Arrow shape\n                fillColor: radarColor,\n                fillOpacity: radarOpacity,\n                strokeColor: '#FFFFFF',\n                strokeWeight: 1,\n                rotation: vessel.speed > 1 ? vessel.heading : 0, // Only rotate if speed > 1 knot\n                scale: 1,\n                anchor: new window.google.maps.Point(0, 0),\n              };\n            }\n          }\n          break;\n          \n        default:\n          // Default to radar mode with arrow icon\n          const defaultSize = vessel.type === 'submarine' || vessel.isRussian ? 7.5 : 5; // 50% increase for Russian ships and submarines\n          iconProps = {\n            path: `M 0,-${defaultSize} L ${defaultSize/2},${defaultSize} L 0,${defaultSize/2} L -${defaultSize/2},${defaultSize} Z`, // Arrow shape\n            fillColor: '#FFFFFF',\n            fillOpacity: 0.8,\n            strokeColor: '#000000',\n            strokeWeight: 1,\n            rotation: vessel.speed > 1 ? vessel.heading : 0, // Only rotate if speed > 1 knot\n            scale: 1,\n            anchor: new window.google.maps.Point(0, 0),\n          };\n          break;\n      }\n\n      return (\n        <React.Fragment key={vessel.id}>\n          <MemoizedMarker\n            position={position}\n            icon={iconProps}\n            onClick={(e) => {\n              // Prevent event propagation to the map\n              if (e && e.domEvent) {\n                e.domEvent.stopPropagation();\n              }\n              \n              // Don't immediately close the tooltip if we're clicking on a vessel\n              e && e.stop && e.stop();\n              \n              // Log complete vessel data for debugging\n              console.log(\"Vessel clicked - Raw data:\", JSON.stringify(vessel));\n              \n              // Create a complete copy of the vessel to ensure React detects the state change\n              const vesselCopy = JSON.parse(JSON.stringify(vessel));\n              \n              // Immediately set selected vessel without delay\n              setSelectedVessel(vesselCopy);\n            }}\n            zIndex={isSelected ? 1000 : vessel.type === 'submarine' ? 500 : 100}\n          />\n          \n          \n          {circleProps.radius > 0 && (\n            <MemoizedCircle\n              center={position}\n              radius={circleProps.radius}\n              options={circleProps.options}\n            />\n          )}\n          \n          {vessel.type === 'submarine' && vessel.isSubmerged && isHighDetail && (\n            <MemoizedMarker\n              position={{\n                lat: position.lat + 0.03,\n                lng: position.lng + 0.03\n              }}\n              label={{\n                text: `${vessel.depth}m`,\n                color: '#FFFFFF',\n                fontSize: '8px',\n                fontWeight: 'bold'\n              }}\n              icon={{\n                path: 0, // CIRCLE\n                scale: 0,\n                fillOpacity: 0,\n                strokeOpacity: 0\n              }}\n            />\n          )}\n        </React.Fragment>\n      );\n    });\n  }, [vessels, filters, isInMapBounds, displayMode, currentZoom, selectedVessel]);\n  \n  // Baltic Sea wind farm data - expanded with EMODnet data\n  const windFarmsData = [\n    // Denmark\n    { \n      name: \"Kriegers Flak\", \n      country: \"Denmark\", \n      capacity: 604, \n      lat: 54.9833, \n      lng: 13.0333, \n      status: \"operational\",\n      turbines: 72,\n      area: 132, // km²\n      areaPoints: [\n        {lat: 54.9633, lng: 13.0133},\n        {lat: 54.9733, lng: 13.0533},\n        {lat: 55.0033, lng: 13.0533},\n        {lat: 55.0033, lng: 13.0133},\n        {lat: 54.9833, lng: 12.9933},\n        {lat: 54.9633, lng: 13.0133}\n      ]\n    },\n    { \n      name: \"Middelgrunden\", \n      country: \"Denmark\", \n      capacity: 40, \n      lat: 55.6853, \n      lng: 12.6913, \n      status: \"operational\",\n      turbines: 20,\n      area: 4, // km²\n      areaPoints: [\n        {lat: 55.6903, lng: 12.6813},\n        {lat: 55.6903, lng: 12.7013},\n        {lat: 55.6803, lng: 12.7013},\n        {lat: 55.6803, lng: 12.6813},\n        {lat: 55.6903, lng: 12.6813}\n      ]\n    },\n    { \n      name: \"Rødsand I\", \n      country: \"Denmark\", \n      capacity: 166, \n      lat: 54.5508, \n      lng: 11.7083, \n      status: \"operational\",\n      turbines: 72,\n      area: 35, // km²\n      areaPoints: [\n        {lat: 54.5408, lng: 11.6883},\n        {lat: 54.5408, lng: 11.7283},\n        {lat: 54.5608, lng: 11.7283},\n        {lat: 54.5608, lng: 11.6883},\n        {lat: 54.5408, lng: 11.6883}\n      ]\n    },\n    { name: \"Rødsand II\", country: \"Denmark\", capacity: 207, lat: 54.5580, lng: 11.6170, status: \"operational\", turbines: 90, area: 40 },\n    { name: \"Anholt\", country: \"Denmark\", capacity: 400, lat: 56.6000, lng: 11.2097, status: \"operational\", turbines: 111, area: 88 },\n    { name: \"Sprogø\", country: \"Denmark\", capacity: 21, lat: 55.3414, lng: 10.9767, status: \"operational\", turbines: 7, area: 6 },\n    { name: \"Samsø\", country: \"Denmark\", capacity: 23, lat: 55.7194, lng: 10.5639, status: \"operational\", turbines: 10, area: 5 },\n    \n    // Sweden\n    { name: \"Karehamn\", country: \"Sweden\", capacity: 48, lat: 56.9750, lng: 17.0000, status: \"operational\", turbines: 16, area: 8 },\n    { name: \"Lillgrund\", country: \"Sweden\", capacity: 110, lat: 55.5000, lng: 12.7667, status: \"operational\", turbines: 48, area: 6 },\n    { name: \"Södra Midsjöbanken\", country: \"Sweden\", capacity: 1500, lat: 55.7500, lng: 17.4000, status: \"planned\", turbines: 170, area: 265 },\n    { name: \"Storgrundet\", country: \"Sweden\", capacity: 265, lat: 61.1532, lng: 17.4376, status: \"planned\", turbines: 70, area: 57 },\n    { name: \"Utgrunden\", country: \"Sweden\", capacity: 10.5, lat: 56.3350, lng: 16.2860, status: \"operational\", turbines: 7, area: 2 },\n    { name: \"Bockstigen\", country: \"Sweden\", capacity: 2.5, lat: 57.0389, lng: 18.1378, status: \"operational\", turbines: 5, area: 1 },\n    \n    // Germany\n    { name: \"EnBW Baltic 1\", country: \"Germany\", capacity: 48, lat: 54.6080, lng: 12.6520, status: \"operational\", turbines: 21, area: 7 },\n    { name: \"EnBW Baltic 2\", country: \"Germany\", capacity: 288, lat: 54.9900, lng: 13.1666, status: \"operational\", turbines: 80, area: 27 },\n    { name: \"Arkona\", country: \"Germany\", capacity: 385, lat: 54.7833, lng: 14.1000, status: \"operational\", turbines: 60, area: 39 },\n    { name: \"Wikinger\", country: \"Germany\", capacity: 350, lat: 54.8333, lng: 14.0750, status: \"operational\", turbines: 70, area: 34 },\n    { name: \"Arcadis Ost 1\", country: \"Germany\", capacity: 257, lat: 54.8333, lng: 13.7500, status: \"under construction\", turbines: 27, area: 30 },\n    { name: \"Gennaker\", country: \"Germany\", capacity: 927, lat: 54.5500, lng: 12.2500, status: \"planned\", turbines: 103, area: 176 },\n    { name: \"Nordlicher Grund\", country: \"Germany\", capacity: 630, lat: 54.9831, lng: 6.3582, status: \"planned\", turbines: 64, area: 57 },\n    { name: \"Ostseeschatz\", country: \"Germany\", capacity: 372, lat: 54.3660, lng: 11.9165, status: \"planned\", turbines: 62, area: 40 },\n    { name: \"Baltic Eagle\", country: \"Germany\", capacity: 476, lat: 54.7778, lng: 13.9239, status: \"under construction\", turbines: 50, area: 40 },\n    \n    // Finland\n    { name: \"Tahkoluoto\", country: \"Finland\", capacity: 42, lat: 61.6330, lng: 21.3830, status: \"operational\", turbines: 10, area: 15 },\n    { name: \"Ajos\", country: \"Finland\", capacity: 42, lat: 65.7166, lng: 24.5166, status: \"operational\", turbines: 13, area: 10 },\n    { name: \"Kemi Ajos I\", country: \"Finland\", capacity: 15, lat: 65.6405, lng: 24.5267, status: \"operational\", turbines: 5, area: 6 },\n    { name: \"Kemi Ajos II\", country: \"Finland\", capacity: 16, lat: 65.6563, lng: 24.5402, status: \"operational\", turbines: 3, area: 4 },\n    { name: \"Raahe\", country: \"Finland\", capacity: 44, lat: 64.6500, lng: 24.3500, status: \"planned\", turbines: 8, area: 15 },\n    { name: \"Korsnäs\", country: \"Finland\", capacity: 1300, lat: 62.7500, lng: 21.0500, status: \"planned\", turbines: 70, area: 175 },\n    { name: \"Siikajoki\", country: \"Finland\", capacity: 100, lat: 64.8167, lng: 24.6167, status: \"planned\", turbines: 20, area: 25 },\n    \n    // Poland\n    { name: \"Baltic Power\", country: \"Poland\", capacity: 1200, lat: 55.0000, lng: 18.3330, status: \"under construction\", turbines: 76, area: 131 },\n    { name: \"FEW Baltic II\", country: \"Poland\", capacity: 350, lat: 54.8000, lng: 16.5000, status: \"planned\", turbines: 37, area: 41 },\n    { name: \"Baltica 1\", country: \"Poland\", capacity: 896, lat: 55.2060, lng: 17.1633, status: \"planned\", turbines: 64, area: 108 },\n    { name: \"Baltica 2\", country: \"Poland\", capacity: 1498, lat: 55.3340, lng: 16.8630, status: \"planned\", turbines: 107, area: 190 },\n    { name: \"Baltica 3\", country: \"Poland\", capacity: 1045, lat: 55.3340, lng: 16.7000, status: \"planned\", turbines: 95, area: 131 },\n    { name: \"MFW Bałtyk I\", country: \"Poland\", capacity: 1560, lat: 55.2383, lng: 17.4633, status: \"planned\", turbines: 100, area: 128 },\n    { name: \"MFW Bałtyk II\", country: \"Poland\", capacity: 720, lat: 55.1233, lng: 17.2467, status: \"planned\", turbines: 60, area: 65 },\n    { name: \"MFW Bałtyk III\", country: \"Poland\", capacity: 720, lat: 55.0817, lng: 17.0667, status: \"planned\", turbines: 60, area: 80 },\n    \n    // Estonia\n    { \n      name: \"Estonia Offshore 1\", \n      country: \"Estonia\", \n      capacity: 1000, \n      lat: 58.8000, \n      lng: 22.0000, \n      status: \"planned\",\n      turbines: 115,\n      area: 230, // km²\n      areaPoints: [\n        {lat: 58.7800, lng: 21.9600},\n        {lat: 58.7800, lng: 22.0400},\n        {lat: 58.8200, lng: 22.0400},\n        {lat: 58.8200, lng: 21.9600},\n        {lat: 58.7800, lng: 21.9600}\n      ]\n    },\n    { name: \"Liivi\", country: \"Estonia\", capacity: 1000, lat: 57.8333, lng: 23.5000, status: \"planned\", turbines: 100, area: 160 },\n    { name: \"Hiiumaa\", country: \"Estonia\", capacity: 700, lat: 59.0833, lng: 22.3833, status: \"planned\", turbines: 70, area: 100 },\n    { name: \"Saare-Liivi\", country: \"Estonia\", capacity: 600, lat: 57.9500, lng: 22.6833, status: \"planned\", turbines: 60, area: 90 },\n    \n    // Latvia\n    { name: \"ELWIND\", country: \"Latvia\", capacity: 1000, lat: 57.0830, lng: 20.7500, status: \"planned\", turbines: 100, area: 200 },\n    \n    // Lithuania\n    { name: \"Lithuanian OWF I\", country: \"Lithuania\", capacity: 700, lat: 55.8330, lng: 20.5000, status: \"planned\", turbines: 70, area: 120 },\n    \n    // Special projects\n    { \n      name: \"Bornholm Energy Island\", \n      country: \"Denmark\", \n      capacity: 3000, \n      lat: 55.1000, \n      lng: 14.9000, \n      status: \"planned\",\n      turbines: 200,\n      area: 400, // km²\n      areaPoints: [\n        {lat: 55.0500, lng: 14.8500},\n        {lat: 55.0500, lng: 14.9500},\n        {lat: 55.1500, lng: 14.9500},\n        {lat: 55.1500, lng: 14.8500},\n        {lat: 55.0500, lng: 14.8500}\n      ]\n    },\n    { name: \"Hywind Tampen\", country: \"Norway\", capacity: 88, lat: 61.2500, lng: 20.4000, status: \"operational\", turbines: 11, area: 22 }\n  ];\n  \n  // Function to render wind farms on the map - enhanced with polygon areas and zoom-based detail\n  const renderWindFarms = useCallback(() => {\n    if (!showWindFarms) return null;\n    \n    // Filter wind farms to only show those in current map bounds\n    const visibleWindFarms = windFarmsData.filter(farm => \n      isInMapBounds(farm.lat, farm.lng)\n    );\n    \n    const isHighDetail = currentZoom >= 8;\n    const isMediumDetail = currentZoom >= 6 && currentZoom < 8;\n    \n    return visibleWindFarms\n      .map(windFarm => {\n        const position = { lat: windFarm.lat, lng: windFarm.lng };\n        \n        // Use different colors based on wind farm status\n        const fillColor = windFarm.status === \"operational\" \n          ? '#FFC107' // amber color for operational wind farms\n          : '#4CAF50'; // green color for planned and under construction\n        \n        // Icon for wind farms\n        const windFarmIcon = {\n          path: \"M -2,-2 L 2,-2 L 2,2 L -2,2 Z\", // Square shape\n          scale: 1.5,\n          fillColor: fillColor,\n          fillOpacity: 0.8,\n          strokeColor: '#FFFFFF',\n          strokeWeight: 1,\n          rotation: 45, // Diamond shape\n        };\n        \n        // Determine how to visualize the area based on zoom level\n        let areaVisualization;\n        \n        if (isHighDetail) {\n          // Full detail at high zoom\n          if (windFarm.areaPoints) {\n            // Use specific polygon points if available\n            areaVisualization = (\n              <MemoizedPolygon\n                paths={windFarm.areaPoints}\n                options={{\n                  fillColor: fillColor,\n                  fillOpacity: 0.1,\n                  strokeColor: fillColor,\n                  strokeOpacity: 0.4,\n                  strokeWeight: 1\n                }}\n              />\n            );\n          } else if (windFarm.area) {\n            // If we only have the area in km², create a sized circle\n            // Convert km² to meters radius using area = π*r²\n            const areaInSquareMeters = windFarm.area * 1000000;\n            const radiusInMeters = Math.sqrt(areaInSquareMeters / Math.PI);\n            \n            areaVisualization = (\n              <MemoizedCircle\n                center={position}\n                radius={radiusInMeters}\n                options={{\n                  fillColor: fillColor,\n                  fillOpacity: 0.1,\n                  strokeColor: fillColor,\n                  strokeOpacity: 0.4,\n                  strokeWeight: 1\n                }}\n              />\n            );\n          } else {\n            // Calculate estimated area based on capacity and turbines\n            let estimatedArea;\n            if (windFarm.turbines) {\n              estimatedArea = windFarm.turbines * 1.0;\n            } else {\n              estimatedArea = windFarm.capacity / 6.5;\n            }\n            \n            const areaInSquareMeters = estimatedArea * 1000000;\n            const radiusInMeters = Math.sqrt(areaInSquareMeters / Math.PI);\n            \n            areaVisualization = (\n              <MemoizedCircle\n                center={position}\n                radius={radiusInMeters}\n                options={{\n                  fillColor: fillColor,\n                  fillOpacity: 0.1,\n                  strokeColor: fillColor,\n                  strokeOpacity: 0.4,\n                  strokeWeight: 1\n                }}\n              />\n            );\n          }\n        } else if (isMediumDetail) {\n          // Simplified visualization for medium zoom levels\n          // Just use a circle with a simplified radius calculation\n          let radius;\n          \n          if (windFarm.area) {\n            // Use the known area but with simplified calculation\n            radius = Math.sqrt(windFarm.area) * 1000; // Simplified conversion to meters\n          } else if (windFarm.capacity > 500) {\n            radius = 15000; // Large wind farm\n          } else if (windFarm.capacity > 100) {\n            radius = 10000; // Medium wind farm\n          } else {\n            radius = 5000; // Small wind farm\n          }\n          \n          areaVisualization = (\n            <MemoizedCircle\n              center={position}\n              radius={radius}\n              options={{\n                fillColor: fillColor,\n                fillOpacity: 0.08,\n                strokeColor: fillColor,\n                strokeOpacity: 0.3,\n                strokeWeight: 1\n              }}\n            />\n          );\n        } else {\n          // No area visualization at low zoom levels - just markers\n          areaVisualization = null;\n        }\n        \n        return (\n          <React.Fragment key={`wind-farm-${windFarm.name}`}>\n            <MemoizedMarker\n              position={position}\n              icon={windFarmIcon}\n              onClick={(e) => {\n                // Prevent event propagation to the map\n                if (e && e.domEvent) {\n                  e.domEvent.stopPropagation();\n                }\n                \n                // Don't immediately close the tooltip if we're clicking on a wind farm\n                e && e.stop && e.stop();\n                \n                // Calculate estimated area if not provided\n                let displayArea = windFarm.area;\n                if (!displayArea) {\n                  if (windFarm.turbines) {\n                    displayArea = Math.round(windFarm.turbines * 1.0);\n                  } else {\n                    displayArea = Math.round(windFarm.capacity / 6.5);\n                  }\n                }\n                \n                console.log(\"Wind farm clicked:\", windFarm.name);\n                \n                // Create a wind farm object with all necessary properties\n                const windFarmObj = {\n                  id: `wind-farm-${windFarm.name}`,\n                  name: windFarm.name,\n                  type: 'wind-farm',\n                  flag: windFarm.country,\n                  operator: windFarm.country,\n                  capacity: windFarm.capacity,\n                  status: windFarm.status,\n                  area: displayArea,\n                  turbines: windFarm.turbines,\n                  estimatedArea: !windFarm.area,\n                  isWindFarm: true\n                };\n                \n                // Set immediately without delay\n                setSelectedVessel(windFarmObj);\n              }}\n              zIndex={50}\n            />\n            \n            {areaVisualization}\n          </React.Fragment>\n        );\n      });\n  }, [showWindFarms, isInMapBounds, currentZoom, windFarmsData]);\n  \n  // Separate function to render ONLY radar coverage with zoom-based detail\n  const renderRadarCoverage = useCallback(() => {\n    if (!showWindFarms || !showRadarCoverage) return null;\n    \n    // Skip rendering radar coverage at low zoom levels for performance\n    if (currentZoom < 6) return null;\n    \n    // Filter to only show radar coverage for wind farms in the current bounds\n    const visibleWindFarms = windFarmsData.filter(farm => \n      isInMapBounds(farm.lat, farm.lng)\n    );\n    \n    const isHighDetail = currentZoom >= 8;\n    \n    return visibleWindFarms.map(windFarm => {\n      const position = { lat: windFarm.lat, lng: windFarm.lng };\n      const radarCoverageRadius = 77784; // 42 nautical miles in meters\n      \n      return (\n        <MemoizedCircle\n          key={`radar-${windFarm.name}`}\n          center={position}\n          radius={radarCoverageRadius}\n          options={{\n            fillColor: '#FF0000',\n            fillOpacity: isHighDetail ? 0.05 : 0.03,\n            strokeColor: '#FF0000',\n            strokeOpacity: isHighDetail ? 0.7 : 0.5,\n            strokeWeight: isHighDetail ? 1 : 0.5,\n            strokeDashArray: [5, 5], // Dashed line pattern\n          }}\n        />\n      );\n    });\n  }, [showWindFarms, showRadarCoverage, isInMapBounds, currentZoom, windFarmsData]);\n  \n  // Function to render vessel radar coverage based on gross tonnage with zoom-based detail\n  const renderVesselRadarCoverage = useCallback(() => {\n    // Skip rendering vessel radar at low zoom levels for performance\n    if (currentZoom < 6) return null;\n    \n    const result = [];\n    \n    // Render medium vessels (GT 300-2999) with 20 NM radar\n    if (showVesselRadar) {\n      // Filter vessels to show radar only for commercial vessels with GT 300-2999\n      const mediumVessels = vessels.filter(v => \n        (v.type === 'commercial' || v.type === 'tanker' || v.type === 'passenger') && \n        v.grossTonnage >= 300 && v.grossTonnage < 3000 &&\n        isInMapBounds(v.position[1], v.position[0])\n      );\n      \n      const isHighDetail = currentZoom >= 8;\n      \n      mediumVessels.forEach(vessel => {\n        const position = { lat: vessel.position[1], lng: vessel.position[0] };\n        \n        // Medium vessels have 20 NM radar range\n        const radarRangeNM = 20;\n        // Convert NM to meters (1 NM = 1852 meters)\n        const radarRangeMeters = radarRangeNM * 1852;\n        \n        result.push(\n          <MemoizedCircle\n            key={`vessel-radar-${vessel.id}`}\n            center={position}\n            radius={radarRangeMeters}\n            options={{\n              fillColor: '#4285F4',\n              fillOpacity: isHighDetail ? 0.03 : 0.02,\n              strokeColor: '#4285F4',\n              strokeOpacity: isHighDetail ? 0.6 : 0.4,\n              strokeWeight: isHighDetail ? 1 : 0.5,\n              strokeDashArray: [5, 5], // Dashed line pattern\n            }}\n          />\n        );\n      });\n    }\n    \n    // Render large vessels (GT >= 3000) with 40 NM radar\n    if (showLargeVesselRadar) {\n      // Filter vessels to show radar only for commercial vessels with GT >= 3000\n      const largeVessels = vessels.filter(v => \n        (v.type === 'commercial' || v.type === 'tanker' || v.type === 'passenger') && \n        v.grossTonnage >= 3000 &&\n        isInMapBounds(v.position[1], v.position[0])\n      );\n      \n      const isHighDetail = currentZoom >= 8;\n      \n      largeVessels.forEach(vessel => {\n        const position = { lat: vessel.position[1], lng: vessel.position[0] };\n        \n        // Large vessels have 40 NM radar range\n        const radarRangeNM = 40;\n        // Convert NM to meters (1 NM = 1852 meters)\n        const radarRangeMeters = radarRangeNM * 1852;\n        \n        result.push(\n          <MemoizedCircle\n            key={`large-vessel-radar-${vessel.id}`}\n            center={position}\n            radius={radarRangeMeters}\n            options={{\n              fillColor: '#4285F4',\n              fillOpacity: isHighDetail ? 0.03 : 0.02,\n              strokeColor: '#4285F4',\n              strokeOpacity: isHighDetail ? 0.6 : 0.4,\n              strokeWeight: isHighDetail ? 1 : 0.5,\n              strokeDashArray: [5, 5], // Dashed line pattern\n            }}\n          />\n        );\n      });\n    }\n    \n    return result;\n  }, [showVesselRadar, showLargeVesselRadar, vessels, isInMapBounds, currentZoom]);\n  \n  // Function to render SeaMesh interception lines between vessel radars and Russian vessels\n  const renderSeaMeshInterception = useCallback(() => {\n    if (!showSeaMesh || currentZoom < 6) return null;\n    \n    const result = [];\n    \n    // Get medium vessels with radar capability (GT 300-2999)\n    const mediumRadarVessels = showVesselRadar ? vessels.filter(v => \n      (v.type === 'commercial' || v.type === 'tanker' || v.type === 'passenger') && \n      v.grossTonnage >= 300 && v.grossTonnage < 3000 &&\n      isInMapBounds(v.position[1], v.position[0])\n    ) : [];\n    \n    // Get large vessels with radar capability (GT >= 3000)\n    const largeRadarVessels = showLargeVesselRadar ? vessels.filter(v => \n      (v.type === 'commercial' || v.type === 'tanker' || v.type === 'passenger') && \n      v.grossTonnage >= 3000 &&\n      isInMapBounds(v.position[1], v.position[0])\n    ) : [];\n    \n    // Get all Russian vessels in bounds\n    const russianVessels = vessels.filter(v => \n      v.isRussian && isInMapBounds(v.position[1], v.position[0])\n    );\n    \n    const hasRadarVessels = mediumRadarVessels.length > 0 || largeRadarVessels.length > 0;\n    if (!hasRadarVessels || russianVessels.length === 0) return result;\n    \n    // Calculate all possible interceptions (Russian vessel + distance + radar vessel)\n    const interceptions = [];\n    \n    russianVessels.forEach(russianVessel => {\n      // Add medium vessel interceptions\n      mediumRadarVessels.forEach(radarVessel => {\n        const dx = radarVessel.position[0] - russianVessel.position[0];\n        const dy = radarVessel.position[1] - russianVessel.position[1];\n        const distance = Math.sqrt(dx * dx + dy * dy);\n        \n        interceptions.push({\n          russianVessel,\n          radarVessel,\n          distance,\n          isLargeVessel: false\n        });\n      });\n      \n      // Add large vessel interceptions\n      largeRadarVessels.forEach(radarVessel => {\n        const dx = radarVessel.position[0] - russianVessel.position[0];\n        const dy = radarVessel.position[1] - russianVessel.position[1];\n        const distance = Math.sqrt(dx * dx + dy * dy);\n        \n        interceptions.push({\n          russianVessel,\n          radarVessel,\n          distance,\n          isLargeVessel: true\n        });\n      });\n    });\n    \n    // Sort interceptions by distance and take only the 5 closest\n    interceptions.sort((a, b) => a.distance - b.distance);\n    const topInterceptions = interceptions.slice(0, 5);\n    \n    // Draw lines for the closest interceptions\n    topInterceptions.forEach(({ russianVessel, radarVessel, isLargeVessel }) => {\n      result.push(\n        <Polyline\n          key={`seamesh-${russianVessel.id}-${radarVessel.id}`}\n          path={[\n            { lat: russianVessel.position[1], lng: russianVessel.position[0] },\n            { lat: radarVessel.position[1], lng: radarVessel.position[0] }\n          ]}\n          options={{\n            strokeColor: isLargeVessel ? '#FF7F00' : '#FF4500', // Different color for large vessels\n            strokeOpacity: 0.7,\n            strokeWeight: isLargeVessel ? 2 : 1.5, // Thicker line for large vessels\n            geodesic: true,\n            icons: [{\n              icon: {\n                path: 'M 0,-1 0,1',\n                strokeOpacity: 1,\n                scale: isLargeVessel ? 4 : 3  // Larger icons for large vessels\n              },\n              offset: '0',\n              repeat: isLargeVessel ? '20px' : '15px' // Different pattern for large vessels\n            }]\n          }}\n        />\n      );\n    });\n    \n    return result;\n  }, [showSeaMesh, showVesselRadar, showLargeVesselRadar, vessels, isInMapBounds, currentZoom]);\n  \n  // Function to render AirMesh interception lines between wind farm radars and Russian drones\n  const renderAirMeshInterception = useCallback(() => {\n    if (!showAirMesh || currentZoom < 6) return null;\n    \n    const result = [];\n    \n    // Only proceed if we have wind farms with radar and wind farms are shown\n    if (!showWindFarms || !showRadarCoverage) return result;\n    \n    // Filter to only show wind farms in the current bounds\n    const radarWindFarms = windFarmsData.filter(farm => \n      isInMapBounds(farm.lat, farm.lng)\n    );\n    \n    // Get all Russian drones in bounds\n    const russianDrones = vessels.filter(v => \n      v.isRussian && v.type === 'drone' && isInMapBounds(v.position[1], v.position[0])\n    );\n    \n    if (radarWindFarms.length === 0 || russianDrones.length === 0) return result;\n    \n    // Process each drone separately for intercepts\n    russianDrones.forEach(drone => {\n      // Calculate all possible interceptions for this drone\n      const droneInterceptions = [];\n      \n      radarWindFarms.forEach(windFarm => {\n        const dx = windFarm.lng - drone.position[0];\n        const dy = windFarm.lat - drone.position[1];\n        const distance = Math.sqrt(dx * dx + dy * dy);\n        \n        droneInterceptions.push({\n          drone,\n          windFarm,\n          distance\n        });\n      });\n      \n      // Sort interceptions by distance and take only the 5 closest for each drone\n      droneInterceptions.sort((a, b) => a.distance - b.distance);\n      const topDroneInterceptions = droneInterceptions.slice(0, 5);\n      \n      // Draw lines for the closest interceptions for this drone\n      topDroneInterceptions.forEach(({ drone, windFarm }) => {\n        result.push(\n          <Polyline\n            key={`airmesh-${drone.id}-${windFarm.name}`}\n            path={[\n              { lat: drone.position[1], lng: drone.position[0] },\n              { lat: windFarm.lat, lng: windFarm.lng }\n            ]}\n            options={{\n              strokeColor: '#4B0082', // Indigo color for Air Mesh\n              strokeOpacity: 0.8,\n              strokeWeight: 2,\n              geodesic: true,\n              icons: [{\n                icon: {\n                  path: 'M 0,-1 0,1',\n                  strokeOpacity: 1,\n                  scale: 4\n                },\n                offset: '0',\n                repeat: '20px'\n              }]\n            }}\n          />\n        );\n      });\n    });\n    \n    return result;\n  }, [showAirMesh, showWindFarms, showRadarCoverage, windFarmsData, vessels, isInMapBounds, currentZoom]);\n  \n  // Update the map when display mode changes\n  useEffect(() => {\n    // This effect updates the Google Maps styling when display mode changes\n    mapOptions.styles = getMapStyle(displayMode);\n    \n    // If map is loaded, we can update its options\n    if (mapRef.current) {\n      mapRef.current.setOptions(mapOptions);\n    }\n  }, [displayMode, mapOptions]);\n  \n  // onMapLoad with error handling \n  const onMapLoad = useCallback((map) => {\n    console.log(\"Map loaded successfully\");\n    mapRef.current = map;\n    \n    // Make sure dragging is enabled\n    map.setOptions({\n      draggable: true,\n      zoomControl: false,\n      scrollwheel: true,\n      disableDoubleClickZoom: false\n    });\n    \n    // We can store the map's zoom control functionality\n    zoomRef.current = {\n      zoomIn: () => {\n        const newZoom = map.getZoom() + 1;\n        map.setZoom(newZoom);\n        setCurrentZoom(newZoom);\n      },\n      zoomOut: () => {\n        const newZoom = map.getZoom() - 1;\n        map.setZoom(newZoom);\n        setCurrentZoom(newZoom);\n      }\n    };\n    \n    // Get initial bounds\n    if (map.getBounds()) {\n      const bounds = map.getBounds();\n      setMapBounds({\n        north: bounds.getNorthEast().lat(),\n        east: bounds.getNorthEast().lng(),\n        south: bounds.getSouthWest().lat(),\n        west: bounds.getSouthWest().lng()\n      });\n      \n      // Initialize current center from the map\n      const center = map.getCenter();\n      setCurrentMapCenter({\n        lat: center.lat(),\n        lng: center.lng()\n      });\n    }\n    \n    // Set initial zoom\n    setCurrentZoom(map.getZoom());\n  }, []);\n  \n  // Add a click handler to the map background to deselect the current vessel\n  const handleMapClick = () => {\n    // Simply close the vessel display when map is clicked\n    // Using the simplest possible approach to avoid any errors\n    setSelectedVessel(null);\n  };\n  \n  // Get visible vessel count - memoized for sidebar display\n  const visibleVesselCount = useMemo(() => \n    vessels.filter(v => {\n      const matchesFilter = filters.all || \n                         (filters.commercial && v.type === 'commercial') || \n                         (filters.military && v.type === 'military') || \n                         (filters.submarine && v.type === 'submarine') || \n                         (filters.drone && v.type === 'drone') || \n                         (filters.russian && v.isRussian && v.type !== 'submarine' && v.type !== 'drone');\n      return matchesFilter;\n    }).length\n  , [vessels, filters]);\n  \n  // Get only vessels visible in current sidebar (both filtered and in bounds) - memoized\n  const displayedVessels = useMemo(() => \n    vessels.filter(v => {\n      const matchesFilter = filters.all || \n                          (filters.commercial && v.type === 'commercial') || \n                          (filters.military && v.type === 'military') || \n                          (filters.submarine && v.type === 'submarine') || \n                          (filters.drone && v.type === 'drone') || \n                          (filters.russian && v.isRussian && v.type !== 'submarine' && v.type !== 'drone');\n      \n      const inBounds = isInMapBounds(v.position[1], v.position[0]);\n      \n      return matchesFilter && inBounds;\n    }).slice(0, 50) // Still limit to 50 for performance\n  , [vessels, filters, isInMapBounds]);\n  \n  // Memoize UI elements that don't need frequent updates\n  const controlPanels = useMemo(() => (\n    <>\n      <div className=\"control-panel\">\n        <h2 className=\"text-sm font-semibold mb-3 palantir-heading\">Display Mode</h2>\n        <div className=\"flex flex-col gap-3\">\n          <button \n            className=\"active\"\n            onClick={() => setDisplayMode('radar')}\n          >\n            <Radio size={16} className=\"mr-1\" />\n            Radar\n          </button>\n        </div>\n      </div>\n      \n      <div className=\"control-panel\">\n        <h2 className=\"text-sm font-semibold mb-2 palantir-heading\">Vessel Filter</h2>\n        <div className=\"flex flex-row flex-wrap\">\n          <button \n            className={filters.all ? 'active' : ''} \n            onClick={() => {\n              // If all is being turned on, turn off other filters\n              if (!filters.all) {\n                setFilters({\n                  all: true,\n                  commercial: false, \n                  military: false,\n                  submarine: false,\n                  drone: false,\n                  russian: false\n                });\n              } else {\n                // If all is being turned off, leave other filters unchanged\n                setFilters({\n                  ...filters,\n                  all: false\n                });\n              }\n            }}\n          >\n            All\n          </button>\n          <button \n            className={filters.commercial ? 'active' : ''} \n            onClick={() => {\n              // Toggle the commercial filter\n              const newCommercialState = !filters.commercial;\n              setFilters({\n                ...filters,\n                all: false,\n                commercial: newCommercialState\n              });\n            }}\n          >\n            Commercial\n          </button>\n          <button \n            className={filters.military ? 'active' : ''} \n            onClick={() => {\n              // Toggle the military filter\n              const newMilitaryState = !filters.military;\n              setFilters({\n                ...filters,\n                all: false,\n                military: newMilitaryState\n              });\n            }}\n          >\n            Military\n          </button>\n          <button \n            className={filters.submarine ? 'active' : ''} \n            onClick={() => {\n              // Toggle the submarine filter\n              const newSubmarineState = !filters.submarine;\n              setFilters({\n                ...filters,\n                all: false,\n                submarine: newSubmarineState\n              });\n            }}\n          >\n            Russian Submarines\n          </button>\n          <button \n            className={filters.drone ? 'active' : ''} \n            onClick={() => {\n              // Toggle the drone filter\n              const newDroneState = !filters.drone;\n              setFilters({\n                ...filters,\n                all: false,\n                drone: newDroneState\n              });\n            }}\n          >\n            Russian Drones\n          </button>\n          <button \n            className={filters.russian ? 'active' : ''} \n            onClick={() => {\n              // Toggle the russian filter\n              const newRussianState = !filters.russian;\n              setFilters({\n                ...filters,\n                all: false,\n                russian: newRussianState\n              });\n            }}\n          >\n            Russian Ships\n          </button>\n        </div>\n      </div>\n\n      <div className=\"control-panel\">\n        <h2 className=\"text-sm font-semibold mb-3 palantir-heading\">Wind Infrastructure</h2>\n        <div className=\"flex flex-col gap-2\">\n          <button \n            className={showWindFarms ? 'active' : ''}\n            onClick={() => {\n              const newShowWindFarms = !showWindFarms;\n              setShowWindFarms(newShowWindFarms);\n              // If turning off wind farms, ensure radar coverage is also off\n              if (!newShowWindFarms) {\n                setShowRadarCoverage(false);\n              }\n            }}\n          >\n            <Wind size={16} className=\"mr-1\" />\n            Wind Farms {showWindFarms ? '(Shown)' : '(Hidden)'}\n          </button>\n          <button \n            className={showRadarCoverage ? 'active' : ''}\n            onClick={() => {\n              setShowRadarCoverage(!showRadarCoverage);\n            }}\n            disabled={!showWindFarms}\n            style={{ opacity: !showWindFarms ? 0.5 : 1 }}\n          >\n            <Radar size={16} className=\"mr-1\" />\n            Radar Coverage (42 NM)\n          </button>\n          <button \n            className={showAirMesh ? 'active' : ''}\n            onClick={() => {\n              setShowAirMesh(!showAirMesh);\n            }}\n            disabled={!showWindFarms || !showRadarCoverage}\n            style={{ \n              opacity: (!showWindFarms || !showRadarCoverage) ? 0.5 : 1,\n              backgroundColor: showAirMesh ? '#4B0082' : 'transparent',\n              color: showAirMesh ? '#FFFFFF' : 'inherit', \n              padding: '8px 16px',\n              borderRadius: '4px',\n              border: '1px solid #4B0082',\n              cursor: 'pointer'\n            }}\n          >\n            <Radar size={16} className=\"mr-1\" />\n            Air Mesh\n          </button>\n        </div>\n      </div>\n\n      <div className=\"control-panel\">\n        <h2 className=\"text-sm font-semibold mb-3 palantir-heading\">Commercial Vessel Infrastructure</h2>\n        <div className=\"flex flex-col gap-2\">\n          <button \n            className={showVesselRadar ? 'active' : ''}\n            onClick={() => setShowVesselRadar(!showVesselRadar)}\n          >\n            <Radar size={16} className=\"mr-1\" />\n            Vessel Radar (GT 300-2999)\n          </button>\n          <button \n            className={showLargeVesselRadar ? 'active' : ''}\n            onClick={() => setShowLargeVesselRadar(!showLargeVesselRadar)}\n          >\n            <Radar size={16} className=\"mr-1\" />\n            Vessel Radar (GT &gt; 3000)\n          </button>\n          <button \n            className={showSeaMesh ? 'active' : ''}\n            onClick={() => setShowSeaMesh(!showSeaMesh)}\n            disabled={!showVesselRadar && !showLargeVesselRadar}\n            style={{ \n              opacity: (!showVesselRadar && !showLargeVesselRadar) ? 0.5 : 1,\n              backgroundColor: showSeaMesh ? '#8B0000' : 'transparent',\n              color: showSeaMesh ? '#FFFFFF' : 'inherit', \n              padding: '8px 16px',\n              borderRadius: '4px',\n              border: '1px solid #8B0000',\n              cursor: 'pointer'\n            }}\n          >\n            <Radar size={16} className=\"mr-1\" />\n            SeaMesh\n          </button>\n        </div>\n      </div>\n      \n      {/* Add simulation controls panel */}\n      <div className=\"control-panel\">\n        <h2 className=\"text-sm font-semibold mb-3 palantir-heading\">Vessel Simulation</h2>\n        <div className=\"flex flex-col gap-3\">\n          <button \n            className={simulationEnabled ? 'active' : ''}\n            onClick={() => setSimulationEnabled(!simulationEnabled)}\n          >\n            <Ship size={16} className=\"mr-1\" />\n            {simulationEnabled ? 'Pause Movement' : 'Start Movement'}\n          </button>\n          <div className=\"flex flex-col\">\n            <span className=\"text-xs mb-1\">Speed: {simulationSpeed}x</span>\n            <input \n              type=\"range\" \n              min=\"1\" \n              max=\"50\" \n              value={simulationSpeed}\n              onChange={(e) => setSimulationSpeed(parseInt(e.target.value))}\n              className=\"w-2/5 max-w-[80px] accent-blue-500\"\n            />\n          </div>\n        </div>\n      </div>\n    </>\n  ), [displayMode, filters, showWindFarms, showRadarCoverage, showVesselRadar, showLargeVesselRadar, showSeaMesh, showAirMesh, simulationEnabled, simulationSpeed]);\n  \n  // Add debugging for selectedVessel state changes\n  useEffect(() => {\n    console.log(\"selectedVessel updated:\", selectedVessel);\n    \n    // Add debugging to check if selectedVessel is correctly set\n    if (selectedVessel) {\n      console.log(\"Selected vessel details:\", {\n        id: selectedVessel.id,\n        name: selectedVessel.name,\n        type: selectedVessel.type,\n        isWindFarm: selectedVessel.isWindFarm\n      });\n      \n      // Force a small UI update to trigger re-renders\n      const refreshTimer = setTimeout(() => {\n        // This just forces a small UI update\n        const dummyEvent = new Event('resize');\n        window.dispatchEvent(dummyEvent);\n      }, 100);\n      \n      return () => clearTimeout(refreshTimer);\n    }\n  }, [selectedVessel]);\n  \n  // Simplified reset function that resets to initial state\n  const handleReset = () => {\n    // Attempt to reset the map view if available\n    if (mapRef.current) {\n      mapRef.current.setCenter(defaultCenter);\n      mapRef.current.setZoom(6);\n    }\n    \n    // Reset state\n    setDisplayMode('radar');\n    setFilters({\n      all: true,\n      commercial: false,\n      military: false,\n      submarine: false,\n      drone: false,\n      russian: false\n    });\n    setShowWindFarms(false);\n    setShowRadarCoverage(false);\n    setShowVesselRadar(false);\n    setShowLargeVesselRadar(false);\n    setShowSeaMesh(false);\n    setShowAirMesh(false);\n    setSelectedVessel(null);\n    setSimulationEnabled(false);\n    setSimulationSpeed(10);\n    \n    // Force map components to remount\n    setMapKey(Date.now());\n  };\n  \n  // Update UI to include display mode toggle\n  return (\n    <div className=\"baltic-tracker-container\">\n      <div className=\"flex h-screen\">\n        {showSidebar && (\n          <div className=\"sidebar w-80\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h1 className=\"text-xl font-semibold palantir-heading\" style={{ color: '#8B0000' }}>Baltic Sea Tracker</h1>\n              <button onClick={() => setShowSidebar(false)} className=\"text-gray-400 hover:text-white\">\n                <Menu size={20} />\n              </button>\n            </div>\n            \n            {controlPanels}\n          </div>\n        )}\n\n        <div className=\"flex-1 relative\">\n          {!showSidebar && (\n            <button\n              className=\"absolute top-4 left-4 z-10 bg-gray-800 p-2 rounded-md hover:bg-gray-700\"\n              onClick={() => setShowSidebar(true)}\n            >\n              <Menu size={20} />\n            </button>\n          )}\n          \n          {/* Simplified Google Maps integration */}\n          {loadError && (\n            <div className=\"w-full h-full flex flex-col items-center justify-center bg-gray-900 text-white p-4\">\n              <div className=\"text-xl mb-4\">Error loading Google Maps: {loadError.message}</div>\n            </div>\n          )}\n          \n          {!loadError && isLoaded ? (\n            <GoogleMap\n              mapContainerStyle={mapContainerStyle}\n              center={mapCenter}\n              zoom={mapZoom}\n              onClick={handleMapClick}\n              onLoad={onMapLoad}\n              options={mapOptions}\n              onZoomChanged={() => {\n                if (mapRef.current) {\n                  setCurrentZoom(mapRef.current.getZoom());\n                }\n              }}\n              onBoundsChanged={() => {\n                if (mapRef.current && mapRef.current.getBounds()) {\n                  const bounds = mapRef.current.getBounds();\n                  setMapBounds({\n                    north: bounds.getNorthEast().lat(),\n                    east: bounds.getNorthEast().lng(),\n                    south: bounds.getSouthWest().lat(),\n                    west: bounds.getSouthWest().lng()\n                  });\n                  \n                  const center = mapRef.current.getCenter();\n                  setCurrentMapCenter({\n                    lat: center.lat(),\n                    lng: center.lng()\n                  });\n                }\n              }}\n              key={mapKey} /* Add a key to force remount when needed */\n            >\n              {vessels.length > 0 && renderVessels()}\n              {showWindFarms && renderWindFarms()}\n              {showRadarCoverage && renderRadarCoverage()}\n              {(showVesselRadar || showLargeVesselRadar) && renderVesselRadarCoverage()}\n              {showSeaMesh && renderSeaMeshInterception()}\n              {showAirMesh && renderAirMeshInterception()}\n              \n              {/* New vessel detail panel positioned in top right corner */}\n              {selectedVessel && (\n                <div \n                  className=\"vessel-tooltip\"\n                  onClick={(e) => {\n                    // Stop propagation to prevent map click from closing the tooltip\n                    e.stopPropagation();\n                  }}\n                  style={{\n                    position: 'absolute',\n                    right: '20px',\n                    top: '20px',\n                    backgroundColor: 'rgba(17, 24, 39, 0.95)',\n                    borderRadius: '4px',\n                    padding: '12px',\n                    boxShadow: '0 4px 12px rgba(0, 0, 0, 0.7)',\n                    zIndex: 9999,\n                    maxWidth: '280px',\n                    border: '1px solid #3d85c6',\n                    color: 'white',\n                    fontFamily: \"'Inter', 'Roboto', sans-serif\"\n                  }}\n                >\n                  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '10px' }}>\n                    <h3 style={{ fontSize: '14px', fontWeight: '600', margin: 0, color: '#3d85c6' }} className=\"palantir-heading\">\n                      {selectedVessel.name || 'Unknown Vessel'}\n                    </h3>\n                    <button \n                      onClick={(e) => {\n                        // Prevent any event bubbling and close the tooltip\n                        e.preventDefault();\n                        e.stopPropagation();\n                        setSelectedVessel(null);\n                      }}\n                      style={{ \n                        background: 'none', \n                        border: 'none', \n                        color: '#6b7280', \n                        fontSize: '16px',\n                        cursor: 'pointer',\n                        padding: '0 5px'\n                      }}\n                    >\n                      ×\n                    </button>\n                  </div>\n                  \n                  <div style={{ fontSize: '12px', color: '#d1d5db' }}>\n                    {selectedVessel.isWindFarm ? (\n                      <>\n                        <div style={{ margin: '4px 0', display: 'flex', justifyContent: 'space-between' }}>\n                          <span style={{ color: '#9ca3af' }}>Type:</span>\n                          <span>Wind Farm</span>\n                        </div>\n                        <div style={{ margin: '4px 0', display: 'flex', justifyContent: 'space-between' }}>\n                          <span style={{ color: '#9ca3af' }}>Country:</span>\n                          <span>{selectedVessel.flag}</span>\n                        </div>\n                        <div style={{ margin: '4px 0', display: 'flex', justifyContent: 'space-between' }}>\n                          <span style={{ color: '#9ca3af' }}>Capacity:</span>\n                          <span>{selectedVessel.capacity} MW</span>\n                        </div>\n                        {selectedVessel.turbines && (\n                          <div style={{ margin: '4px 0', display: 'flex', justifyContent: 'space-between' }}>\n                            <span style={{ color: '#9ca3af' }}>Turbines:</span>\n                            <span>{selectedVessel.turbines}</span>\n                          </div>\n                        )}\n                        {selectedVessel.area && (\n                          <div style={{ margin: '4px 0', display: 'flex', justifyContent: 'space-between' }}>\n                            <span style={{ color: '#9ca3af' }}>Area:</span>\n                            <span>{selectedVessel.area} km²</span>\n                          </div>\n                        )}\n                        <div style={{ margin: '4px 0', display: 'flex', justifyContent: 'space-between' }}>\n                          <span style={{ color: '#9ca3af' }}>Status:</span>\n                          <span>{selectedVessel.status}</span>\n                        </div>\n                      </>\n                    ) : (\n                      <>\n                        <div style={{ margin: '4px 0', display: 'flex', justifyContent: 'space-between' }}>\n                          <span style={{ color: '#9ca3af' }}>Flag:</span>\n                          <span>{selectedVessel.flag}</span>\n                        </div>\n                        <div style={{ margin: '4px 0', display: 'flex', justifyContent: 'space-between' }}>\n                          <span style={{ color: '#9ca3af' }}>Type:</span>\n                          <span>{selectedVessel.type}</span>\n                        </div>\n                        {selectedVessel.operator && (\n                          <div style={{ margin: '4px 0', display: 'flex', justifyContent: 'space-between' }}>\n                            <span style={{ color: '#9ca3af' }}>Operator:</span>\n                            <span>{selectedVessel.operator}</span>\n                          </div>\n                        )}\n                        {selectedVessel.length && (\n                          <div style={{ margin: '4px 0', display: 'flex', justifyContent: 'space-between' }}>\n                            <span style={{ color: '#9ca3af' }}>Length:</span>\n                            <span>{selectedVessel.length}m</span>\n                          </div>\n                        )}\n                        {selectedVessel.speed && (\n                          <div style={{ margin: '4px 0', display: 'flex', justifyContent: 'space-between' }}>\n                            <span style={{ color: '#9ca3af' }}>Speed:</span>\n                            <span>{selectedVessel.speed} knots</span>\n                          </div>\n                        )}\n                        {selectedVessel.heading && (\n                          <div style={{ margin: '4px 0', display: 'flex', justifyContent: 'space-between' }}>\n                            <span style={{ color: '#9ca3af' }}>Heading:</span>\n                            <span>{selectedVessel.heading}°</span>\n                          </div>\n                        )}\n                        {selectedVessel.grossTonnage && (\n                          <div style={{ margin: '4px 0', display: 'flex', justifyContent: 'space-between' }}>\n                            <span style={{ color: '#9ca3af' }}>Gross Tonnage:</span>\n                            <span>{selectedVessel.grossTonnage} GT</span>\n                          </div>\n                        )}\n                        {selectedVessel.type === 'submarine' && (\n                          <div style={{ margin: '4px 0', display: 'flex', justifyContent: 'space-between' }}>\n                            <span style={{ color: '#9ca3af' }}>Depth:</span>\n                            <span>{selectedVessel.depth}m ({selectedVessel.isSubmerged ? 'Submerged' : 'Surfaced'})</span>\n                          </div>\n                        )}\n                      </>\n                    )}\n                  </div>\n                </div>\n              )}\n            </GoogleMap>\n          ) : !loadError ? (\n            <div className=\"w-full h-full flex items-center justify-center bg-gray-900 text-white\">\n              <div className=\"text-xl\">Loading map...</div>\n            </div>\n          ) : null}\n          \n          <div className=\"absolute bottom-4 right-4 flex gap-2\">\n            <button \n              onClick={() => zoomRef.current && zoomRef.current.zoomIn()}\n              className=\"bg-gray-800 hover:bg-gray-700 p-2 rounded-md shadow-lg\"\n            >\n              <ZoomIn size={20} className=\"text-blue-400\" />\n            </button>\n            <button \n              onClick={() => zoomRef.current && zoomRef.current.zoomOut()}\n              className=\"bg-gray-800 hover:bg-gray-700 p-2 rounded-md shadow-lg\"\n            >\n              <ZoomOut size={20} className=\"text-blue-400\" />\n            </button>\n          </div>\n          \n          {/* Move the Reset filters button to bottom-right corner */}\n          <button\n            onClick={handleReset}\n            style={{\n              position: 'absolute',\n              bottom: '20px',\n              right: '20px',\n              backgroundColor: '#8B0000',\n              color: '#FFFFFF',\n              padding: '8px 16px',\n              borderRadius: '4px',\n              border: 'none',\n              fontWeight: 'normal',\n              cursor: 'pointer',\n              boxShadow: '0 2px 4px rgba(0, 0, 0, 0.5)',\n              zIndex: 9999,\n              fontSize: '14px'\n            }}\n          >\n            Reset filters\n          </button>\n        </div>\n      </div>\n      \n      <div className=\"bg-gray-800 p-2 text-center text-sm text-gray-400\">\n        <div className=\"flex justify-center items-center\">\n          <Info size={16} className=\"mr-1 text-blue-400\" />\n          <span style={{ color: '#8B0000' }}>Baltic Sea Tracker - {\n            filters.all ? \n              vessels.length : \n              vessels.filter(v => \n                (filters.commercial && v.type === 'commercial') || \n                (filters.military && v.type === 'military') || \n                (filters.submarine && v.type === 'submarine') || \n                (filters.drone && v.type === 'drone') || \n                (filters.russian && v.isRussian && v.type !== 'submarine' && v.type !== 'drone')\n              ).length\n          } vessels in {displayMode} mode | Zoom: {currentZoom}</span>\n          {showWindFarms && <span className=\"mx-1 text-amber-400\">| Wind Farms Shown</span>}\n          {showRadarCoverage && showWindFarms && <span className=\"mx-1 text-red-400\">| Radar Coverage (42 NM)</span>}\n          {showVesselRadar && <span className=\"mx-1 text-blue-400\">| Vessel Radar (20/40 NM)</span>}\n          {showSeaMesh && <span className=\"mx-1 text-orange-400\">| SeaMesh Active</span>}\n          {showAirMesh && <span className=\"mx-1 text-purple-400\">| AirMesh Active</span>}\n          {simulationEnabled && <span className=\"mx-1 text-green-400\">| Vessel Movement ({simulationSpeed}x)</span>}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default BalticSeaTracker;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}